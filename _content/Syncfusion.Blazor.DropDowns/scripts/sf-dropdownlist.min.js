(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"./bundles/sf-dropdownlist.js":function(e,t,i){"use strict";i.r(t);i("./modules/sf-dropdownlist.js")},"./modules/sf-dropdownlist.js":function(e,t){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.DropDownList=function(){"use strict";var e="e-list-group-item",t=function(){function t(e,t,i,s,o){this.activeIndex=null,this.prevSelectPoints={},window.sfBlazor=window.sfBlazor,this.dataId=e,this.containerElement=t,this.element=i,this.options=o,window.sfBlazor.setCompInstance(this),this.dotNetRef=s}return t.prototype.initialize=function(){this.keyConfigure={tab:"tab",enter:"13",escape:"27",end:"35",home:"36",down:"40",up:"38",pageUp:"33",pageDown:"34",open:"alt+40",close:"shift+tab",hide:"alt+38",space:"32"},sf.base.Browser.isDevice||new sf.base.KeyboardEvents(this.containerElement,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),"SfComboBox"===this.options.moduleName&&sf.base.EventHandler.add(this.element,"keydown",this.onFilterDown,this)},t.prototype.setAutoFillSelection=function(e){this.isAndroidAutoFill(e)||this.autoFillSelection(e)},t.prototype.onFilterDown=function(e){13!==e.keyCode&&40!==e.keyCode&&38!==e.keyCode&&9!==e.keyCode&&(this.prevSelectPoints=this.getSelectionPoints())},t.prototype.getSelectionPoints=function(){var e=this.element;return{start:Math.abs(e.selectionStart),end:Math.abs(e.selectionEnd)}},t.prototype.autoFillSelection=function(e){var t=this.getSelectionPoints(),i=this.element.value.substr(0,t.start);if(i&&i.toLowerCase()===e.substr(0,t.start).toLowerCase()){var s=i+e.substr(i.length,e.length);this.element.value=s,this.element.setSelectionRange(t.start,this.element.value.length)}else this.element.value=e,this.element.setSelectionRange(0,this.element.value.length)},t.prototype.isAndroidAutoFill=function(e){if(sf.base.Browser.isAndroid){var t=this.getSelectionPoints(),i=this.prevSelectPoints.end,s=t.end,o=this.prevSelectPoints.start,n=t.start;return 0!==i&&(i===e.length&&o===e.length||o>n&&i>s||i===s&&o===n)}return!1},t.prototype.removeFillSelection=function(){var e=this.getSelectionPoints();this.element.setSelectionRange(e.end,e.end)},t.prototype.keyActionHandler=function(e){var t={Action:e.action,Key:e.key,Events:e,Type:e.type};this.isDisposed||this.dotNetRef.invokeMethodAsync("KeyActionHandler",t),("tab"!==e.action&&"close"!==e.action&&"space"!==e.action&&"enter"!==e.action&&"open"!==e.action&&("SfDropDownList"===this.options.moduleName||"home"!==e.action&&"end"!==e.action)||"enter"===e.action&&!sf.base.isNullOrUndefined(this.isPopupOpen()))&&e.preventDefault()},t.prototype.getOffsetValue=function(e){var t=getComputedStyle(e),i=parseInt(t.borderTopWidth,10),s=parseInt(t.borderBottomWidth,10);return this.setPopupPosition(i+s)},t.prototype.setPopupPosition=function(e){var t,i=e,s=this.list.querySelector(".e-item-focus")||this.list.querySelector(".e-active"),o=this.isEmptyList()?this.list:this.liCollections[0],n=this.isEmptyList()?this.list:this.liCollections[this.getItems().length-1],l=o.getBoundingClientRect().height,r=this.list.offsetHeight/2,p=sf.base.isNullOrUndefined(s)?o.offsetTop:s.offsetTop;if(n.offsetTop-r<p&&!sf.base.isNullOrUndefined(this.liCollections)&&this.liCollections.length>0&&!sf.base.isNullOrUndefined(s)){var a=this.list.offsetHeight/l,h=parseInt(getComputedStyle(this.list).paddingBottom,10);t=(a-(this.liCollections.length-this.activeIndex))*l-i+h,this.list.scrollTop=s.offsetTop}else p>r?(t=r-l/2,this.list.scrollTop=p-r+l/2):t=p;return-(t=t+l+i-(l-this.containerElement.offsetHeight)/2)},t.prototype.getItems=function(){return this.list?this.list.querySelectorAll(".e-list-item"):[]},t.prototype.renderPopup=function(e,t,i,s,o,n){this.options=o,this.popupHolder=t,this.list=t.querySelector(".e-content")||sf.base.select(".e-content",this.popupContainer),this.liCollections=this.getItems();var l,r,p=0,a=sf.base.formatUnit(this.options.popupHeight);if(this.wireListEvents(),e){var h=document.getElementById(e.id);h&&sf.base.remove(h)}if(document.body.appendChild(e),e.style.visibility="hidden",this.options.allowFiltering&&("SfDropDownList"===this.options.moduleName?(this.filterInput=e.querySelector("input.e-input"),r=this.filterInput.parentElement,new sf.base.KeyboardEvents(this.filterInput,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"})):this.filterInput=this.element),"auto"!==this.options.popupHeight){var u=0;if(sf.base.isNullOrUndefined(r)||(u=r.parentElement.getBoundingClientRect().height,a=(parseInt(a,10)-u).toString()+"px"),e.querySelector(".e-ddl-header")){var d=e.querySelector(".e-ddl-header"),f=Math.round(d.getBoundingClientRect().height);a=(parseInt(a,10)-(f+u)).toString()+"px"}if(e.querySelector(".e-ddl-footer")){var c=e.querySelector(".e-ddl-footer");f=Math.round(c.getBoundingClientRect().height);a=(parseInt(a,10)-(f+u)).toString()+"px"}this.list.style.maxHeight=(parseInt(a,10)-2).toString()+"px",e.style.maxHeight=sf.base.formatUnit(this.options.popupHeight)}else e.style.height="auto";if(this.list&&this.list.querySelector(".e-active")&&this.setScrollPosition(),sf.base.Browser.isDevice&&!this.options.allowFiltering&&("SfDropDownList"===this.options.moduleName||"SfComboBox"===this.options.moduleName)){p=this.getOffsetValue(e);var m=this.isEmptyList()?this.list:this.liCollections[0];l=-(parseInt(getComputedStyle(m).textIndent,10)-parseInt(getComputedStyle(this.element).paddingLeft,10)+parseInt(getComputedStyle(this.element.parentElement).borderLeftWidth,10))}if(this.popupCreation(e,p,l),this.checkCollision(e),sf.base.Browser.isDevice&&(this.popupObj.element.classList.add("e-ddl-device"),("SfDropDownList"===this.options.moduleName||"SfComboBox"===this.options.moduleName&&!this.options.allowFiltering)&&(this.popupObj.collision={X:"fit",Y:"fit"}),this.options.allowFiltering&&"SfDropDownList"===this.options.moduleName&&(this.popupObj.element.classList.add("e-ddl-device-filter"),this.popupObj.position={X:0,Y:0},this.popupObj.dataBind(),sf.base.attributes(this.popupObj.element,{style:"left:0px;right:0px;top:0px;bottom:0px;z-index:"+this.options.zIndex.toString()+";"}),sf.base.addClass([document.body,this.popupObj.element],"e-popup-full-page"),this.setSearchBoxPosition())),e.style.visibility="visible",sf.base.addClass([e],"e-popup-close"),sf.base.Browser.isDevice){if("SfDropDownList"===this.options.moduleName&&!this.options.allowFiltering||"SfComboBox"===this.options.moduleName&&!this.options.allowFiltering)for(var b=0,y=this.popupObj.getScrollableParent(this.containerElement);b<y.length;b++){var g=y[b];sf.base.EventHandler.add(g,"scroll",this.scrollHandler,this)}this.isFilterLayout()&&sf.base.EventHandler.add(this.list,"scroll",this.listScroll,this)}if(null!==i&&null!==i.popup&&s){for(var v=0,S=Object.keys(i.popup);v<S.length;v++){switch(S[v]){case"collision":!i.popup.collision||this.popupObj.collision.X===i.popup.collision.X.toLowerCase()&&this.popupObj.collision.Y===i.popup.collision.Y.toLowerCase()||(this.popupObj.collision={X:i.popup.collision.X.toLowerCase(),Y:i.popup.collision.Y.toLowerCase()});break;case"position":!this.popupObj.position||this.popupObj.position.X===i.popup.position.X&&this.popupObj.position.Y===i.popup.position.Y||(this.popupObj.position={X:i.popup.position.X,Y:i.popup.position.Y});break;case"relateTo":this.popupObj.relateTo!==i.popup.relateTo&&(this.popupObj.relateTo=i.popup.relateTo);break;case"targetType":this.popupObj.targetType!==i.popup.targetType.toLowerCase()&&(this.popupObj.targetType=i.popup.targetType);break;case"offsetX":this.popupObj.offsetX!==i.popup.offsetX&&(this.popupObj.offsetX=i.popup.offsetX);break;case"offsetY":this.popupObj.offsetY!==i.popup.offsetY&&(this.popupObj.offsetY=i.popup.offsetY)}}this.popupObj.dataBind(),this.popupObj.refreshPosition(this.popupObj.relateTo,!0)}this.options.enableVirtualization&&sf.base.EventHandler.add(this.list,"scroll",this.virtualScroll,this),sf.base.attributes(this.containerElement,{"aria-expanded":"true"});var w=this.options.allowFiltering?this.filterInput.parentElement:this.containerElement;sf.base.addClass([w],["e-input-focus"]);this.popupObj.show(new sf.base.Animation({name:"FadeIn",duration:100}),1e3===this.options.zIndex?this.element:null)},t.prototype.wireListEvents=function(){sf.base.EventHandler.add(this.list,"mouseover",this.onMouseOver,this),sf.base.EventHandler.add(this.list,"mouseout",this.onMouseLeave,this)},t.prototype.unWireListEvents=function(){sf.base.EventHandler.remove(this.list,"mouseover",this.onMouseOver),sf.base.EventHandler.remove(this.list,"mouseout",this.onMouseLeave)},t.prototype.onMouseOver=function(e){var t=sf.base.closest(e.target,".e-list-item");this.setHover(t)},t.prototype.onMouseLeave=function(e){this.removeHover()},t.prototype.listScroll=function(){this.filterInput.blur()},t.prototype.scrollHandler=function(){this.isDisposed||this.dotNetRef.invokeMethodAsync("Hide")},t.prototype.setFloatingHeader=function(t){var i=this.popupContainer&&this.popupContainer.querySelector(".e-content");i&&i.classList.contains("e-nodata")&&this.fixedHeaderElement?(sf.base.remove(this.fixedHeaderElement),this.fixedHeaderElement=null):this.list&&this.list.querySelector("li")&&(sf.base.isNullOrUndefined(this.fixedHeaderElement)&&(this.fixedHeaderElement=sf.base.createElement("div",{className:"e-fixed-head"}),this.list.querySelector("li").classList.contains(e)||(this.fixedHeaderElement.style.display="none"),sf.base.prepend([this.fixedHeaderElement],this.list),this.setFixedHeader()),this.scrollStop(t))},t.prototype.setFixedHeader=function(){this.list.parentElement.style.display="block";var t=0;this.list&&this.list.parentElement&&(t=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-width"),10));var i=(this.list?this.list.querySelectorAll(".e-list-item")[0].offsetWidth:0)-t;this.fixedHeaderElement.style.width=i.toString()+"px",sf.base.setStyleAttribute(this.fixedHeaderElement,{zIndex:10});var s=this.list.querySelector("."+e);this.fixedHeaderElement.innerHTML=s.innerHTML},t.prototype.scrollStop=function(t){for(var i=t.target,s=this.list.querySelectorAll("li"),o=parseInt(getComputedStyle(s[0],null).getPropertyValue("height"),10),n=Math.round(i.scrollTop/o);n>-1;n--){if(!sf.base.isNullOrUndefined(s[n])&&s[n].classList.contains(e)){var l=s[n];this.fixedHeaderElement.innerHTML=l.innerHTML,this.fixedHeaderElement.style.top=t.target.scrollTop+"px",this.fixedHeaderElement.style.display="block";break}this.fixedHeaderElement.style.display="none",this.fixedHeaderElement.style.top="none"}},t.prototype.isFilterLayout=function(){return"SfDropDownList"===this.options.moduleName&&this.options.allowFiltering},t.prototype.setSearchBoxPosition=function(){var e=this.popupObj.element.querySelector("span.e-filter-parent").getBoundingClientRect().height,t=this.popupObj.element.querySelector(".e-ddl-footer"),i=this.popupObj.element.querySelector(".e-ddl-header");this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%";var s=t?t.getBoundingClientRect().height:0,o=i?i.getBoundingClientRect().height:0;this.list.style.maxHeight=this.list.style.height=window.innerHeight-(s+o+e+4)+"px"},t.prototype.checkCollision=function(e){(!sf.base.Browser.isDevice||sf.base.Browser.isDevice&&"SfDropDownList"!==this.options.moduleName)&&(sf.popups.isCollide(e).length>0&&(e.style.marginTop=-parseInt(getComputedStyle(e).marginTop,10)+"px"))},t.prototype.destroy=function(){sf.base.EventHandler.remove(document,"mousedown",this.onDocumentClick)},t.prototype.refreshPopup=function(){this.isPopupOpen()&&(this.popupObj.refreshPosition(this.containerElement),this.popupObj.element.querySelector(".e-content").classList.contains("e-nodata")&&this.fixedHeaderElement&&(sf.base.remove(this.fixedHeaderElement),this.fixedHeaderElement=null))},t.prototype.popupCreation=function(t,i,s){var o=this;this.popupContainer=t,this.popupObj=new sf.popups.Popup(this.popupContainer,{width:this.setWidth(),targetType:"relative",relateTo:this.containerElement,collision:{X:"flip",Y:"flip"},offsetY:i,enableRtl:this.options.enableRtl,offsetX:s,position:{X:"left",Y:"bottom"},zIndex:this.options.zIndex,close:function(){sf.base.EventHandler.remove(o.list,"scroll",o.setFloatingHeader),sf.base.removeClass([o.containerElement],"e-icon-anim"),o.fixedHeaderElement=null,o.popupHolder.appendChild(o.popupContainer),o.unWireListEvents();for(var e=0,t=o.popupObj.getScrollableParent(o.containerElement);e<t.length;e++){var i=t[e];sf.base.EventHandler.remove(i,"scroll",o.scrollHandler)}sf.base.Browser.isDevice&&o.isFilterLayout()&&(sf.base.removeClass([document.body,o.popupObj.element],"e-popup-full-page"),sf.base.EventHandler.remove(o.list,"scroll",o.listScroll)),o.options.enableVirtualization&&sf.base.EventHandler.remove(o.list,"scroll",o.virtualScroll),o.popupObj&&o.popupObj.destroy(),!o.isDisposed&&document.body.contains(o.element)&&o.dotNetRef.invokeMethodAsync("ClosePopup").catch((function(){})),o.popupObj=null},open:function(){var t=o.list.querySelector("li")&&o.list.querySelector("li").classList.contains(e),i=!sf.base.isNullOrUndefined(o.list)&&o.list.classList.contains("e-nodata");sf.base.EventHandler.add(document,"mousedown",o.onDocumentClick,o),o.options.allowFiltering&&o.filterInput&&o.filterInput.focus(),t&&sf.base.EventHandler.add(o.list,"scroll",o.setFloatingHeader,o),!o.options.enableVirtualization||t||i||o.virtualScroll()},targetExitViewport:function(){sf.base.Browser.isDevice||o.isDisposed||o.dotNetRef.invokeMethodAsync("Hide")}})},t.prototype.virtualScroll=function(){if(this.popupObj&&this.popupObj.element){var e=parseInt(getComputedStyle(this.popupObj.element).borderWidth,10);e=0==e?1:e;var t=this.popupObj.element.classList.contains("e-popup-open");this.list.scrollTop+this.list.offsetHeight+e>=this.list.scrollHeight&&t&&!this.isDisposed&&this.dotNetRef.invokeMethodAsync("VirtualScrollHandler")}},t.prototype.isEmptyList=function(){return!sf.base.isNullOrUndefined(this.liCollections)&&0===this.liCollections.length},t.prototype.setWidth=function(){var e=sf.base.formatUnit(this.options.popupWidth);e.indexOf("%")>-1&&(e=(this.containerElement.offsetWidth*parseFloat(e)/100).toString()+"px");if(sf.base.Browser.isDevice&&!this.options.allowFiltering){var t=this.isEmptyList()?this.list:this.liCollections[0];e=parseInt(e,10)+2*(parseInt(getComputedStyle(t).textIndent,10)-parseInt(getComputedStyle(this.element).paddingLeft,10)+parseInt(getComputedStyle(this.element.parentElement).borderLeftWidth,10))+"px"}return e},t.prototype.onDocumentClick=function(e){var t=e.target;!sf.base.isNullOrUndefined(this.popupObj)&&sf.base.closest(t,"[id='"+this.popupObj.element.id+"']")||this.containerElement.contains(e.target)?t===this.element||this.options.allowFiltering&&t===this.filterInput||"SfComboBox"===this.options.moduleName&&!this.options.allowFiltering&&sf.base.Browser.isDevice&&t===this.containerElement.querySelector(".e-ddl-icon")||e.preventDefault():!this.containerElement.classList.contains("e-input-focus")&&!this.isPopupOpen()||this.isDisposed||this.dotNetRef.invokeMethodAsync("Hide")},t.prototype.closePopup=function(e,t){if(this.options=t,this.isPopupOpen()&&!e.cancel&&this.popupObj){this.popupObj.hide(new sf.base.Animation({name:"FadeOut",duration:20,delay:0}))}},t.prototype.setScrollPosition=function(e){if(sf.base.isNullOrUndefined(e))this.scrollBottom(!0);else switch(e.action){case"pageDown":case"down":case"end":this.scrollBottom();break;default:this.scrollTop()}},t.prototype.scrollBottom=function(t){if(this.list&&(this.list.querySelector(".e-item-focus")||this.list.querySelector(".e-active"))){var i=this.list.querySelector(".e-item-focus")||this.list.querySelector(".e-active"),s=this.list.offsetHeight,o=this.list.querySelector("li").classList.contains(e),n=i.offsetTop+i.offsetHeight-this.list.scrollTop,l=this.list.scrollTop+n-s;l=t?l+2*parseInt(getComputedStyle(this.list).paddingTop,10):l+parseInt(getComputedStyle(this.list).paddingTop,10);var r=i.offsetTop+i.offsetHeight-this.list.scrollTop;r=o&&!sf.base.isNullOrUndefined(this.fixedHeaderElement)?r-this.fixedHeaderElement.offsetHeight:r,0===this.activeIndex?this.list.scrollTop=0:(n>s||!(r>0&&this.list.offsetHeight>r))&&(this.list.scrollTop=l)}},t.prototype.scrollTop=function(){if(this.list&&(this.list.querySelector(".e-item-focus")||this.list.querySelector(".e-active"))){var t=this.list.querySelector(".e-item-focus")||this.list.querySelector(".e-active"),i=t.offsetTop-this.list.scrollTop,s=this.list.querySelector("li").classList.contains(e);i=s&&!sf.base.isNullOrUndefined(this.fixedHeaderElement)?i-this.fixedHeaderElement.offsetHeight:i;var o=t.offsetTop+t.offsetHeight-this.list.scrollTop;0===this.activeIndex?this.list.scrollTop=0:i<0?this.list.scrollTop=this.list.scrollTop+i:o>0&&this.list.offsetHeight>o||(this.list.scrollTop=t.offsetTop-(s&&!sf.base.isNullOrUndefined(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0))}},t.prototype.setHover=function(e){e&&!e.classList.contains("e-hover")&&(this.removeHover(),sf.base.addClass([e],"e-hover"))},t.prototype.removeHover=function(){if(this.list){var e=this.list.querySelectorAll(".e-hover");e&&e.length&&sf.base.removeClass(e,"e-hover")}},t.prototype.isPopupOpen=function(){return this.popupObj&&document.body.contains(this.popupObj.element)},t}();return{initialize:function(e,i,s,o,n){s&&new t(e,i,s,o,n).initialize()},renderPopup:function(e,t,i,s,o,n,l){var r=window.sfBlazor.getCompInstance(e);!sf.base.isNullOrUndefined(r)&&t&&i&&r.renderPopup(t,i,s,o,n,l)},refreshPopup:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t)||t.refreshPopup()},closePopup:function(e,t,i){var s=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(s)||s.closePopup(t,i)},updateScrollPosition:function(e,t){var i=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(i)||i.setScrollPosition(t)},getPageCount:function(e){var t=e&&e.querySelector(".e-content");if(t){var i=t.classList.contains("e-nodata")?null:getComputedStyle(t.querySelectorAll(".e-list-item")[0],null).getPropertyValue("height");return Math.round(t.getBoundingClientRect().height/parseInt(i,10))}return 0},setAutoFillSelection:function(e,t){var i=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(i)||i.setAutoFillSelection(t)},removeFillSelection:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t)||t.removeFillSelection()},focusIn:function(e,t){var i=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(i)||(t?i.containerElement.focus():i.element.focus())},focusOut:function(e,t){var i=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(i)||(t?i.containerElement.blur():i.element.blur())},destroy:function(e,t,i,s,o){var n=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(n)||(t&&t instanceof HTMLElement&&i&&(n.isDisposed=!0,n.closePopup(s,o)),n.destroy())}}}()}}]);(async()=>{await import(`${document.baseURI}_content/Syncfusion.Blazor.Core/scripts/syncfusion-blazor-base.min.js?v=20.3.49`).then(()=>{sfBlazor.loadDependencies('sfdropdownlist');})})();