(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"./bundles/sf-dropdownlist.js":function(t,e,i){"use strict";i.r(e);i("./modules/sf-dropdownlist.js")},"./modules/sf-dropdownlist.js":function(t,e){window.sfBlazor=window.sfBlazor||{},window.sfBlazor.DropDownList=function(){"use strict";var t=function(){return(t=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},e="e-list-group-item",i=function(){function i(t,e,i,s,o){var n=this;this.activeIndex=null,this.prevSelectPoints={},window.sfBlazor=window.sfBlazor,this.preStartIndex=0,this.startIndex=0,this.currentPage=0,this.virtualPopupHeight=0,this.isKeyBoardAction=!1,this.scrollPreStartIndex=0,this.isScrollActionMade=!1,this.preventScrollAction=!1,this.preventKeyAction=!1,this.isVirtualAction=!1,this.keyDownAction=!1,this.isUpwardScroll=!1,this.mouseScrollAction=!1,this.firstRender=!0,this.virtualListHeight=0,this.bindScrollEvent=function(){n.observe((function(t){return n.scrollListener(t)}))},this.sentinelInfo={up:{check:function(t,e){var i=t.top-n.containerRect.top;return e.entered=i>=0,i+n.listHeight*n.options.virtualizedItemsCount/2>=0},axis:"Y"},down:{check:function(t,e){n.popupContentEle.clientHeight;var i=t.bottom;return e.entered=t.bottom<=n.containerRect.bottom,i-n.listHeight*n.options.virtualizedItemsCount/2<=n.listHeight*n.options.virtualizedItemsCount/2},axis:"Y"}},this.IsScrollerAtEnd=function(){return this.list&&this.list.scrollTop+this.list.clientHeight>=this.list.scrollHeight},this.dataId=t,this.containerElement=e,this.element=i,this.options=o,window.sfBlazor.setCompInstance(this),this.dotNetRef=s}return i.prototype.initialize=function(){this.keyConfigure={tab:"tab",enter:"13",escape:"27",end:"35",home:"36",down:"40",up:"38",pageUp:"33",pageDown:"34",open:"alt+40",close:"shift+tab",hide:"alt+38",space:"32"},sf.base.Browser.isDevice?sf.base.EventHandler.add(window,"orientationchange",this.scrollHandler,this):(new sf.base.KeyboardEvents(this.containerElement,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.options.enableVirtualization&&sf.base.EventHandler.add(this.containerElement,"keyup",this.keyUpHandler,this)),"SfComboBox"===this.options.moduleName&&sf.base.EventHandler.add(this.element,"keydown",this.onFilterDown,this),sf.base.EventHandler.add(window,"resize",this.windowResize,this)},i.prototype.keyUpHandler=function(t){this.keyDownAction=!1},i.prototype.findListElement=function(t,e,i,s){var o=null;if(t)for(var n=[].slice.call(t.querySelectorAll(e)),l=0;l<n.length;l++)if(n[l].getAttribute(i)===s+""){o=n[l];break}return o},i.prototype.windowResize=function(){this.isPopupOpen()&&this.popupObj.refreshPosition(this.containerElement)},i.prototype.updateSelectionList=function(){if(!this.list.querySelector(".e-active")&&this.options.value){var t=this.findListElement(this.list,"li","data-value",this.options.value);t&&t.classList.add("e-active")}},i.prototype.scrollListener=function(e){var i=this;if(!this.preventScrollAction){var s=e.sentinel,o=this.preStartIndex;if(this.viewInfo=this.getInfoFromView(e.direction,s,e.offset,!1),this.isUpwardScroll=!1,this.preStartIndex===o||this.isKeyBoardAction){if(this.isScrollActionMade){this.preventKeyAction=!1,this.isScrollActionMade=!1;var n=this.list.querySelectorAll(".e-virtual-list").length,l=this.list.querySelector(".e-list-item"),r=e.offset.top-l.offsetHeight*n;this.list.getElementsByClassName("e-virtual-ddl-content")[0].style.transform="translate(0px,"+r+"px)"}}else this.isScrollActionMade=!1,this.currentPage=this.viewInfo.currentPage,this.virtualInfo=t({},this.viewInfo),this.preventKeyAction=!0,this.isVirtualAction=!0,setTimeout((function(){i.dotNetRef.invokeMethodAsync("VirtualScrollRefreshAsync",{virtualItemStartIndex:i.viewInfo.startIndex,virtualItemEndIndex:i.viewInfo.endIndex,listItemHeight:i.virtualListHeight,scrollTop:i.viewInfo.offsets.top,pageCount:i.getPageCount(i.popupObj.element,!0),isMouseScrollAction:i.mouseScrollAction}).then((function(){i.popupObj&&(i.list=i.popupObj.element.querySelector(".e-content")||sf.base.select(".e-content"),i.updateSelectionList(),i.liCollections=i.getItems()),i.isVirtualAction=!1,i.preventKeyAction=!1}))}),10);this.prevInfo=this.viewInfo,this.isKeyBoardAction=!1}},i.prototype.getInfoFromView=function(t,e,i,s){var o={direction:t,sentinelInfo:e,offsets:i,startIndex:this.preStartIndex,endIndex:this.preEndIndex},n=this.popupContentEle.getBoundingClientRect().height,l=0==this.listHeight?this.virtualListHeight:this.listHeight,r=i.top/l,a=n/l,p=r+a,h=this.options.virtualizedItemsCount/4,u=this.options.totalCount;if("down"===o.direction){var d=Math.round(p)-Math.round(h);if(sf.base.isNullOrUndefined(o.startIndex)||p>o.startIndex+Math.round(this.options.virtualizedItemsCount/2+h)&&o.endIndex!==u){o.startIndex=d>=0?Math.round(d):0,o.startIndex=o.startIndex>r?Math.floor(r):o.startIndex;var c=o.startIndex+this.options.virtualizedItemsCount;o.startIndex=c<p?Math.ceil(p)-this.options.virtualizedItemsCount:o.startIndex,o.endIndex=c<u?c:u,o.startIndex=c>=u?o.endIndex-this.options.virtualizedItemsCount>0?o.endIndex-this.options.virtualizedItemsCount:0:o.startIndex,o.currentPage=Math.ceil(o.endIndex/this.options.virtualizedItemsCount)}}else if("up"===o.direction){if(o.startIndex&&o.endIndex)if(r<Math.round((o.startIndex*l+h*l)/l)){var f=h>a?h:a+a/4;c=Math.round(r+f);o.endIndex=c<u?c:u;d=o.endIndex-this.options.virtualizedItemsCount;o.startIndex=d>0?d:0,o.endIndex=d<0?this.options.virtualizedItemsCount:o.endIndex,o.currentPage=Math.ceil(o.startIndex/this.options.virtualizedItemsCount)}}return s?this.scrollPreStartIndex=o.startIndex:(this.preStartIndex=o.startIndex,this.startIndex=o.startIndex,this.preEndIndex=o.endIndex),o},i.prototype.observe=function(t){this.containerRect=this.popupContentEle.getBoundingClientRect(),sf.base.EventHandler.add(this.popupContentEle,"wheel mousedown",this.popupScrollHandler,this),this.touchModule=new sf.base.Touch(this.popupContentEle,{scroll:this.popupScrollHandler.bind(this)}),sf.base.EventHandler.add(this.popupContentEle,"scroll",this.virtualScrollHandler(t),this)},i.prototype.popupScrollHandler=function(t){this.mouseScrollAction=!0,this.preventScrollAction=!1},i.prototype.virtualScrollHandler=function(t){var e=this,i="chrome"===sf.base.Browser.info.name?200:100,s=0,o=sf.base.debounce(t,i),n=sf.base.debounce(t,50);return function(t){var i=t.target.scrollTop,l=t.target.scrollLeft,r=s<i&&!e.isUpwardScroll?"down":"up";s=i;var a=e.sentinelInfo[r],p=e.scrollPreStartIndex,h={top:i,left:l};if(e.list.querySelectorAll(".e-virtual-list").length>0){e.getInfoFromView(r,a,h,!0);if(e.scrollPreStartIndex!=p&&!e.preventScrollAction)e.isScrollActionMade=!0,e.list.querySelector(".e-virtual-ddl-content").style.transform="translate(0px,"+i+"px)"}var u=o;"X"===a.axis&&(u=n),u({direction:r,sentinel:a,offset:{top:i,left:l},focusElement:document.activeElement})}},i.prototype.setAutoFillSelection=function(t){this.isAndroidAutoFill(t)||this.autoFillSelection(t)},i.prototype.onFilterDown=function(t){13!==t.keyCode&&40!==t.keyCode&&38!==t.keyCode&&9!==t.keyCode&&(this.prevSelectPoints=this.getSelectionPoints())},i.prototype.getSelectionPoints=function(){var t=this.element;return{start:Math.abs(t.selectionStart),end:Math.abs(t.selectionEnd)}},i.prototype.autoFillSelection=function(t){var e=this.getSelectionPoints(),i=this.element.value.substr(0,e.start);if(i&&i.toLowerCase()===t.substr(0,e.start).toLowerCase()){var s=i+t.substr(i.length,t.length);this.element.value=s,this.element.setSelectionRange(e.start,this.element.value.length)}else this.element.value=t,this.element.setSelectionRange(0,this.element.value.length)},i.prototype.isAndroidAutoFill=function(t){if(sf.base.Browser.isAndroid){var e=this.getSelectionPoints(),i=this.prevSelectPoints.end,s=e.end,o=this.prevSelectPoints.start,n=e.start;return 0!==i&&(i===t.length&&o===t.length||o>n&&i>s||i===s&&o===n)}return!1},i.prototype.removeFillSelection=function(){var t=this.getSelectionPoints();this.element.setSelectionRange(t.end,t.end)},i.prototype.keyActionHandler=function(t){if(this.preventKeyAction&&this.options.enableVirtualization)t.preventDefault();else{var e={Action:t.action,Key:t.key,Events:t,Type:t.type};this.isDisposed||("space"===t.action&&"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&t.preventDefault(),this.options.enableVirtualization&&this.keyDownAction||this.dotNetRef.invokeMethodAsync("KeyActionHandler",e)),("tab"!==t.action&&"close"!==t.action&&"space"!==t.action&&"enter"!==t.action&&"open"!==t.action&&("SfDropDownList"===this.options.moduleName||"home"!==t.action&&"end"!==t.action)||"enter"===t.action&&!sf.base.isNullOrUndefined(this.isPopupOpen()))&&t.preventDefault()}this.keyDownAction=!0},i.prototype.getOffsetValue=function(t){var e=getComputedStyle(t),i=parseInt(e.borderTopWidth,10),s=parseInt(e.borderBottomWidth,10);return this.setPopupPosition(i+s)},i.prototype.setPopupPosition=function(t){var e,i=t,s=this.list.querySelector(".e-item-focus")||this.list.querySelector(".e-active"),o=this.isEmptyList()?this.list:this.liCollections[0],n=this.isEmptyList()?this.list:this.liCollections[this.getItems().length-1],l=o.getBoundingClientRect().height,r=this.list.offsetHeight/2,a=sf.base.isNullOrUndefined(s)?o.offsetTop:s.offsetTop;if(n.offsetTop-r<a&&!sf.base.isNullOrUndefined(this.liCollections)&&this.liCollections.length>0&&!sf.base.isNullOrUndefined(s)){var p=this.list.offsetHeight/l,h=parseInt(getComputedStyle(this.list).paddingBottom,10);e=(p-(this.liCollections.length-this.activeIndex))*l-i+h,this.list.scrollTop=s.offsetTop}else a>r?(e=r-l/2,this.list.scrollTop=a-r+l/2):e=a;return-(e=e+l+i-(l-this.containerElement.offsetHeight)/2)},i.prototype.getItems=function(){return this.list?this.list.querySelectorAll(".e-list-item"):[]},i.prototype.getListHeight=function(){var t=sf.base.createElement("div",{className:"e-dropdownbase"}),e=sf.base.createElement("li",{className:"e-list-item"}),i=sf.base.formatUnit(this.options.popupHeight);t.style.height=parseInt(i,10).toString()+"px",t.appendChild(e),document.body.appendChild(t),this.virtualPopupHeight=t.getBoundingClientRect().height;var s=Math.ceil(e.getBoundingClientRect().height);return t.remove(),this.virtualListHeight=s,s},i.prototype.renderPopup=function(t,e,i,s,o,n){var l=this;this.options=o,this.popupHolder=e,this.popupContentEle=t.querySelector(".e-content"),this.list=e.querySelector(".e-content")||sf.base.select(".e-content",this.popupContainer),this.liCollections=this.getItems();var r,a=0;this.preventScrollAction=!0;var p,h=sf.base.formatUnit(this.options.popupHeight);if(this.wireListEvents(),t){var u=document.getElementById(t.id);u&&sf.base.remove(u)}if(document.body.appendChild(t),t.style.visibility="hidden",this.options.allowFiltering&&("SfDropDownList"===this.options.moduleName?(this.filterInput=t.querySelector("input.e-input"),p=this.filterInput.parentElement,new sf.base.KeyboardEvents(this.filterInput,{keyAction:this.keyActionHandler.bind(this),keyConfigs:this.keyConfigure,eventName:"keydown"}),this.options.enableVirtualization&&sf.base.EventHandler.add(this.filterInput,"keyup",this.keyUpHandler,this)):this.filterInput=this.element),"auto"!==this.options.popupHeight){var d=0;if(sf.base.isNullOrUndefined(p)||(d=p.parentElement.getBoundingClientRect().height,h=(parseInt(h,10)-d).toString()+"px"),t.querySelector(".e-ddl-header")){var c=t.querySelector(".e-ddl-header"),f=Math.round(c.getBoundingClientRect().height);t.classList.contains("e-multi-column")&&(f+=13),h=(parseInt(h,10)-(f+d)).toString()+"px"}if(t.querySelector(".e-ddl-footer")){var m=t.querySelector(".e-ddl-footer");f=Math.round(m.getBoundingClientRect().height);t.classList.contains("e-multi-column")&&(f+=13),h=(parseInt(h,10)-(f+d)).toString()+"px"}this.list.style.maxHeight=(parseInt(h,10)-2).toString()+"px",t.style.maxHeight=sf.base.formatUnit(this.options.popupHeight)}else t.style.height="auto";if(this.list&&"SfAutoComplete"!==this.options.moduleName&&!this.list.classList.contains("e-nodata")&&this.setScrollPosition(),sf.base.Browser.isDevice&&!this.options.allowFiltering&&("SfDropDownList"===this.options.moduleName||"SfComboBox"===this.options.moduleName)){a=this.getOffsetValue(t);var v=this.isEmptyList()?this.list:this.liCollections[0];r=-(parseInt(getComputedStyle(v).textIndent,10)-parseInt(getComputedStyle(this.element).paddingLeft,10)+parseInt(getComputedStyle(this.element.parentElement).borderLeftWidth,10))}this.popupCreation(t,a,r);var g=this.options.enableVirtualization&&this.options.hasItemTemplate?t.querySelectorAll("li.e-list-item:not(.e-virtual-list)"):t.querySelectorAll("li.e-list-item");this.listHeight=this.virtualListHeight=g.length>0?Math.ceil(g[0].getBoundingClientRect().height):0,this.virtualListHeight=this.virtualListHeight<this.listHeight?this.listHeight:this.virtualListHeight,this.options.enableVirtualization&&this.firstRender&&(this.dotNetRef.invokeMethodAsync("UpdateListHeight",this.listHeight),this.firstRender=!1),this.checkCollision(t),sf.base.Browser.isDevice&&(this.popupObj.element.classList.add("e-ddl-device"),("SfDropDownList"===this.options.moduleName||"SfComboBox"===this.options.moduleName&&!this.options.allowFiltering)&&(this.popupObj.collision={X:"fit",Y:"fit"}),this.options.allowFiltering&&"SfDropDownList"===this.options.moduleName&&(this.popupObj.element.classList.add("e-ddl-device-filter"),this.popupObj.position={X:0,Y:0},this.popupObj.dataBind(),sf.base.attributes(this.popupObj.element,{style:"left:0px;right:0px;top:0px;bottom:0px;z-index:"+this.options.zIndex.toString()+";"}),sf.base.addClass([document.body,this.popupObj.element],"e-popup-full-page"),this.setSearchBoxPosition())),t.style.visibility="visible";var y=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);if(this.options.allowFiltering&&"SfDropDownList"===this.options.moduleName&&sf.base.Browser.isDevice&&y&&(t.style.position="fixed"),sf.base.addClass([t],"e-popup-close"),sf.base.Browser.isDevice){if("SfDropDownList"===this.options.moduleName&&!this.options.allowFiltering||"SfComboBox"===this.options.moduleName&&!this.options.allowFiltering)for(var b=0,S=this.popupObj.getScrollableParent(this.containerElement);b<S.length;b++){var I=S[b];sf.base.EventHandler.add(I,"scroll",this.scrollHandler,this)}this.isFilterLayout()&&sf.base.EventHandler.add(this.list,"scroll",this.listScroll,this)}if(null!==i&&null!==i.popup&&s){for(var w=0,H=Object.keys(i.popup);w<H.length;w++){switch(H[w]){case"collision":!i.popup.collision||this.popupObj.collision.X===i.popup.collision.X.toLowerCase()&&this.popupObj.collision.Y===i.popup.collision.Y.toLowerCase()||(this.popupObj.collision={X:i.popup.collision.X.toLowerCase(),Y:i.popup.collision.Y.toLowerCase()});break;case"position":!this.popupObj.position||this.popupObj.position.X===i.popup.position.X&&this.popupObj.position.Y===i.popup.position.Y||(this.popupObj.position={X:i.popup.position.X,Y:i.popup.position.Y});break;case"relateTo":this.popupObj.relateTo!==i.popup.relateTo&&(this.popupObj.relateTo=i.popup.relateTo);break;case"targetType":this.popupObj.targetType!==i.popup.targetType.toLowerCase()&&(this.popupObj.targetType=i.popup.targetType);break;case"offsetX":this.popupObj.offsetX!==i.popup.offsetX&&(this.popupObj.offsetX=i.popup.offsetX);break;case"offsetY":this.popupObj.offsetY!==i.popup.offsetY&&(this.popupObj.offsetY=i.popup.offsetY)}}this.popupObj.dataBind(),this.popupObj.refreshPosition(this.popupObj.relateTo,!0)}this.options.enableVirtualization&&(this.bindScrollEvent(),setTimeout((function(){l.updateSelectionList(),l.options.value&&l.options.scrollTop&&(l.list.scrollTop=l.options.scrollTop)}),10)),"SfDropDownList"!==this.options.moduleName&&sf.base.attributes(this.element,{"aria-expanded":"true"}),sf.base.attributes(this.element,{"aria-owns":this.element.id+"_popup"});var x=this.options.allowFiltering?this.filterInput.parentElement:this.containerElement;sf.base.addClass([x],["e-input-focus"]);this.popupObj.show(new sf.base.Animation({name:"FadeIn",duration:100}),1e3===this.options.zIndex?this.element:null)},i.prototype.wireListEvents=function(){sf.base.EventHandler.add(this.list,"mouseover",this.onMouseOver,this),sf.base.EventHandler.add(this.list,"mouseout",this.onMouseLeave,this)},i.prototype.unWireListEvents=function(){sf.base.EventHandler.remove(this.list,"mouseover",this.onMouseOver),sf.base.EventHandler.remove(this.list,"mouseout",this.onMouseLeave)},i.prototype.onMouseOver=function(t){var e=sf.base.closest(t.target,".e-list-item");this.setHover(e)},i.prototype.onMouseLeave=function(t){this.removeHover()},i.prototype.listScroll=function(){this.filterInput.blur()},i.prototype.scrollHandler=function(t){this.isDisposed||("scroll"!==t.type||!this.element||this.isElementInViewport(this.element))&&"scroll"===t.type||this.dotNetRef.invokeMethodAsync("Hide")},i.prototype.isElementInViewport=function(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=window.innerHeight&&e.right<=window.innerWidth},i.prototype.setFloatingHeader=function(t){var i=this.popupContainer&&this.popupContainer.querySelector(".e-content");i&&i.classList.contains("e-nodata")&&this.fixedHeaderElement?(sf.base.remove(this.fixedHeaderElement),this.fixedHeaderElement=null):this.list&&this.list.querySelector("li")&&(sf.base.isNullOrUndefined(this.fixedHeaderElement)&&(this.fixedHeaderElement=sf.base.createElement("div",{className:"e-fixed-head"}),this.list.querySelector("li").classList.contains(e)||(this.fixedHeaderElement.style.display="none"),sf.base.prepend([this.fixedHeaderElement],this.list),this.setFixedHeader()),this.scrollStop(t))},i.prototype.setFixedHeader=function(){this.list.parentElement.style.display="block";var t=0;this.list&&this.list.parentElement&&(t=parseInt(document.defaultView.getComputedStyle(this.list.parentElement,null).getPropertyValue("border-width"),10));var i=(this.list?this.list.querySelectorAll(".e-list-item")[0].offsetWidth:0)-t;this.fixedHeaderElement.style.width=i.toString()+"px",sf.base.setStyleAttribute(this.fixedHeaderElement,{zIndex:10});var s=this.list.querySelector("."+e);this.fixedHeaderElement.innerHTML=s.innerHTML},i.prototype.scrollStop=function(t){for(var i=t.target,s=this.list.querySelectorAll("li"),o=parseInt(getComputedStyle(s[0],null).getPropertyValue("height"),10),n=Math.round(i.scrollTop/o);n>-1;n--){if(!sf.base.isNullOrUndefined(s[n])&&s[n].classList.contains(e)){var l=s[n];this.fixedHeaderElement.innerHTML=l.innerHTML,this.fixedHeaderElement.style.top=t.target.scrollTop+"px",this.fixedHeaderElement.style.display="block";break}this.fixedHeaderElement.style.display="none",this.fixedHeaderElement.style.top="none"}},i.prototype.isFilterLayout=function(){return"SfDropDownList"===this.options.moduleName&&this.options.allowFiltering},i.prototype.setSearchBoxPosition=function(){var t=this.popupObj.element.querySelector("span.e-filter-parent").getBoundingClientRect().height,e=this.popupObj.element.querySelector(".e-ddl-footer"),i=this.popupObj.element.querySelector(".e-ddl-header");this.popupObj.element.style.maxHeight="100%",this.popupObj.element.style.width="100%";var s=e?e.getBoundingClientRect().height:0,o=i?i.getBoundingClientRect().height:0;this.list.style.maxHeight=this.list.style.height=window.innerHeight-(s+o+t+4)+"px"},i.prototype.checkCollision=function(t){(!sf.base.Browser.isDevice||sf.base.Browser.isDevice&&"SfDropDownList"!==this.options.moduleName)&&(sf.popups.isCollide(t).length>0&&(t.style.marginTop=-parseInt(getComputedStyle(t).marginTop,10)+"px"))},i.prototype.destroy=function(){sf.base.EventHandler.remove(document,"mousedown",this.onDocumentClick),sf.base.Browser.isDevice&&sf.base.EventHandler.remove(window,"orientationchange",this.scrollHandler)},i.prototype.refreshPopup=function(t,e){if(this.isPopupOpen()){if(this.options.enableVirtualization&&t&&(this.preventScrollAction=!0,this.list.scrollTop=0,this.preStartIndex=0,this.virtualInfo=null,this.preStartIndex=0,0===this.listHeight&&e.totalCount>0)){var i=this.popupContainer.querySelectorAll("li.e-list-item:not(.e-virtual-list)");this.listHeight=i.length>0?Math.ceil(i[0].getBoundingClientRect().height):this.virtualListHeight}this.options.totalCount=e.totalCount,this.popupObj.refreshPosition(this.containerElement),this.popupObj.element.querySelector(".e-content").classList.contains("e-nodata")&&this.fixedHeaderElement&&(sf.base.remove(this.fixedHeaderElement),this.fixedHeaderElement=null)}},i.prototype.popupCreation=function(t,i,s){var o=this;this.popupContainer=t,this.popupObj=new sf.popups.Popup(this.popupContainer,{width:this.setWidth(),targetType:"relative",relateTo:this.containerElement,collision:{X:"flip",Y:"flip"},offsetY:i,enableRtl:this.options.enableRtl,offsetX:s,position:{X:"left",Y:"bottom"},zIndex:this.options.zIndex,close:function(){sf.base.EventHandler.remove(o.list,"scroll",o.setFloatingHeader),sf.base.removeClass([o.containerElement],"e-icon-anim"),"SfAutoComplete"===o.options.moduleName&&(null==o.options.value&&(o.preStartIndex=0,o.preEndIndex=0),o.virtualInfo=null),o.fixedHeaderElement=null,o.popupHolder.appendChild(o.popupContainer),o.unWireListEvents();for(var t=0,e=o.popupObj.getScrollableParent(o.containerElement);t<e.length;t++){var i=e[t];sf.base.EventHandler.remove(i,"scroll",o.scrollHandler)}sf.base.Browser.isDevice&&o.isFilterLayout()&&(sf.base.removeClass([document.body,o.popupObj.element],"e-popup-full-page"),sf.base.EventHandler.remove(o.list,"scroll",o.listScroll)),o.options.enableVirtualization&&(sf.base.EventHandler.remove(o.popupContentEle,"scroll",o.virtualScrollHandler()),"SfDropDownList"===o.options.moduleName&&o.filterInput&&sf.base.EventHandler.remove(o.filterInput,"keyup",o.keyUpHandler)),o.popupObj&&o.popupObj.destroy(),!o.isDisposed&&document.body.contains(o.element)&&o.dotNetRef.invokeMethodAsync("ClosePopup").catch((function(){}))},open:function(){null==o.options.value&&"SfAutoComplete"===o.options.moduleName&&(o.preStartIndex=0);var t=o.list.querySelector("li")&&o.list.querySelector("li").classList.contains(e);!sf.base.isNullOrUndefined(o.list)&&o.list.classList.contains("e-nodata");sf.base.EventHandler.add(document,"mousedown",o.onDocumentClick,o),o.options.allowFiltering&&o.filterInput&&o.filterInput.focus(),t&&sf.base.EventHandler.add(o.list,"scroll",o.setFloatingHeader,o)},targetExitViewport:function(){sf.base.Browser.isDevice||o.isDisposed||o.dotNetRef.invokeMethodAsync("Hide")}})},i.prototype.isEmptyList=function(){return!sf.base.isNullOrUndefined(this.liCollections)&&0===this.liCollections.length},i.prototype.setWidth=function(){var t=sf.base.formatUnit(this.options.popupWidth);t.indexOf("%")>-1&&(t=(this.containerElement.offsetWidth*parseFloat(t)/100).toString()+"px");if(sf.base.Browser.isDevice&&!this.options.allowFiltering&&("SfDropDownList"===this.options.moduleName||"SfComboBox"===this.options.moduleName)){var e=this.isEmptyList()?this.list:this.liCollections[0];t=parseInt(t,10)+2*(parseInt(getComputedStyle(e).textIndent,10)-parseInt(getComputedStyle(this.element).paddingLeft,10)+parseInt(getComputedStyle(this.element.parentElement).borderLeftWidth,10))+"px"}return t},i.prototype.onDocumentClick=function(t){var e=t.target;!sf.base.isNullOrUndefined(this.popupObj)&&sf.base.closest(e,"[id='"+this.popupObj.element.id+"']")||this.containerElement.contains(t.target)?e===this.element||this.options.allowFiltering&&e===this.filterInput||"SfComboBox"===this.options.moduleName&&!this.options.allowFiltering&&sf.base.Browser.isDevice&&e===this.containerElement.querySelector(".e-ddl-icon")||t.preventDefault():!this.containerElement.classList.contains("e-input-focus")&&!this.isPopupOpen()||this.isDisposed||this.dotNetRef.invokeMethodAsync("Hide")},i.prototype.closePopup=function(t,e){if(this.options=e,this.options.refreshVirtualIndices&&(this.virtualInfo=null,this.preStartIndex=0),this.isPopupOpen()&&!t.cancel&&this.popupObj){"SfDropDownList"!==this.options.moduleName&&sf.base.attributes(this.element,{"aria-expanded":"false"}),this.element.removeAttribute("aria-owns"),this.popupObj.hide(new sf.base.Animation({name:"FadeOut",duration:20,delay:0}))}},i.prototype.setScrollPosition=function(t){if(this.preventScrollAction=!0,!this.preventKeyAction)if(sf.base.isNullOrUndefined(t))this.isKeyBoardAction=!1,this.scrollBottom(!0);else switch(t.action){case"pageDown":case"down":case"end":this.mouseScrollAction=!1,this.isKeyBoardAction=!0,this.scrollBottom(!1,!1,t.action);break;default:this.mouseScrollAction=!1,this.isKeyBoardAction="up"==t.action||"pageUp"==t.action||"open"==t.action,this.scrollTop(t.action)}},i.prototype.scrollBottom=function(t,i,s){if(void 0===i&&(i=!1),void 0===s&&(s=null),this.list&&(this.list.querySelector(".e-item-focus")||this.list.querySelector(".e-active"))||this.options.enableVirtualization){var o=this.list.querySelector(".e-item-focus")||this.list.querySelector(".e-active");null==o&&this.options.enableVirtualization&&(o=this.list.querySelector(".e-list-item:not(.e-virtual-list)")),this.isUpwardScroll=!1;var n=this.list.querySelectorAll(".e-virtual-list").length,l=this.list.offsetHeight,r=this.list.querySelector("li")?this.list.querySelector("li").classList.contains(e):null,a=this.list.querySelector("li:last-of-type")?this.list.querySelector("li:last-of-type").getAttribute("data-value"):null,p=this.virtualInfo&&this.virtualInfo.startIndex?o.offsetTop+this.virtualInfo.startIndex*o.offsetHeight:o.offsetTop,h=p-n*o.offsetHeight+o.offsetHeight-this.list.scrollTop,u=this.list.scrollTop+h-l,d=!1;u=t?u+2*parseInt(getComputedStyle(this.list).paddingTop,10):u+parseInt(getComputedStyle(this.list).paddingTop,10);var c=p-n*o.offsetHeight+o.offsetHeight-this.list.scrollTop;if(c=r&&!sf.base.isNullOrUndefined(this.fixedHeaderElement)?c-this.fixedHeaderElement.offsetHeight:c,0===this.activeIndex)this.list.scrollTop=0,d=this.isKeyBoardAction;else if(h>l||!(c>0&&this.list.offsetHeight>c)){var f=o?o.getAttribute("data-value"):null,m="pageDown"==s?this.getPageCount(this.popupObj.element)-2:1;if(!this.options.enableVirtualization||this.isKeyBoardAction||i)if(this.isKeyBoardAction&&this.options.enableVirtualization&&a&&f===a&&"end"!=s&&!this.isVirtualAction){this.preventKeyAction=!0;var v="SfDropDownList"===this.options.moduleName&&"pageDown"==s&&this.filterInput?this.filterInput.offsetHeight:0;this.options.totalCount===this.viewInfo.endIndex?this.list.scrollTop+=o.offsetHeight*m+v:this.list.scrollTop=u,this.list.scrollTop+=o.offsetHeight*m+v,this.preventKeyAction=!this.IsScrollerAtEnd()&&this.preventKeyAction,this.isKeyBoardAction=!1,this.preventScrollAction=!1}else this.options.enableVirtualization&&"end"==s?(this.preventKeyAction=!1,this.isKeyBoardAction=!1,this.preventScrollAction=!1,this.list.scrollTop=this.list.scrollHeight):"pageDown"==s&&this.options.enableVirtualization&&!this.isVirtualAction?(this.preventKeyAction=!1,this.isKeyBoardAction=!1,this.preventScrollAction=!1,u+=o.offsetHeight*m,this.list.scrollTop=u):o.previousElementSibling&&o.previousElementSibling.classList.contains("e-virtual-list")&&this.virtualInfo&&this.virtualInfo.startIndex?this.list.scrollTop=this.virtualInfo.startIndex*this.listHeight:this.list.scrollTop=u;else this.list.scrollTop=this.virtualInfo&&this.virtualInfo.startIndex?this.virtualInfo.startIndex*this.listHeight:0;d=this.isKeyBoardAction}this.isKeyBoardAction=d}},i.prototype.scrollTop=function(t){if(void 0===t&&(t=null),this.list&&(this.list.querySelector(".e-item-focus")||this.list.querySelector(".e-active"))){var i=this.list.querySelectorAll(".e-virtual-list").length,s=this.list.querySelector(".e-item-focus")||this.list.querySelector(".e-active"),o=this.virtualInfo&&this.virtualInfo.startIndex?s.offsetTop+this.virtualInfo.startIndex*s.offsetHeight:s.offsetTop,n=o-i*s.offsetHeight-this.list.scrollTop,l=this.list.querySelector("li").classList.contains(e),r=this.list.querySelector("li.e-list-item:not(.e-virtual-list)")?this.list.querySelector("li.e-list-item:not(.e-virtual-list)").getAttribute("data-value"):null;n=l&&!sf.base.isNullOrUndefined(this.fixedHeaderElement)?n-this.fixedHeaderElement.offsetHeight:n;var a=o-i*s.offsetHeight+s.offsetHeight-this.list.scrollTop,p=this.options.enableVirtualization&&"SfAutoComplete"===this.options.moduleName&&n<=0;if(0===this.activeIndex)this.list.scrollTop=0;else if(n<0||p||0==n&&"home"==t){var h=s?s.getAttribute("data-value"):null,u="pageUp"==t?this.getPageCount(this.popupObj.element)-2:1;this.options.enableVirtualization&&this.isKeyBoardAction&&r&&h===r&&"home"!=t&&!this.isVirtualAction?(this.isUpwardScroll=!0,this.preventKeyAction=!0,this.list.scrollTop-=s.offsetHeight*u,this.preventKeyAction=0!=this.list.scrollTop&&this.preventKeyAction,this.isKeyBoardAction=!1,this.preventScrollAction=!1):this.options.enableVirtualization&&"home"==t?(this.preventScrollAction=!1,this.preventKeyAction=!0,this.isKeyBoardAction=!1,this.list.scrollTo(0,0)):("pageUp"==t&&this.options.enableVirtualization&&!this.isVirtualAction&&(this.preventKeyAction=!1,this.isKeyBoardAction=!1,this.preventScrollAction=!1,n-=s.offsetHeight*u),this.list.scrollTop=this.list.scrollTop+n)}else a>0&&this.list.offsetHeight>a||(this.list.scrollTop=o-(l&&!sf.base.isNullOrUndefined(this.fixedHeaderElement)?this.fixedHeaderElement.offsetHeight:0))}},i.prototype.setHover=function(t){!t||t.classList.contains("e-hover")||t.classList.contains("e-virtual-list")||(this.removeHover(),sf.base.addClass([t],"e-hover"))},i.prototype.removeHover=function(){if(this.list){var t=this.list.querySelectorAll(".e-hover");t&&t.length&&sf.base.removeClass(t,"e-hover")}},i.prototype.isPopupOpen=function(){return this.popupObj&&document.body.contains(this.popupObj.element)},i.prototype.getPageCount=function(t,e){void 0===e&&(e=!1);var i=t&&t.querySelector(".e-content");if(i){var s=i.classList.contains("e-nodata")?null:getComputedStyle(i.querySelectorAll(".e-list-item")[0],null).getPropertyValue("height"),o=i.getBoundingClientRect().height/parseInt(s,10);return e?o:Math.round(o)}return 0},i}();return{initialize:function(t,e,s,o,n){if(s){var l=new i(t,e,s,o,n);if(l.initialize(),!sf.base.isNullOrUndefined(sf.base.closest(s,"fieldset"))&&sf.base.closest(s,"fieldset").disabled){var r=n.enabled=!1;l.dotNetRef.invokeMethodAsync("UpdateFieldSetStatus",r)}if(n.enableVirtualization)return{itemSize:l.getListHeight(),fullPopupHeight:window.outerHeight,virtualPopupHeight:l.virtualPopupHeight}}return{itemSize:0,fullPopupHeight:0,virtualPopupHeight:0}},renderPopup:function(t,e,i,s,o,n,l){var r=window.sfBlazor.getCompInstance(t);!sf.base.isNullOrUndefined(r)&&e&&i&&r.renderPopup(e,i,s,o,n,l)},refreshPopup:function(t,e,i){var s=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(s)||s.refreshPopup(e,i)},refreshVirtualIndices:function(t,e){var i=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(i)||(i.virtualInfo=null,i.preStartIndex=0,i.options.totalCount=e,i.preEndIndex=0)},closePopup:function(t,e,i){var s=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(s)||s.closePopup(e,i)},updateScrollPosition:function(t,e){var i=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(i)||(i.preventKeyAction=!1,i.setScrollPosition(e),i.isVirtualAction=!1)},getPageCount:function(t,e){var i=window.sfBlazor.getCompInstance(t);return!sf.base.isNullOrUndefined(i)&&e?i.getPageCount(e):0},setAutoFillSelection:function(t,e){var i=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(i)||i.setAutoFillSelection(e)},removeFillSelection:function(t){var e=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(e)||e.removeFillSelection()},focusIn:function(t,e){var i=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(i)||(document.activeElement!==i.element?setTimeout((function(){e?i.containerElement.focus():i.element.focus()}),10):e?i.containerElement.focus():i.element.focus())},focusOut:function(t,e){var i=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(i)||(e?i.containerElement.blur():i.element.blur())},destroy:function(t,e,i,s,o){var n=window.sfBlazor.getCompInstance(t);sf.base.isNullOrUndefined(n)||(e&&e instanceof HTMLElement&&i&&(n.isDisposed=!0,n.closePopup(s,o)),n.destroy())}}}()}}]);(async()=>{await import(`${document.baseURI}_content/Syncfusion.Blazor.Core/scripts/syncfusion-blazor-base.min.js?v=24.2.undefined`).then(()=>{sfBlazor.loadDependencies('sfdropdownlist');})})();