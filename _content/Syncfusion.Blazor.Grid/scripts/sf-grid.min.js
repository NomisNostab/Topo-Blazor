(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"./bundles/sf-grid.js":function(e,t,n){"use strict";n.r(t);n("./modules/sf-grid.js")},"./modules/sf-grid.js":function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}window.sfBlazor=window.sfBlazor||{},window.sfBlazor.Grid=function(){"use strict";var e,t,r=null;function o(){if(null!==r)return r;var e,t=document.createElement("div");return t.style.cssText="width:100px;height: 100px;overflow: scroll;position: absolute;top: -9999px;",document.body.appendChild(t),e=t.offsetWidth-t.clientWidth|0,document.body.removeChild(t),r=e}function i(e,t){for(var n=e[t+"ElementSibling"],r=0,o=["e-gridheader","e-gridfooter","e-groupdroparea","e-gridpager","e-toolbar"];n;)o.some((function(e){return n.classList.contains(e)}))&&(r+=n.offsetHeight),n=n[t+"ElementSibling"];return r}function s(e,t,n){for(var r=e;r&&!(n?r.id===t:r.classList.contains(t));)r=r.parentElement;return r}function l(e,t){for(var n=-1,r=0,o=t.length;r<o;r++)if(t[r].isEqualNode(e)){n=r;break}return n}function a(e,t){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}function d(e){var t={};return t.x=sf.base.isNullOrUndefined(e.clientX)?e.changedTouches[0].clientX:e.clientX,t.y=sf.base.isNullOrUndefined(e.clientY)?e.changedTouches[0].clientY:e.clientY,t}function h(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=t(e[r],r);sf.base.isNullOrUndefined(i)||n.push(i)}return n}function p(e){var t=e.querySelector("#"+e.id+"EditConfirm");return e.querySelectorAll(".e-updatedtd").length&&(!t||t.classList.contains("e-popup-close"))}function u(e){return e.options.enableVirtualization&&e.options.groupCount>0&&(e.options.offline||""===e.options.url)}function c(e,t){for(var n=[].slice.call(e.querySelectorAll(t)),r=0;r<n.length;r++)sf.base.remove(n[r])}function f(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];for(var o=0,i=e.length;o<i;o++)t?(sf.base.classList(e[o],n.slice(),[]),e[o].setAttribute("aria-selected","true")):(sf.base.classList(e[o],[],n.slice()),e[o].removeAttribute("aria-selected"))}!function(e){e.timer=null}(e||(e={}));var g=function(){function e(e){this.previousValues={top:0,left:0},this.oneTimeReady=!0,this.parent=e,this.addEventListener(),this.setHeight(),this.setPadding()}return e.prototype.setHeight=function(){var e=0,t=this.parent.element.querySelector(".e-content");if(this.parent.options.frozenRows&&"auto"!==this.parent.options.height&&!this.parent.options.height.match(/%/g)){var n=this.parent.element.querySelector(".e-headercontent").querySelector("tbody");e=n?n.offsetHeight:0,t.style.height=sf.base.formatUnit(parseInt(this.parent.options.height)-e)}},e.prototype.removeUnwantedScroll=function(e,t){void 0===t&&(t=0);var n=!1,r=this.parent.content.offsetWidth>=this.parent.getContentTable().offsetWidth,o=0!=this.parent.options.frozenRows&&0==this.parent.options.frozenColumns,i=this.parent.element.querySelector(".e-movablescrollbar"),s=i?i.offsetHeight:0;return 0!=this.parent.options.frozenColumns&&(n=this.getMovableContent().offsetWidth>=this.getMovableContentTable().offsetWidth+t-2),"Height"===e&&this.parent.content.offsetHeight>=this.parent.getContentTable().offsetHeight+s||!("Width"!==e||!(n||o&&r))&&("100%"==this.parent.options.height&&(this.frozenContentElement().style.borderBottom="none"),!0)},e.prototype.getMovableContent=function(){return this.parent.element.querySelector(".e-movablecontent")},e.prototype.getMovableContentTable=function(){return this.parent.element.querySelector(".e-movablecontent .e-table")},e.prototype.frozenContentElement=function(){return this.parent.element.querySelector(".e-frozencontent")},e.prototype.getScrollbar=function(){return this.parent.element.querySelector(".e-scrollbar")},e.prototype.setPadding=function(){var t=this.parent.element.querySelector(".e-gridheader");if(!sf.base.isNullOrUndefined(t)&&("auto"!=this.parent.options.height||"None"!=this.parent.options.frozenName||0!=this.parent.options.frozenColumns)){if(this.removeUnwantedScroll("Height"))return this.content.style.overflow="auto",void(t.style.paddingRight="");var n=e.getScrollBarWidth()-this.getThreshold(),r=this.getCssProperties();t.style[r.padding]=n>0?n+"px":"0px",t.querySelector(".e-headercontent").style[r.border]=n>0?"1px":"0px";var o=this.parent.element.querySelector(".e-gridfooter");if(o)o.querySelector(".e-summarycontent").style[r.border]=n>0?"1px":"0px",o.style[r.padding]=n>0?n+"px":"0px"}},e.prototype.removePadding=function(e){var t=this.getCssProperties(e),n=this.parent.getHeaderContent().querySelector(".e-headercontent");n.style[t.border]="",n.parentElement.style[t.padding]="";this.parent.getFooterContent()},e.prototype.refresh=function(){if("100%"===this.parent.options.height){var e,t=this.parent.element.querySelector(".e-gridcontent"),n=i(e=t,"previous")+i(e,"next");t.style.height="calc(100% - "+n+"px)"}},e.prototype.getThreshold=function(){return"mozilla"===sf.base.Browser.info.name?.5:1},e.prototype.addEventListener=function(){this.wireEvents()},e.prototype.onContentScroll=function(e){var t=this,n=e,r=n.classList.contains("e-headercontent");return function(e){if(null!==t.content.querySelector("tbody")){var o=e.target,i=o.scrollLeft,s=(o.scrollWidth,o.classList.contains("e-summarycontent"));if(t.previousValues.left!==i){n.scrollLeft=i;var l=0!=t.parent.options.frozenColumns?t.parent.element.querySelector(".e-movablefootercontent"):t.parent.element.querySelector(".e-summarycontent");l&&(l.scrollLeft=i),s&&(t.header.scrollLeft=i),t.previousValues.left=i}else t.previousValues.top=r?o.scrollTop:t.previousValues.top}}},e.prototype.onFreezeContentScroll=function(e){var t=this,n=e;return function(e){if(null!==t.content.querySelector("tbody")){var r=e.target.scrollTop;t.previousValues.top!==r&&(n.scrollTop=r,t.previousValues.top=r)}}},e.prototype.onCustomScrollbar=function(e,t){var n,r=this,o=e,i=t;return function(e){if(null!==r.content.querySelector("tbody")){var t=e.target.scrollLeft;r.previousValues.left!==t&&(r.parent.options.aggregatesCount&&(n=r.parent.element.querySelector(".e-movablefootercontent")),o.scrollLeft=t,i.scrollLeft=t,n&&(n.scrollLeft=t),r.previousValues.left=t)}}},e.prototype.onWheelScroll=function(e){var t=this,n=e;return function(e){if(null!==t.content.querySelector("tbody")){var r=n.scrollTop+(1===e.deltaMode?30*e.deltaY:e.deltaY);t.previousValues.top!==r&&(e.preventDefault(),t.parent.getContent().querySelector(".e-frozencontent").scrollTop=r,n.scrollTop=r,t.previousValues.top=r)}}},e.prototype.onTouchScroll=function(e){var t=this,n=e;return function(e){if("mouse"!==e.pointerType){var r=t.parent.options.frozenColumns>0,o=t.getPointXY(e),i=n.scrollLeft+(t.pageXY.x-o.x),s=r?t.parent.getHeaderContent().querySelector(".e-movableheader"):t.parent.getHeaderContent().querySelector(".e-headercontent"),l=r?t.parent.getContent().querySelector(".e-movablecontent"):t.parent.getContent().querySelector(".e-content");if(!(t.previousValues.left===i||i<0||s.scrollWidth-s.clientWidth<i)){if(event.cancelable&&e.preventDefault(),s.scrollLeft=i,l.scrollLeft=i,r)t.parent.element.querySelector(".e-movablescrollbar").scrollLeft=i;t.pageXY.x=o.x,t.previousValues.left=i}}}},e.prototype.setPageXY=function(){var e=this;return function(t){"mouse"!==t.pointerType&&(e.pageXY=e.getPointXY(t))}},e.prototype.getPointXY=function(e){var t={x:0,y:0};return e.touches&&e.touches.length?(t.x=e.touches[0].pageX,t.y=e.touches[0].pageY):(t.x=e.pageX,t.y=e.pageY),t},e.prototype.wireEvents=function(){var e=this;if(this.oneTimeReady){var t=this.parent.options.frozenColumns;this.content=this.parent.getContent(),this.header=this.parent.getHeaderContent();var n=this.content.querySelector(".e-movablecontent"),r=this.content.querySelector(".e-frozencontent"),o=this.header.querySelector(".e-movableheader"),i=this.content.parentElement.querySelector(".e-movablescrollbar");if(this.parent.options.frozenColumns&&(sf.base.EventHandler.add(t?o:this.header,"touchstart pointerdown",this.setPageXY(),this),sf.base.EventHandler.add(t?o:this.header,"touchmove pointermove",this.onTouchScroll(t?n:this.content),this)),t?(sf.base.EventHandler.add(i,"scroll",this.onCustomScrollbar(n,o),this),sf.base.EventHandler.add(n,"scroll",this.onCustomScrollbar(i,o),this),sf.base.EventHandler.add(o,"scroll",this.onCustomScrollbar(i,n),this),sf.base.EventHandler.add(n,"scroll",this.onFreezeContentScroll(r),this),sf.base.EventHandler.add(r,"scroll",this.onFreezeContentScroll(n),this),sf.base.EventHandler.add(o,"scroll",this.onContentScroll(n),this),sf.base.EventHandler.add(r,"wheel",this.onWheelScroll(n),this),sf.base.EventHandler.add(o,"touchstart pointerdown",this.setPageXY(),this),sf.base.EventHandler.add(o,"touchmove pointermove",this.onTouchScroll(n),this),sf.base.EventHandler.add(n,"touchstart pointerdown",this.setPageXY(),this),sf.base.EventHandler.add(n,"touchmove pointermove",this.onTouchScroll(o),this)):(sf.base.EventHandler.add(this.content,"scroll",this.onContentScroll(this.header),this),sf.base.EventHandler.add(this.header,"scroll",this.onContentScroll(this.content),this)),this.parent.options.aggregatesCount){var s=this.parent.options.frozenColumns?this.parent.element.querySelector(".e-movablefootercontent"):this.parent.element.querySelector(".e-summarycontent");sf.base.isNullOrUndefined(s)||sf.base.EventHandler.add(s,"scroll",this.onContentScroll(this.content),this)}this.parent.options.enableStickyHeader&&this.addStickyListener(!0),this.refresh(),this.oneTimeReady=!1}var l,a,d,h,p,u=this.parent.getContent().querySelector(".e-table");h=function(){l=e.header.scrollLeft,a=u.scrollHeight,d=e.parent.getContent().clientHeight},p=function(){e.parent.options.enableVirtualization||(a<d&&(sf.base.addClass(u.querySelectorAll("tr:last-child td"),"e-lastrowcell"),e.parent.options.frozenColumns&&sf.base.addClass(e.parent.getContent().querySelector(".e-movablecontent").querySelectorAll("tr:last-child td"),"e-lastrowcell")),(e.parent.options.frozenColumns>0||e.parent.options.frozenColumns>0)&&e.header.querySelector(".e-movableheader")?e.header.querySelector(".e-movableheader").scrollLeft=e.previousValues.left:e.header.scrollLeft=e.previousValues.left,e.content.scrollLeft=e.previousValues.left,e.content.scrollTop=e.previousValues.top),e.parent.options.enableColumnVirtualization||(e.content.scrollLeft=l),e.parent.options.frozenColumns&&e.header.querySelector(".e-movableheader")&&(e.header.querySelector(".e-movableheader").scrollLeft=e.content.querySelector(".e-movablecontent").scrollLeft)},requestAnimationFrame((function(){try{p(null,h())}catch(e){p(e)}}))},e.prototype.getCssProperties=function(e){var t={},n=sf.base.isNullOrUndefined(e)?this.parent.options.enableRtl:e;return t.border=n?"borderLeftWidth":"borderRightWidth",t.padding=n?"paddingLeft":"paddingRight",t},e.prototype.getScrollableParent=function(e){if(null===e)return null;var t=sf.base.isNullOrUndefined(e.tagName)?e.scrollingElement:e,n=document.defaultView.getComputedStyle(t,null).overflowY;return t.scrollHeight>t.clientHeight&&"hidden"!==n&&"visible"!==n||"HTML"===e.tagName||"ARTICLE"===e.tagName?e:this.getScrollableParent(e.parentNode)},e.prototype.addStickyListener=function(e){this.gridParentElement=this.getScrollableParent(this.parent.element.parentElement),e&&(this.gridParentElement?sf.base.EventHandler.add("HTML"===this.gridParentElement.tagName||"ARTICLE"===this.gridParentElement.tagName?document:this.gridParentElement,"scroll",this.makeStickyHeader,this):sf.base.EventHandler.remove(this.gridParentElement,"scroll",this.makeStickyHeader))},e.prototype.makeStickyHeader=function(){if(this.parent.options.enableStickyHeader&&this.parent.element&&this.parent.getContent()){var e=this.parent.getContent().parentElement.getBoundingClientRect();if(e){var t=this.parent.getHeaderContent().parentElement,n=this.parent.element.querySelector(".e-toolbar"),r=this.parent.element.querySelector(".e-groupdroparea"),o=this.parent.element.querySelector(".e-ccdlg"),i=this.parent.element.querySelector(".e-cc-toolbar"),s=t.offsetHeight+(n?n.offsetHeight:0)+(r?r.offsetHeight:0),l=this.gridParentElement.getBoundingClientRect().top,a=e.top-(l<0?0:l),d=e.left;if(a<s&&e.bottom>0){t.classList.add("e-sticky");var h=0;r&&(this.setSticky(r,h,e.width,d,!0),h+=r.getBoundingClientRect().height-2),n&&(this.setSticky(n,h,e.width,d,!0),h+=n.getBoundingClientRect().height-2),this.setSticky(t,h,e.width,d,!0)}else if(t.classList.contains("e-sticky")&&this.setSticky(t,null,null,null,!1),r&&this.setSticky(r,null,null,null,!1),n&&this.setSticky(n,null,null,null,!1),o){var p=sf.popups.calculateRelativeBasedPosition(i,o).top+i.getBoundingClientRect().height,u=o.style.display;o.style.display="block";var c=o.getBoundingClientRect(),f=i.getBoundingClientRect().left-e.left-c.width+i.clientWidth+2;o.style.display=u,this.setSticky(o,p,c.width,f,!1)}}}},e.prototype.setSticky=function(e,t,n,r,o){o?(e.style.width=n+"px",e.classList.add("e-sticky")):e.classList.remove("e-sticky"),e.style.top=null!=t?t-2+"px":"",e.style.left=null!==r?parseInt(e.style.left,10)!==r?r+"px":e.style.left:""},e.prototype.destroy=function(){var e=this.parent.element;e&&(e.querySelector(".e-gridheader")||e.querySelector(".e-gridcontent"))&&(this.parent.options.enableStickyHeader&&this.addStickyListener(!1),this.removePadding(),sf.base.EventHandler.remove(this.parent.getContent(),"scroll",this.onContentScroll))},e.getScrollBarWidth=function(){return o()},e}(),m=function(){function e(e){this.parent=e,this.frozenHeader=e.element.querySelector(".e-frozenheader"),this.movableHeader=e.element.querySelector(".e-movableheader"),this.addEventListener()}return e.prototype.addEventListener=function(){this.parent.options.frozenColumns&&(this.setFrozenHeight(),this.refreshFreeze({case:"textwrap"}),this.refreshFreeze({case:"refreshHeight"}))},e.prototype.refreshFreeze=function(e){if("textwrap"===e.case||"refreshHeight"===e.case){var t=void 0,n=void 0,r=void 0,o=this.getFrozenHeader(),i=this.getMovableHeader(),s=this.parent.getContent(),l=this.parent.options.wrapMode;"textwrap"===e.case?(("Header"!==l||e.isModeChg)&&(t=s.querySelector(".e-frozencontent").querySelectorAll("tr"),"LeftRight"===this.parent.options.frozenName&&(r=s.querySelector(".e-frozen-right-content").querySelectorAll("tr")),n=s.querySelector(".e-movablecontent").querySelectorAll("tr"),this.setWrapHeight(t,n,e.isModeChg,!0,!1,r)),"Both"===l||e.isModeChg?(t=o.querySelectorAll("tr"),n=i.querySelectorAll("tr"),"LeftRight"==this.parent.options.frozenName&&(r=this.parent.element.querySelectorAll(".e-frozenheader")[1].querySelectorAll("tr"))):(t=o.querySelector("Content"===l?"tbody":"thead").querySelectorAll("tr"),n=i.querySelector("Content"===l?"tbody":"thead").querySelectorAll("tr")),this.parent.getHeaderContent().querySelectorAll(".e-stackedheadercell").length||this.setWrapHeight(t,n,e.isModeChg,!1,!1,r),this.refreshStackedHdrHgt()):"refreshHeight"===e.case&&("LeftRight"===this.parent.options.frozenName&&(r=s.querySelector(".e-frozen-right-content").querySelectorAll("tr")),this.setWrapHeight(s.querySelector(".e-frozencontent").querySelectorAll("tr"),s.querySelector(".e-movablecontent").querySelectorAll("tr"),e.isModeChg,!1,!1,r),this.parent.getHeaderContent().querySelectorAll(".e-stackedheadercell").length||("LeftRight"==this.parent.options.frozenName&&(r=this.parent.element.querySelectorAll(".e-frozenheader")[1].querySelectorAll("tr")),this.setWrapHeight(o.querySelectorAll("tr"),i.querySelectorAll("tr"),e.isModeChg,!1,!1,r)))}},e.prototype.updateResizeHandler=function(){for(var e=[].slice.call(this.parent.getHeaderContent().querySelectorAll(".e-rhandler")),t=0;t<e.length;t++)e[t].style.height=e[t].parentElement.offsetHeight+"px"},e.prototype.setWrapHeight=function(e,t,n,r,o,i){for(var s,l,a,d=this.parent.options.allowTextWrap,h=this.parent.options.wrapMode,p=this.parent.getHeaderContent().querySelector("thead"),u=this.parent.getHeaderContent().querySelector("tbody"),c=[],f=[],g=[],m=0,v=e.length;m<v;m++)sf.base.isNullOrUndefined(e[m])||sf.base.isNullOrUndefined(t[m])||(i&&(g[m]=i[m].getBoundingClientRect().height),c[m]=e[m].getBoundingClientRect().height,f[m]=t[m].getBoundingClientRect().height);for(m=0,v=e.length;m<v;m++){(n&&("Header"===h&&r||"Content"===h&&p.contains(e[m])||"Header"===h&&u.contains(e[m]))||o)&&(i[m]&&(i[m].style.height=null),e[m].style.height=null,t[m].style.height=null),s=c[m],l=f[m],a=g[m]?g[m]:0;var y=Math.max(s,l,a);t[m].style.height=y+"px",e[m].style.height=y+"px",i&&(i[m].style.height=y+"px")}d&&this.setFrozenHeight()},e.prototype.setFrozenHeight=function(e){if(!this.parent.options.isPreventScrollEvent){var t=sf.base.isNullOrUndefined(this.parent.element.querySelector(".e-frozencontent"))?0:this.parent.element.querySelector(".e-frozencontent").getElementsByClassName("e-table")[0].offsetHeight,n=this.parent.element.querySelector(".e-movablecontent"),r=this.parent.element.querySelectorAll(".e-frozencontent"),i=this.parent.element.querySelectorAll(".e-frozenscrollbar"),s=this.parent.element.querySelector(".e-movablescrollbar"),l=this.parent.element.querySelector(".e-movablechild"),a=this.parent.element.querySelector(".e-content"),d=0;if(e=Array.from(n.getElementsByClassName("e-table")[0].querySelectorAll("col")).filter((function(e){return"width: auto"==e.getAttribute("style")})).length>0&&e?e:0,s&&"100%"!==this.parent.options.height&&"auto"!==this.parent.options.height){var h=parseInt(this.parent.options.height.split?this.parent.options.height.split("px")[0]:this.parent.options.height,10)-s.offsetHeight;a.style.height=h+"px",t<h&&(t=h-1)}if(r.length>0){if("100%"===this.parent.options.height){var p=this.parent.element.querySelector(".e-scrollbar").offsetHeight;this.parent.getContent().style.height="calc(100% - "+p+"px)"}for(var u=0;u<r.length;u++)r[u].style.height=t+1+"px",r[u].style.borderBottom="",i[u].classList.contains("e-frozen-right-scrollbar")?(i[u].style.width=r[u].offsetWidth+o()+"px",d+=r[u].offsetWidth+o()):(i[u].style.width=r[u].offsetWidth+"px",d+=r[u].offsetWidth)}if(this.parent.options.enableVirtualization&&this.parent.options.enableColumnVirtualization&&i){for(var c=this.parent.options.columns,f=0,g=0;g<c.length;g++)c[g].visible&&!sf.base.isNullOrUndefined(c[g].width)&&(f+=parseInt(c[g].width.split?c[g].width.split("px")[0]:c[g].width.toString(),10));l.style.width=f-d+o()+"px"}else{n.style.height=t+1+"px";var m=this.parent.getColumns();if(this.parent.getRowHeight()<=20&&m.filter((function(e){return"CheckBox"==e.type})))n.getElementsByClassName("e-table")[0].style.height=t-1+"px";s.style.width=n.offsetWidth+"px",l.style.width=n.getElementsByClassName("e-table")[0].offsetWidth+e+o()+"px"}this.parent.options.enableVirtualization&&!this.parent.options.enableColumnVirtualization&&(n.style.width=this.parent.element.querySelector(".e-movableheader").offsetWidth-1+"px"),this.parent.scrollModule.getScrollbar().style.display=this.parent.scrollModule.removeUnwantedScroll("Width",e)?"none":"flex"}},e.prototype.updateStackedFrozenHeight=function(e,t){for(var n,r,o=0,i=e.length;o<i;o++)n=this.getRowSpan(e[o]),r=this.getRowSpan(t[o]),n.min>1?this.updateStackedHdrRowHgt(o,n.max,e[o],t):r.min>1&&this.updateStackedHdrRowHgt(o,r.max,t[o],e)},e.prototype.refreshStackedHdrHgt=function(){var e,t=this.getFrozenHeader().querySelectorAll(".e-columnheader"),n=this.getMovableHeader().querySelectorAll(".e-columnheader");"LeftRight"==this.parent.options.frozenName?(e=this.parent.element.querySelectorAll(".e-frozenheader")[1].querySelectorAll(".e-columnheader"),this.updateStackedFrozenHeight(e,n)):this.updateStackedFrozenHeight(t,n),this.parent.options.allowResizing&&this.updateResizeHandler()},e.prototype.getRowSpan=function(e){for(var t,n,r,o=0,i=e.childElementCount;o<i;o++)0===o&&(n=e.children[0].rowSpan),t=e.children[o].rowSpan,n=Math.min(t,n),r=Math.max(t,n);return{min:n,max:r}},e.prototype.updateStackedHdrRowHgt=function(e,t,n,r){for(var o=0,i=0;i<t;i++)o+=r[e+i].style.height?parseInt(r[e+i].style.height,10):r[e+i].offsetHeight;n.style.height=o+"px"},e.prototype.getFrozenHeader=function(){return this.frozenHeader},e.prototype.getMovableHeader=function(){return this.movableHeader},e.prototype.refreshRowHeight=function(){0==this.parent.options.rowHeight&&(this.parent.options.frozenColumns||this.parent.options.frozenRows)&&(this.clearWrapHeight(),this.refreshStackedHdrHgt(),this.refreshFreeze({case:"refreshHeight"}),this.parent.options.allowResizing&&this.updateResizeHandler())},e.prototype.clearWrapHeight=function(){var e=function(e,t){for(var n=0,r=e.length;n<r;n++)sf.base.isNullOrUndefined(e[n])||sf.base.isNullOrUndefined(t[n])||(e[n].style.height=null,t[n].style.height=null)};this.parent.options.frozenColumns&&((this.parent.options.frozenRows||"Both"==this.parent.options.wrapMode||"Header"==this.parent.options.wrapMode)&&e(this.parent.element.querySelector(".e-frozenheader").querySelectorAll("tr"),this.parent.element.querySelector(".e-movableheader").querySelectorAll("tr")),e(this.parent.element.querySelector(".e-frozencontent").querySelectorAll("tr"),this.parent.element.querySelector(".e-movablecontent").querySelectorAll("tr"))),this.parent.options.frozenRows&&0==this.parent.options.frozenColumns&&e(this.parent.element.querySelector(".e-headercontent").querySelectorAll("tr"),this.parent.element.querySelector(".e-content").querySelectorAll("tr"))},e}(),v=function(){function e(e){this.parent=e}return e.prototype.setMinwidthBycalculation=function(e){var t=0,n=this.parent.getColumns().filter((function(e){return sf.base.isNullOrUndefined(e.width)||"auto"===e.width||""===e.width}));if(n.length){t=sf.base.isNullOrUndefined(this.parent.options.width)||"auto"===this.parent.options.width?this.parent.element.getBoundingClientRect().width-e:("string"==typeof this.parent.options.width?parseInt(this.parent.options.width,10):this.parent.options.width)-e;for(var r=0,o=0,i=0,s=n;i<s.length;i++){var l=s[i];r+=sf.base.isNullOrUndefined(l.minWidth)?0:"string"==typeof l.minWidth?parseInt(l.minWidth,10):l.minWidth}for(var a={},d=0;d<n.length;d++)0===e&&this.parent.options.allowResizing&&this.isWidthUndefined()&&d!==n.length-1&&this.setUndefinedColumnWidth(n),0!==e&&t<r?(a[n[d].field]=n[d].minWidth+"px",o+=parseInt(n[d].minWidth.toString(),10)):0!==e&&t>r&&(a[n[d].field]="",o+=0);this.parent.dotNetRef.invokeMethodAsync("SetMinWidth",a),this.parent.options.frozenColumns&&this.parent.freezeModule.setFrozenHeight(o)}},e.prototype.setUndefinedColumnWidth=function(e){for(var t=0;t<e.length;t++)t!==e.length-1&&(e[t].width=200,this.setWidth(200,this.parent.getColumnIndexByField(e[t].field)))},e.prototype.setColumnWidth=function(e,t,n,r){if(void 0===r&&(r=!0),!(this.parent.getColumns().length<1)){var o;o=this.parent.options.enableColumnVirtualization?this.parent.options.virtualizedColumns.findIndex((function(t){return t.uid==e.uid}))+this.parent.getIndentCount():sf.base.isNullOrUndefined(t)?this.parent.getNormalizedColumnIndex(e.uid):t;var i=this.getWidth(e),s=this.getTableWidth(this.parent.getColumns());null!==i&&(this.setWidth(i,o),"auto"!==this.parent.options.width&&-1===this.parent.options.width.toString().indexOf("%")&&this.setMinwidthBycalculation(s),this.parent.options.enableColumnVirtualization&&"resize"===n&&(this.parent.options.virtualizedColumns.filter((function(t){return t.uid==e.uid}))[0].width=i,this.parent.virtualContentModule.refreshOffsets(),this.parent.virtualContentModule.setVirtualHeight()),(this.parent.options.allowResizing&&"resize"===n||this.parent.options.frozenColumns&&this.parent.options.allowResizing)&&this.setWidthToTable(null,!1,"resize"),r&&(i.toString().indexOf("px")>0&&(i=i.toString().replace("px","")),this.parent.dotNetRef.invokeMethodAsync("ColumnWidthChanged",{index:o,width:i,columnUid:e.uid})))}},e.prototype.setWidth=function(e,t,n){var r=this;if("string"==typeof e&&-1!==e.indexOf("%")&&(!Boolean(window.chrome)||!Boolean(window.chrome.webstore))&&this.parent.options.allowGrouping){var o=this.parent.element.offsetWidth;e=parseInt(e,10)/100*o}var i,l,a=this.parent.getHeaderTable(),d=this.parent.getContentTable(),h=sf.base.formatUnit(e),p=this.parent.options.frozenColumns,u=this.parent.getHeaderContent().querySelector(".e-movableheader"),c=this.parent.getContent().querySelector(".e-movablecontent"),f=0;if(0!=this.parent.options.frozenRightCount||0!=this.parent.options.frozenLeftCount){this.parent.updateColumnLevelFrozen();var g=this.parent.options.enableColumnVirtualization?t:this.parent.frozenColumnModel.findIndex((function(e){return e.uid==r.parent.columnModel[t].uid}));if("Left"==this.parent.options.frozenName&&(v=g<this.parent.options.frozenLeftCount?a:u),"Right"==this.parent.options.frozenName)v=g>=(f=this.parent.options.columns.length-this.parent.options.frozenRightCount)?a:u;else if("LeftRight"==this.parent.options.frozenName){f=this.parent.options.columns.length-this.parent.options.frozenRightCount-this.parent.options.frozenLeftCount;var m=this.parent.getHeaderContent().querySelector(".e-frozen-right-header");v=g<this.parent.options.frozenLeftCount?a:g<this.parent.options.frozenLeftCount+f?u:m}if(!(i=this.getColumnLevelFrozenColgroup(g,this.parent.options.frozenLeftCount,f,v)))return}else if(p&&t>=p&&u&&u.querySelector("colgroup"))i=u.querySelector("colgroup").children[t-p];else if(this.parent.options.enableColumnVirtualization&&p&&u.scrollLeft>0){i=(b=u.querySelector("colgroup")).children[b.children.length-1-t]}else i=a.querySelector("colgroup").children[t];if(i&&!n?i.style.width=h:i&&n&&(i.style.width=" "),0!=this.parent.options.frozenRightCount||0!=this.parent.options.frozenLeftCount){var v;g=this.parent.options.enableColumnVirtualization?t:this.parent.frozenColumnModel.findIndex((function(e){return e.uid==r.parent.columnModel[t].uid}));if("Left"==this.parent.options.frozenName&&(v=g<this.parent.options.frozenLeftCount?d:c),"Right"==this.parent.options.frozenName&&(v=g>=(f=this.parent.options.columns.length-this.parent.options.frozenRightCount)?d:c),"LeftRight"==this.parent.options.frozenName){var y=this.parent.getContent().querySelector(".e-frozen-right-content");v=g<this.parent.options.frozenLeftCount?d:g<this.parent.options.frozenLeftCount+f?c:y}l=this.getColumnLevelFrozenColgroup(g,this.parent.options.frozenLeftCount,f,v)}else if(p&&t>=p)l=this.parent.getContent().querySelector(".e-movablecontent").querySelector("colgroup").children[t-p];else if(this.parent.options.enableColumnVirtualization&&p&&c.scrollLeft>0){var b;l=(b=this.parent.getContent().querySelector(".e-movablecontent").querySelector("colgroup")).children[b.children.length-1-t]}else l=d.querySelector("colgroup").children[t];if(l&&!n?l.style.width=h:l&&n&&(l.style.width=" "),0!=this.parent.options.aggregatesCount){var C=void 0;if(p&&t>=p){var w=this.parent.getFooterContent().querySelector(".e-movablefootercontent"),S=sf.base.isNullOrUndefined(w)?null:w.querySelector("colgroup");C=sf.base.isNullOrUndefined(S)?null:S.children[t-p]}else{var z=this.parent.getFooterContent().querySelector("colgroup");C=sf.base.isNullOrUndefined(z)?null:z.children[t]}l&&C&&!n?C.style.width=h:l&&C&&n&&(C.style.width=" ")}for(var x=this.parent.element.querySelectorAll(".e-table.e-inline-edit"),E=[],R=0;R<x.length;R++)if(s(x[R],"e-grid").id===this.parent.element.id)for(var A=0;A<x[R].querySelector("colgroup").children.length;A++)E.push(x[R].querySelector("colgroup").children[A]);x.length&&E.length&&(E[t].style.width=h),0==this.parent.options.frozenColumns||this.parent.options.enableColumnVirtualization||this.parent.freezeModule.setFrozenHeight()},e.prototype.getColumnLevelFrozenColgroup=function(e,t,n,r){if(!r||!r.querySelector("colgroup"))return null;var o=this.parent.options.enableColumnVirtualization?this.parent.options.virtualizedColumns:this.parent.frozenColumnModel,i=[].slice.call(r.querySelector("colgroup").children);return"Left"===o[e].freeze&&o[e].isFrozen?i[e]:"Right"===o[e].freeze&&o[e].isFrozen?i[e-(t+n)]:i[e-t]},e.prototype.isWidthUndefined=function(){var e=this.parent.getColumns().filter((function(e){return sf.base.isNullOrUndefined(e.width)&&sf.base.isNullOrUndefined(e.minWidth)})).length;return this.parent.getColumns().length===e},e.prototype.getWidth=function(e){if(!e.width)return null;var t=parseInt(e.width.toString(),10);return e.minWidth&&t<parseInt(e.minWidth.toString(),10)?e.minWidth:e.maxWidth&&t>parseInt(e.maxWidth.toString(),10)?e.maxWidth:e.width},e.prototype.getTableWidth=function(e){for(var t=0,n=0,r=e;n<r.length;n++){var o=r[n],i=this.getWidth(o);"auto"===o.width&&(i=0),!1!==o.visible&&null!==i&&(t+=parseInt(i.toString(),10))}return t},e.prototype.calcMovableOrFreezeColWidth=function(e){var t=0!=this.parent.frozenColumnModel.length?this.parent.frozenColumnModel.slice():this.parent.getColumns().slice(),n=this.parent.options.frozenLeftColumnsCount||this.parent.options.actualFrozenColumns,r=t.length-this.parent.options.frozenColumns;return"movable"===e?t.splice(0,this.parent.options.frozenColumns):"freeze-left"===e?t.splice(n,t.length):"freeze-right"===e&&t.splice(0,n+r),sf.base.formatUnit(this.getTableWidth(t))},e.prototype.setWidthToFrozenLeftTable=function(e){var t=sf.base.isNullOrUndefined(e)?this.calcMovableOrFreezeColWidth("freeze-left"):e;this.parent.getHeaderTable().style.width=t,this.parent.getContentTable().style.width=t,this.parent.resizeModule.leftFrozenTableWidth=t,this.parent.getFooterContent()&&this.parent.getFooterContent().querySelector(".e-frozenfootercontent").firstElementChild&&(this.parent.getFooterContent().querySelector(".e-frozenfootercontent").firstElementChild.style.width=t)},e.prototype.setWidthToFrozenRightTable=function(e){var t=sf.base.isNullOrUndefined(e)?this.calcMovableOrFreezeColWidth("freeze-right"):e;this.parent.options.enableColumnVirtualization||(this.parent.getHeaderContent().querySelector(".e-frozen-right-header").querySelector(".e-table").style.width=t,this.parent.getContent().querySelector(".e-frozen-right-content").querySelector(".e-table").style.width=t,this.parent.resizeModule.rightFrozenTableWidth=t),this.parent.getFooterContent()&&this.parent.getFooterContent().querySelector(".e-frozenfootercontent").firstElementChild&&(this.parent.getFooterContent().querySelector(".e-frozenfootercontent").firstElementChild.style.width=t)},e.prototype.setWidthToMovableTable=function(e){var t="";if(sf.base.isNullOrUndefined(e)){var n=this.parent.getColumns().filter((function(e){return sf.base.isNullOrUndefined(e.width)})).length>=1,r=this.parent.getColumns().filter((function(e){return"auto"===e.width})).length>=1;"number"!=typeof this.parent.options.width||n||r?n||r||(t=this.calcMovableOrFreezeColWidth("movable")):t=sf.base.formatUnit(this.parent.options.width-parseInt(this.calcMovableOrFreezeColWidth("freeze").split("px")[0],10)-5)}else t=e;this.parent.getHeaderContent().querySelector(".e-movableheader").firstElementChild&&!this.parent.options.enableColumnVirtualization&&(this.parent.getHeaderContent().querySelector(".e-movableheader").firstElementChild.style.width=t),this.parent.getFooterContent()&&this.parent.getFooterContent().querySelector(".e-movablefootercontent").firstElementChild&&(this.parent.getFooterContent().querySelector(".e-movablefootercontent").firstElementChild.style.width=t),this.parent.options.enableColumnVirtualization||(this.parent.getContent().querySelector(".e-movablecontent").firstElementChild.style.width=t,this.parent.resizeModule.tableWidth=t)},e.prototype.setWidthToFrozenEditTable=function(){var e=this.calcMovableOrFreezeColWidth("freeze");this.parent.element.querySelectorAll(".e-table.e-inline-edit")[0].style.width=e},e.prototype.setWidthToMovableEditTable=function(){var e=this.calcMovableOrFreezeColWidth("movable");this.parent.element.querySelectorAll(".e-table.e-inline-edit")[1].style.width=e},e.prototype.setPersistedWidth=function(e){this.parent.options.frozenColumns?0!=this.parent.options.frozenRightColumnsCount||0!=this.parent.options.frozenLeftColumnsCount?(0!=this.parent.options.frozenLeftColumnsCount&&this.setWidthToFrozenLeftTable(e.leftFrozenTableWidth),0!=this.parent.options.frozenRightColumnsCount&&this.setWidthToFrozenRightTable(e.rightFrozenTableWidth),this.setWidthToMovableTable(e.tableWidth)):(this.setWidthToFrozenLeftTable(e.leftFrozenTableWidth),this.setWidthToMovableTable(e.tableWidth)):(this.parent.getHeaderTable().style.width=e.tableWidth,this.parent.getContentTable().style.width=e.tableWidth,0!=this.parent.options.aggregatesCount&&(this.parent.getFooterContent().querySelector(".e-table").style.width=e.tableWidth))},e.prototype.setWidthToTable=function(e,t,n){var r;void 0===e&&(e=null),void 0===t&&(t=!1),void 0===n&&(n=""),r=this.parent.options.enableColumnVirtualization&&"resize"===n?sf.base.formatUnit(this.getTableWidth(this.parent.options.virtualizedColumns)):sf.base.formatUnit(this.getTableWidth(null!=e?e:this.parent.getColumns())),this.parent.options.frozenColumns?0!=this.parent.options.frozenRightColumnsCount||0!=this.parent.options.frozenLeftColumnsCount?(0!=this.parent.options.frozenLeftColumnsCount&&this.setWidthToFrozenLeftTable(),0!=this.parent.options.frozenRightColumnsCount&&this.setWidthToFrozenRightTable(),this.setWidthToMovableTable()):(this.setWidthToFrozenLeftTable(),this.setWidthToMovableTable()):(this.parent.options.hasDetailTemplate&&this.setWidth("30",0),t&&(r=""),this.parent.resizeModule.tableWidth=r,this.parent.getHeaderTable().style.width=r,this.parent.getContentTable().style.width=r,0!=this.parent.options.aggregatesCount&&(this.parent.getFooterContent().querySelector(".e-table").style.width=r));var o=this.parent.element.querySelector(".e-table.e-inline-edit");o&&this.parent.options.frozenColumns?(this.setWidthToFrozenEditTable(),this.setWidthToMovableEditTable()):o&&(o.style.width=r)},e}(),y=function(){function e(e){var t=this;this.dragStart=function(e){var n=t.parent;document.body.classList.add("e-prevent-select");var r=n.element.querySelector(".e-gridpopup");r&&(r.style.display="none"),t.parent.reorderModule.dragStart({target:e.target,column:t.column,event:e.event}),t.parent.groupModule.columnDragStart({target:e.target,column:t.column}),e.bindEvents(e.dragElement)},this.drag=function(e){var n=t.parent,r=e.target;if(r){var o=sf.base.closest(r,".e-grid"),i=sf.base.closest(r,".e-gridcontent"),s=sf.base.closest(r,".e-gridpager"),l=t.parent.element.querySelector(".e-cloneproperties");if((!o||o.getAttribute("id")!==n.element.getAttribute("id")||i||s)&&(sf.base.classList(l,["e-notallowedcur"],["e-defaultcur"]),n.options.allowReordering&&(n.element.querySelector(".e-reorderuparrow").style.display="none",n.element.querySelector(".e-reorderdownarrow").style.display="none"),!n.options.groupReordering))return;n.options.allowReordering&&t.parent.reorderModule.drag({target:e.target,column:t.column,event:e.event}),n.options.allowGrouping&&t.parent.groupModule.columnDrag({target:e.target})}},this.dragStop=function(e){var n,r=t.parent;document.body.classList.remove("e-prevent-select");var o=r.element.querySelector(".e-gridpopup");o&&(o.style.display="none"),(!s(e.target,"e-headercell")&&!s(e.target,"e-groupdroparea")||!r.options.allowReordering&&s(e.target,"e-headercell")||!e.helper.getAttribute("e-mappinguid")&&s(e.target,"e-groupdroparea"))&&(sf.base.remove(e.helper),n=!0),r.options.allowReordering&&t.parent.reorderModule.dragStop({target:e.target,event:e.event,column:t.column,cancel:n})},this.drop=function(e){var n=t.parent,r=(e.droppedElement.getAttribute("e-mappinguid"),sf.base.closest(e.target,".e-grid"));sf.base.remove(e.droppedElement),r&&r.getAttribute("id")!==n.element.getAttribute("id")||!n.options.allowReordering&&!n.options.allowGrouping||(n.options.allowReordering&&t.parent.reorderModule.headerDrop({target:e.target}),n.options.allowGrouping&&n.options.showDropArea&&t.parent.groupModule.columnDrop({target:e.target,droppedElement:e.droppedElement}))},this.helper=function(e){var n=t.parent,r=e.sender.target,o=sf.base.closest(r,".e-headercell:not(.e-stackedHeaderCell)");if(o){var i=(o.querySelector(".e-headercelldiv")||o.querySelector(".e-stackedheadercelldiv")).getAttribute("e-mappinguid"),l=n.getColumnByUid(i);if(!sf.base.isNullOrUndefined(l)&&!l.allowGrouping&&!l.allowReordering)return!1}var a=s(r,"e-headercell");if(n.getContent().classList.contains("e-freezeline-moving")||!n.options.allowReordering&&!n.options.allowGrouping||!sf.base.isNullOrUndefined(a)&&a.querySelectorAll(".e-checkselectall").length>0)return!1;var d=sf.base.createElement("div",{className:"e-cloneproperties e-dragclone e-headerclone"}),h=r.classList.contains("e-headercell")?r:a;if(!h||!n.options.allowReordering&&h.classList.contains("e-stackedheadercell"))return!1;var p,u=h.offsetHeight,c=h.querySelector(".e-headercelldiv")||h.querySelector(".e-stackedheadercelldiv");if(c){if(p=h.querySelector(".e-stackedheadercelldiv")?n.getStackedHeaderColumnByHeaderText(c.innerText.trim(),n.options.columns):n.getColumnByUid(c.getAttribute("e-mappinguid")),t.column=p,t.column.lockColumn)return!1;d.setAttribute("e-mappinguid",c.getAttribute("e-mappinguid"))}return d.innerHTML=c?p.headerText:h.firstElementChild.innerHTML,d.style.width=h.offsetWidth+"px",d.style.height=h.offsetHeight+"px",d.style.lineHeight=(u-6).toString()+"px",n.element.appendChild(d),d},this.parent=e,(this.parent.options.allowGrouping||this.parent.options.allowReordering)&&(this.initializeHeaderDrag(),this.initializeHeaderDrop())}return e.prototype.initializeHeaderDrag=function(){var e=this.parent;if(this.parent.options.allowReordering||this.parent.options.allowGrouping&&this.parent.options.showDropArea)for(var t=[].slice.call(e.getHeaderContent().querySelectorAll(".e-columnheader")),n=0,r=t.length;n<r;n++)this.draggable=new sf.base.Draggable(t[n],{dragTarget:".e-headercell",distance:5,helper:this.helper,dragStart:this.dragStart,drag:this.drag,dragStop:this.dragStop,abort:".e-rhandler",isPreventSelect:!1})},e.prototype.initializeHeaderDrop=function(){var e=this.parent;this.droppable=new sf.base.Droppable(e.getHeaderContent(),{accept:".e-dragclone",drop:this.drop})},e.prototype.destroy=function(){sf.base.isNullOrUndefined(this.draggable)||this.draggable.destroy(),sf.base.isNullOrUndefined(this.droppable)||this.droppable.destroy()},e}(),b=function(){function e(e){var t=this;this.drop=function(e){t.parent.groupModule.columnDrop({target:e.target,droppedElement:e.droppedElement}),sf.base.remove(e.droppedElement)},this.parent=e,this.parent.options.allowGrouping&&this.initializeContentDrop()}return e.prototype.initializeContentDrop=function(){var e=this.parent;new sf.base.Droppable(e.getContent(),{accept:".e-dragclone",drop:this.drop})},e}(),C=function(){function e(e){this.parent=e,e.options.allowReordering&&this.createReorderElement()}return e.prototype.chkDropPosition=function(e,t){var n=this.parent.getColumnByUid(t.firstElementChild.getAttribute("e-mappinguid")),r=!n||!n.lockColumn;return(e.parentElement.isEqualNode(t.parentElement)||this.parent.options.frozenColumns&&Array.prototype.indexOf.call(sf.base.closest(e,"thead").children,e.parentElement)===Array.prototype.indexOf.call(sf.base.closest(t,"thead").children,t.parentElement))&&this.targetParentContainerIndex(e,t)>-1&&r},e.prototype.chkDropAllCols=function(e,t){for(var n,r=this.getHeaderCells();!n&&r.length>0;)n=e!==r.pop()&&this.targetParentContainerIndex(e,t)>-1;return n},e.prototype.findColParent=function(e,t,n){n=n;for(var r=0,o=t.length;r<o;r++){if(e===t[r])return!0;if(t[r].columns){var i=n.length;if(n.push(t[r]),this.findColParent(e,t[r].columns,n))return!0;n.splice(i,n.length-i)}}return!1},e.prototype.getColumnsModel=function(e){for(var t=[],n=[],r=0,o=e.length;r<o;r++)t.push(e[r]),e[r].columns&&(n=n.concat(e[r].columns));return n.length&&(t=t.concat(this.getColumnsModel(n))),t},e.prototype.headerDrop=function(e){var t=this.parent,n=(this.element.querySelector(".e-headercelldiv")||this.element.querySelector(".e-stackedheadercelldiv")).getAttribute("e-mappinguid"),r=t.getColumnByUid(n);if(sf.base.closest(e.target,"th")&&(sf.base.isNullOrUndefined(r)||r.allowReordering&&!r.lockColumn)){var o=sf.base.closest(e.target,".e-headercell"),i=(o.querySelector(".e-headercelldiv")||o.querySelector(".e-stackedheadercelldiv")).getAttribute("e-mappinguid");if(!sf.base.isNullOrUndefined(i)){var s=t.getColumnByUid(i);if(sf.base.isNullOrUndefined(s)||!s.allowReordering||s.lockColumn)return}if(o&&this.chkDropPosition(this.element,o)&&this.chkDropAllCols(this.element,o))if(this.parent.options.enableColumnVirtualization){var a=this.parent.options.columns,d=this.element.querySelector(".e-headercelldiv").getAttribute("e-mappinguid"),h=this.parent.getColumns(!0).filter((function(e){return e.uid===d})),p=null,u=h[0],c=o.querySelector(".e-headercelldiv").getAttribute("e-mappinguid");a.some((function(e,t){return e.uid===c&&(p=t,e.uid===c)}));sf.base.isNullOrUndefined(p)||this.moveColumns(p,u)}else{var f=this.targetParentContainerIndex(this.element,o),g=this.element.firstElementChild.getAttribute("e-mappinguid");if(this.destElement=o,g)this.moveColumns(f,this.parent.getColumnByUid(g));else{var m=this.getHeaderCells(),v=l(this.element,m),y=(a=this.getColumnsModel(this.parent.options.columns))[v];this.moveColumns(f,y)}}}},e.prototype.isActionPrevent=function(e){return p(e.element)},e.prototype.moveColumns=function(e,t,n,r){var o=this.parent;if(!this.isActionPrevent(o)){var i=this.getColParent(t,this.parent.options.columns),s=i?i.columns:this.parent.options.columns,l=a(t,s);if(this.parent.options.frozenColumns&&i&&!n){for(var d=0;d<s.length;d++)if(s[d].field===t.field){l=d;break}var h=this.parent.getColumnByUid(this.destElement.firstElementChild.getAttribute("e-mappinguid"));if(h){for(d=0;d<s.length;d++)if(s[d].field===h.field){e=d;break}}else for(d=0;d<s.length;d++)s[d].headerText===this.destElement.innerText.trim()&&(e=d)}o.options.allowReordering&&l!==e&&-1!==l&&-1!==e&&(s.splice(e,0,s.splice(l,1)[0]),o.getColumns(!0),!1!==r&&setTimeout((function(){o.dotNetRef.invokeMethodAsync("ColumnReordered",{requestType:"reorder",fromIndex:e,toIndex:l,toColumnUid:t.uid})}),10))}},e.prototype.targetParentContainerIndex=function(e,t){var n=this.getHeaderCells();"None"!==this.parent.options.frozenName&&this.parent.updateColumnLevelFrozen();var r=this.parent.options.columns,o="None"==this.parent.options.frozenName?this.getColumnsModel(r):this.parent.frozenReorderColumnModel.slice(),i=this.getColParent(o[l(e,n)],r);return r=i?i.columns:r,a(o[l(t,n)],r)},e.prototype.getHeaderCells=function(){var e=this.parent.options.frozenColumns;if(e&&"None"===this.parent.options.frozenName){var t=void 0,n=void 0,r=[],o=[].slice.call(this.parent.element.querySelector(".e-frozenheader").querySelectorAll(".e-columnheader"));if(e&&"None"===this.parent.options.frozenName)for(var i=[].slice.call(this.parent.getHeaderContent().querySelector(".e-movableheader").querySelectorAll(".e-columnheader")),s=0;s<o.length;s++){t=[].slice.call(o[s].getElementsByClassName("e-headercell")),n=[].slice.call(i[s].getElementsByClassName("e-headercell"));for(var l=void 0,a=0;a<t.length;a++){for(var d=0;d<n.length;d++)if(n[d].innerText===t[a].innerText){l=!0;break}l||(r=r.concat([t[a]]))}for(d=0;d<n.length;d++)r.push(n[d])}else for(s=0;s<o.length;s++){n=[].slice.call(o[s].getElementsByClassName("e-headercell"));for(a=0;a<n.length;a++){for(l=void 0,d=a+1;d<n.length;d++)if(n[d].innerText===n[a].innerText){l=!0;break}l||(r=r.concat([n[a]]))}}return r}return[].slice.call(this.parent.element.getElementsByClassName("e-headercell"))},e.prototype.getColParent=function(e,t){var n=[];return this.findColParent(e,t,n),n[n.length-1]},e.prototype.reorderSingleColumn=function(e,t){var n=this.parent.getColumnByField(e),r=this.parent.getColumnByField(t);if((sf.base.isNullOrUndefined(n)||n.allowReordering&&!n.lockColumn)&&(sf.base.isNullOrUndefined(r)||r.allowReordering&&!n.lockColumn)){var o=this.parent.getColumnByField(t),i=this.getColParent(o,this.parent.options.columns),s=a(o,i?i.columns:this.parent.options.columns);s>-1&&this.moveColumns(s,this.parent.getColumnByField(e),!0)}},e.prototype.reorderMultipleColumns=function(e,t){var n=this.parent.getColumnIndexByField(t),r=this.parent.getColumnByField(t);if(!(n<0)&&(sf.base.isNullOrUndefined(r)||r.allowReordering&&!r.lockColumn)){for(var o=0;o<e.length;o++){var i=this.parent.getColumnByField(e[o]);if(!sf.base.isNullOrUndefined(i)&&(!i.allowReordering||i.lockColumn))return}for(o=0;o<e.length;o++){i=this.parent.getColumnByIndex(n);var s=this.getColParent(i,this.parent.options.columns),l=a(i,s?s.columns:this.parent.options.columns);l>-1&&this.moveColumns(l,this.parent.getColumnByField(e[o]),!0,!1),this.parent.getColumnIndexByField(e[o+1])>=l&&n++}var d=this.parent.getColumns();this.parent.dotNetRef.invokeMethodAsync("ColumnReordered",{fromColumnUid:e.map((function(e){return d.filter((function(t){return t.field===e}))[0].uid})),toColumnUid:r.uid,isMultipleReorder:!0,requestType:"reorder",type:"actionBegin"})}},e.prototype.moveTargetColumn=function(e,t){t>-1&&this.moveColumns(t,e,!0)},e.prototype.reorderSingleColumnByTarget=function(e,t){var n=this.parent.getColumnByField(e);this.moveTargetColumn(n,t)},e.prototype.reorderMultipleColumnByTarget=function(e,t){for(var n=0;n<e.length;n++)this.reorderSingleColumnByTarget(e[n],t)},e.prototype.reorderColumns=function(e,t){"string"==typeof e?(this.reorderSingleColumn(e,t),this.fromCol=e):(this.reorderMultipleColumns(e,t),this.fromCol=e[0])},e.prototype.reorderColumnByIndex=function(e,t){var n=this.parent.getColumnByIndex(e);this.moveTargetColumn(n,t)},e.prototype.reorderColumnByTargetIndex=function(e,t){"string"==typeof e?this.reorderSingleColumnByTarget(e,t):this.reorderMultipleColumnByTarget(e,t)},e.prototype.createReorderElement=function(){var e=this.parent.element.querySelector(".e-headercontent");this.upArrow=e.appendChild(sf.base.createElement("div",{className:"e-icons e-icon-reorderuparrow e-reorderuparrow",attrs:{style:"display:none"}})),this.downArrow=e.appendChild(sf.base.createElement("div",{className:"e-icons e-icon-reorderdownarrow e-reorderdownarrow",attrs:{style:"display:none"}}))},e.prototype.destroy=function(){this.parent.element;this.upArrow&&sf.base.remove(this.upArrow),this.downArrow&&sf.base.remove(this.downArrow)},e.prototype.keyPressHandler=function(e){this.parent;e.action},e.prototype.drag=function(e){var t=this.parent,n=e.target,r=t.element.querySelector(".e-cloneproperties");if(e.column.allowReordering&&!e.column.lockColumn){var o=sf.base.closest(n,".e-headercell:not(.e-stackedHeaderCell)"),i=this.x>d(e.event).x+t.getContent().firstElementChild.scrollLeft;if(sf.base.removeClass(t.element.querySelector(".e-headercontent").querySelectorAll(".e-reorderindicate"),["e-reorderindicate"]),this.setDisplay("none"),this.stopTimer(),sf.base.classList(r,["e-defaultcur"],["e-notallowedcur"]),this.updateScrollPostion(e.event),o&&!o.isEqualNode(this.element)){n=o;var l=(o.querySelector(".e-headercelldiv")||o.querySelector(".e-stackedheadercelldiv")).getAttribute("e-mappinguid"),a=t.getColumnByUid(l);this.chkDropPosition(this.element,n)&&this.chkDropAllCols(this.element,n)&&a.allowReordering?(this.updateArrowPosition(n,i),sf.base.classList(n,["e-allowDrop","e-reorderindicate"],[])):t.options.allowGrouping&&s(e.target,"e-groupdroparea")||sf.base.classList(r,["e-notallowedcur"],["e-defaultcur"])}}else sf.base.classList(r,["e-notallowedcur"],["e-defaultcur"])},e.prototype.updateScrollPostion=function(e){var t=this,n=this.parent.options.frozenColumns,r=d(e).x,o=this.parent.element.getBoundingClientRect(),i=n?this.parent.element.querySelector(".e-movableheader").getBoundingClientRect().left:o.left,s=o.right,l=n?this.parent.getContent().querySelector(".e-movablecontent"):this.parent.getContent();"None"!==this.parent.options.frozenName?this.updateFrozenScrollPosition(r,o):r>i&&r<i+35?this.timer=window.setInterval((function(){t.setScrollLeft(l,!0)}),50):r<s&&r>s-35&&(this.timer=window.setInterval((function(){t.setScrollLeft(l,!1)}),50))},e.prototype.updateFrozenScrollPosition=function(e,t){var n=this.parent.getContent().querySelector(".e-movablecontent"),r=this.parent.element.querySelector(".e-movableheader").getBoundingClientRect(),o=this.parent.options.frozenLeftCount,i=this.parent.options.frozenRightCount?r.right:t.right,s=o?r.left:t.left;e>s&&e<s+35?this.timer=window.setInterval((function(){this.setScrollLeft(n,!0)}),50):e<i&&e>i-35&&(this.timer=window.setInterval((function(){this.setScrollLeft(n,!1)}),50))},e.prototype.setScrollLeft=function(e,t){var n=e.scrollLeft;e.scrollLeft=e.scrollLeft+(t?-5:5),n!==e.scrollLeft&&this.setDisplay("none")},e.prototype.stopTimer=function(){window.clearInterval(this.timer)},e.prototype.updateArrowPosition=function(e,t){var n=e.getBoundingClientRect(),r=this.parent.element.getBoundingClientRect();t&&n.left<r.left||!t&&n.right>r.right||(this.upArrow.style.top=n.top+n.height-r.top-7+"px",this.downArrow.style.top=n.top-r.top-2+"px",this.upArrow.style.left=this.downArrow.style.left=(t?n.left:n.right)-r.left-4+"px",this.parent.options.enableColumnVirtualization&&(this.upArrow.style.left=this.downArrow.style.left=Number(this.upArrow.style.left.replace("px",""))+this.parent.getContent().scrollLeft+"px"),this.setDisplay(""))},e.prototype.dragStart=function(e){var t=this.parent;document.body.classList.add("e-prevent-select");var n=e.target;this.element=n.classList.contains("e-headercell")?n:s(n,"e-headercell"),e.column.allowReordering&&!e.column.lockColumn&&(this.x=d(e.event).x+t.getContent().firstElementChild.scrollLeft)},e.prototype.dragStop=function(e){var t=this.parent;document.body.classList.remove("e-prevent-select"),this.setDisplay("none"),this.stopTimer(),e.cancel,sf.base.removeClass(t.element.querySelector(".e-headercontent").querySelectorAll(".e-reorderindicate"),["e-reorderindicate"])},e.prototype.setDisplay=function(e){this.upArrow.style.display=e,this.downArrow.style.display=e},e.prototype.getModuleName=function(){return"reorder"},e}(),w="e-rhandler",S="e-rsuppress",z="e-ricon",x="e-rhelper",E="th.e-headercell",R="e-rcursor",A=function(){function e(e){this.tapped=!1,this.isDblClk=!0,this.parent=e,this.widthService=new v(this.parent)}return e.prototype.autoFitColumns=function(e){var t=null==e||e.length<=0?this.parent.getColumns().map((function(e){return e.field||e.uid})):"string"==typeof e?[e]:e;this.findColumn(t)},e.prototype.autoFit=function(){var e=this.parent.getColumns().filter((function(e){return!0===e.autoFit})).map((function(e){return e.field||e.uid}));e.length>0&&this.autoFitColumns(e)},e.prototype.resizeColumn=function(e,t,n){var r,o,i,s=this.parent,l=0,a=0,d=n||this.parent.getUidByColumnField(e);d=d||e;var h,p,u,c=this.parent.getNormalizedColumnIndex(d),f=this.parent.getColumnIndexByField(e);f=-1===f?this.parent.getColumnIndexByUid(e):f;var g=s.options.frozenColumns;sf.base.isNullOrUndefined(s.getFooterContent())||(i=s.getFooterContent().querySelector(".e-table")),g?t<g?(r=s.getHeaderTable(),o=s.getContentTable(),h=r.querySelector('[e-mappinguid="'+d+'"]').parentElement.cloneNode(!0),p=o.querySelectorAll("td:nth-child("+(c+1)+")"),i&&(u=i.querySelectorAll("td:nth-child("+(c+1)+")"))):(r=s.getHeaderContent().querySelector(".e-movableheader").children[0],o=s.getContent().querySelector(".e-movablecontent").children[0],h=r.querySelector('[e-mappinguid="'+d+'"]').parentElement.cloneNode(!0),p=o.querySelectorAll("td:nth-child("+(c-g+1)+")"),i&&(u=(i=s.getFooterContent().querySelector(".e-movablefootercontent").children[0]).querySelectorAll("td:nth-child("+(c-g+1)+")"))):(r=s.getHeaderTable(),o=s.getContentTable(),h=r.querySelector('[e-mappinguid="'+d+'"]').parentElement.cloneNode(!0),p=o.querySelectorAll("td:nth-child("+(c+1)+"):not(.e-groupcaption)"),i&&(u=i.querySelectorAll("td:nth-child("+(c+1)+"):not(.e-groupcaption)")));var m=r.querySelector("tr").querySelectorAll(".e-grouptopleftcell");if(m.length>0)for(var v=0;v<m.length;v++)a+=m[v].offsetWidth;var y=o.querySelector(".e-detailrowcollapse")||o.querySelector(".e-detailrowexpand");this.parent.options.hasDetailTemplate&&y&&(a+=y.offsetWidth);var b=[h],C=[],w=[];if(i)for(v=0;v<u.length;v++)w[v]=u[v].cloneNode(!0);for(v=0;v<p.length;v++)C[v]=p[v].cloneNode(!0);var S=this.createTable(r,b,"e-gridheader"),z=this.createTable(o,C,"e-gridcontent"),x=null;w.length&&(x=this.createTable(i,w,"e-gridfooter"));var E=s.getColumns()[f].width=sf.base.formatUnit(Math.max(S,z,x));if(this.widthService.setColumnWidth(s.getColumns()[f]),!1===s.getColumns().some((function(e){return(null===e.width||void 0===e.width||e.width.length<=0)&&e.visible}))){var R=s.getColumns();for(v=0;v<R.length;v++)R[v].visible&&(l+=parseFloat(R[v].width))}var A=l+a;l>0&&!s.options.frozenColumns&&(this.parent.options.hasDetailTemplate&&this.widthService.setWidth("30",0),r.style.width=sf.base.formatUnit(A),o.style.width=sf.base.formatUnit(A),sf.base.isNullOrUndefined(i)||(i.style.width=sf.base.formatUnit(A)));var I=r.offsetWidth;s.getContent().scrollWidth>I?(r.classList.add("e-tableborder"),o.classList.add("e-tableborder")):(r.classList.remove("e-tableborder"),o.classList.remove("e-tableborder")),sf.base.isNullOrUndefined(i)||i.classList.add("e-tableborder"),this.parent.freezeModule.refreshRowHeight(),E.toString().indexOf("px")>0&&(E=E.replace("px","")),this.parent.options.isResizedGrid=!0,this.parent.dotNetRef.invokeMethodAsync("ColumnWidthChanged",{width:E,columnUid:d})},e.prototype.destroy=function(){var e=this.parent.element;e&&(e.querySelector(".e-gridheader")||e.querySelector(".e-gridcontent"))&&(this.widthService=null,this.unwireEvents())},e.prototype.getModuleName=function(){return"resize"},e.prototype.findColumn=function(e){for(var t=function(t){var r=e[t],o=n.parent.getColumnIndexByField(r);o=-1===o?n.parent.getColumnIndexByUid(r):o;var i=n.parent.getColumns()[o];o>-1&&!sf.base.isNullOrUndefined(i)&&!0===i.visible&&(n.parent.options.allowGrouping&&!sf.base.isNullOrUndefined(n.parent.options.initGroupingField)&&n.parent.options.initGroupingField.some((function(e){return e==i.field}))&&!n.parent.options.showGroupedColumn||n.resizeColumn(r,o))},n=this,r=0;r<e.length;r++)t(r)},e.prototype.createTable=function(e,t,n){var r=sf.base.createElement("div");r.className=this.parent.element.className,r.style.cssText="display: inline-block;visibility:hidden;position:absolute";var o=sf.base.createElement("div");o.className=n;var i=sf.base.createElement("table");i.className=e.className,i.classList.add("e-resizetable"),i.style.cssText="table-layout: auto;width: auto";for(var s=sf.base.createElement("tr"),l=0;l<t.length;l++){var a=s.cloneNode();a.className=e.querySelector("tr").className,a.appendChild(t[l]),i.appendChild(a)}o.appendChild(i),r.appendChild(o),document.body.appendChild(r);var d=i.getBoundingClientRect().width;return document.body.removeChild(r),Math.ceil(d)},e.prototype.render=function(){this.unwireEvents(),this.wireEvents(),this.setHandlerHeight()},e.prototype.refreshHeight=function(){for(var e=this.getResizeHandlers(),t=0;t<e.length;t++)e[t].parentElement.offsetHeight>0&&(e[t].style.height=e[t].parentElement.offsetHeight+"px");this.setHandlerHeight()},e.prototype.wireEvents=function(){sf.base.EventHandler.add(this.parent.getHeaderContent(),sf.base.Browser.touchStartEvent,this.resizeStart,this),sf.base.EventHandler.add(this.parent.getHeaderContent(),"dblclick",this.callAutoFit,this)},e.prototype.unwireEvents=function(){sf.base.EventHandler.remove(this.parent.getHeaderContent(),sf.base.Browser.touchStartEvent,this.resizeStart),sf.base.EventHandler.remove(this.parent.getHeaderContent(),"dblclick",this.callAutoFit)},e.prototype.getResizeHandlers=function(){return this.parent.options.frozenColumns?[].slice.call(this.parent.getHeaderContent().querySelectorAll("."+w)):[].slice.call(this.parent.getHeaderContent().querySelector(".e-table").querySelectorAll("."+w))},e.prototype.setHandlerHeight=function(){for(var e=[].slice.call(this.parent.getHeaderContent().querySelector(".e-table").querySelectorAll("."+S)),t=0;t<e.length;t++)e[t].style.height=e[t].parentElement.offsetHeight+"px"},e.prototype.callAutoFit=function(e){if(e.target.classList.contains("e-rhandler")){var t=this.getTargetColumn(e);if(t.columns)return;this.resizeColumn(t.field,this.parent.getNormalizedColumnIndex(t.uid),t.uid),sf.base.closest(e.target,E).classList.add("e-resized")}},e.prototype.resizeStart=function(e){if(e.target.classList.contains("e-rhandler")){var t=[],n={};if(!this.helper){if(0===this.getScrollBarWidth()){for(var r=0,o=this.refreshColumnWidth();r<o.length;r++){var i=o[r];this.widthService.setColumnWidth(i,null,null,!1),n={width:""==i.width?0:i.width,columnUid:i.uid},t.push(n)}this.widthService.setWidthToTable()}this.refreshStackedColumnWidth(),this.element=e.target,this.parentElementWidth=this.parent.element.getBoundingClientRect().width,this.appendHelper(),this.column=this.getTargetColumn(e),this.pageX=this.getPointX(e),this.parent.options.enableRtl?this.minMove=parseFloat(this.column.width.toString())-(this.column.minWidth?parseFloat(this.column.minWidth.toString()):0):this.minMove=(this.column.minWidth?parseFloat(this.column.minWidth.toString()):0)-parseFloat(sf.base.isNullOrUndefined(this.column.width)?"":this.column.width.toString()),this.minMove+=this.pageX}sf.base.Browser.isDevice&&!this.helper.classList.contains(z)?(this.helper.classList.add(z),sf.base.EventHandler.add(document,sf.base.Browser.touchStartEvent,this.removeHelper,this),sf.base.EventHandler.add(this.helper,sf.base.Browser.touchStartEvent,this.resizeStart,this)):(sf.base.EventHandler.add(document,sf.base.Browser.touchEndEvent,this.resizeEnd,this),this.parent.dotNetRef.invokeMethodAsync("ResizeStarted",{columnUid:this.column.uid,columnList:t}))}},e.prototype.preventResizeAction=function(e){e?this.cancelResizeAction():(sf.base.EventHandler.add(this.parent.element,sf.base.Browser.touchMoveEvent,this.resizing,this),this.updateCursor("add"))},e.prototype.cancelResizeAction=function(e){e&&(sf.base.EventHandler.remove(this.parent.element,sf.base.Browser.touchMoveEvent,this.resizing),sf.base.EventHandler.remove(document,sf.base.Browser.touchEndEvent,this.resizeEnd),this.updateCursor("remove")),sf.base.Browser.isDevice&&(sf.base.EventHandler.remove(document,sf.base.Browser.touchStartEvent,this.removeHelper),sf.base.EventHandler.remove(this.helper,sf.base.Browser.touchStartEvent,this.resizeStart)),sf.base.detach(this.helper),this.refresh()},e.prototype.getWidth=function(e,t,n){return t&&e<t?t:n&&e>n?n:e},e.prototype.updateResizeEleHeight=function(){for(var e=[].slice.call(this.parent.getHeaderContent().querySelectorAll(".e-rhandler")),t=0;t<e.length;t++)e[t].style.height=e[t].parentElement.offsetHeight+"px"},e.prototype.getColData=function(e,t){return{width:parseFloat(sf.base.isNullOrUndefined(this.widthService.getWidth(e))||"auto"===this.widthService.getWidth(e)?"0":this.widthService.getWidth(e).toString())+t,minWidth:e.minWidth?parseFloat(e.minWidth.toString()):null,maxWidth:e.maxWidth?parseFloat(e.maxWidth.toString()):null}},e.prototype.resizing=function(e){if(!sf.base.isNullOrUndefined(this.column)){var t=0;sf.base.isNullOrUndefined(this.column)&&(t=s(this.element,"th").offsetWidth),this.parent.options.allowTextWrap&&(this.updateResizeEleHeight(),this.setHelperHeight());var n=this.getPointX(e),r=this.parent.options.enableRtl?-(n-this.pageX):n-this.pageX;"Right"===this.column.freeze&&this.column.isFrozen&&(r=this.parent.options.enableRtl?n-this.pageX:this.pageX-n);var o=this.getColData(this.column,r);o.width||(o.width=sf.base.closest(this.element,"th").offsetWidth);var i=this.getWidth(o.width,o.minWidth,o.maxWidth);if("Right"!==this.column.freeze&&(!this.parent.options.enableRtl&&this.minMove>=n||this.parent.options.enableRtl&&this.minMove<=n)&&(i=this.column.minWidth?parseFloat(this.column.minWidth.toString()):0,this.pageX=n=this.minMove),i!==parseFloat(sf.base.isNullOrUndefined(this.column.width)||"auto"===this.column.width?t.toString():this.column.width.toString())){this.pageX=n,this.column.width=sf.base.formatUnit(i);var l=[this.column],a=[this.column];this.column.columns&&(l=this.getSubColumns(this.column,[]),l=this.calulateColumnsWidth(l,!1,r),a=this.calulateColumnsWidth(l,!0,r));for(var d=0,h=a;d<h.length;d++){var p=h[d];this.widthService.setColumnWidth(p,null,"resize")}this.updateHelper()}this.isDblClk=!1}},e.prototype.calulateColumnsWidth=function(e,t,n){for(var r=[],o=0,i=e;o<i.length;o++){for(var s=i[o],l=0,a=0;a<e.length;a++)l+=parseFloat(e[a].width.toString());var d=this.getColData(s,parseFloat(s.width)*n/l),h=this.getWidth(d.width,d.minWidth,d.maxWidth);h!==parseFloat(s.width.toString())&&(t&&(s.width=sf.base.formatUnit(h<1?1:h)),r.push(s))}return r},e.prototype.getSubColumns=function(e,t){for(var n=0,r=e.columns;n<r.length;n++){var o=r[n];!1!==o.visible&&o.allowResizing&&(o.columns?this.getSubColumns(o,t):t.push(o))}return t},e.prototype.resizeEnd=function(e){if(this.helper){sf.base.EventHandler.remove(this.parent.element,sf.base.Browser.touchMoveEvent,this.resizing),sf.base.EventHandler.remove(document,sf.base.Browser.touchEndEvent,this.resizeEnd),this.updateCursor("remove"),sf.base.detach(this.helper);this.parent.getContent();sf.base.closest(this.element,".e-headercell").classList.add("e-resized"),s(this.element,"e-frozenheader")?this.isFrozenColResized=!0:this.isFrozenColResized=!1,this.parent.options.frozenColumns&&(this.parent.freezeModule.refreshRowHeight(),this.parent.freezeModule.setFrozenHeight()),this.parent.options.allowTextWrap&&this.updateResizeEleHeight();var t=this.column.width.toString();t=t.replace("px",""),this.parent.dotNetRef.invokeMethodAsync("ColumnWidthChanged",{width:t,columnUid:this.column.uid,allowStopEvent:!0,tableWidth:this.tableWidth,leftFrozenTableWidth:this.leftFrozenTableWidth,rightFrozenTableWidth:this.rightFrozenTableWidth}),this.parent.options.enableColumnVirtualization||this.parent.updateColumnWidth(this.parent.columnModel),this.refresh(),this.doubleTapEvent(e),this.isDblClk=!0}},e.prototype.getPointX=function(e){return e.touches&&e.touches.length?e.touches[0].pageX:e.pageX},e.prototype.refreshColumnWidth=function(){for(var e=this.parent.getColumns(),t=0,n=[].slice.apply(this.parent.getHeaderContent().querySelectorAll("th.e-headercell"));t<n.length;t++)for(var r=n[t],o=0,i=e;o<i.length;o++){var s=i[o];if(r.querySelector("[e-mappinguid]")&&r.querySelector("[e-mappinguid]").getAttribute("e-mappinguid")===s.uid&&s.visible){s.width=r.getBoundingClientRect().width?r.getBoundingClientRect().width:s.width;break}}return e},e.prototype.refreshStackedColumnWidth=function(){for(var e=0,t=this.parent.getStackedColumns(this.parent.options.columns);e<t.length;e++){var n=t[e];n.width=this.getStackedWidth(n,0)}},e.prototype.getStackedWidth=function(e,t){for(var n=0,r=e.columns;n<r.length;n++){var o=r[n];!1!==o.visible&&(o.columns?this.getStackedWidth(o,t):t+=o.width)}return t},e.prototype.getTargetColumn=function(e){var t=sf.base.closest(e.target,E),n=(t=t.querySelector(".e-headercelldiv")||t.querySelector(".e-stackedheadercelldiv")).getAttribute("e-mappinguid");return this.parent.getColumnByUid(n)},e.prototype.updateCursor=function(e){var t=[].slice.call(this.parent.getHeaderContent().querySelectorAll("th"));t.push(this.parent.element);for(var n=0,r=t;n<r.length;n++){r[n].classList[e](R)}},e.prototype.refresh=function(){this.column=null,this.pageX=null,this.element=null,this.helper=null},e.prototype.appendHelper=function(){this.helper=sf.base.createElement("div",{className:x}),this.parent.element.appendChild(this.helper),this.setHelperHeight()},e.prototype.setHelperHeight=function(){var e=this.parent.getContent().offsetHeight-(this.parent.options.enableVirtualization&&this.parent.options.frozenColumns?0:this.getScrollBarWidth()),t=sf.base.closest(this.element,E),n=[].slice.call(this.parent.getHeaderContent().querySelectorAll("tr"));this.parent.options.frozenColumns&&t.parentElement.children.length&&!t.parentElement.children[0].classList.contains("e-stackedheadercell")&&(n=s(t,"e-movableheader")?[].slice.call(this.parent.getHeaderContent().querySelector(".e-movableheader").querySelectorAll("tr")):s(t,"e-frozen-right-header")?[].slice.call(this.parent.getHeaderContent().querySelector(".e-frozen-right-header").querySelectorAll("tr")):[].slice.call(this.parent.getHeaderContent().querySelector(".e-frozen-left-header").querySelectorAll("tr")));for(var r=n.indexOf(t.parentElement);r<n.length;r++)e+=n[r].offsetHeight;var o=this.calcPos(t);s(t,"e-frozen-right-header")?o.left+=this.parent.options.enableRtl?t.offsetWidth-2:-1:o.left+=this.parent.options.enableRtl?-1:t.offsetWidth-2,this.helper.style.cssText="height: "+e+"px; top: "+o.top+"px; left:"+Math.floor(o.left)+"px;"},e.prototype.getScrollBarWidth=function(e){var t=this.parent.options.frozenColumns?this.parent.getContent().querySelector(".e-movablecontent"):this.parent.getContent();return t.scrollHeight>t.clientHeight&&e||t.scrollWidth>t.clientWidth?o():0},e.prototype.removeHelper=function(e){var t=e.target.classList;t.contains(w)||t.contains(z)||!this.helper||(sf.base.EventHandler.remove(document,sf.base.Browser.touchStartEvent,this.removeHelper),sf.base.EventHandler.remove(this.helper,sf.base.Browser.touchStartEvent,this.resizeStart),sf.base.detach(this.helper),this.refresh())},e.prototype.updateHelper=function(){var e=sf.base.closest(this.element,E),t=Math.floor(this.calcPos(e).left+(this.parent.options.enableRtl?-1:e.offsetWidth-2));if(s(e,"e-frozen-right-header")&&(t=Math.floor(this.calcPos(e).left+(this.parent.options.enableRtl?e.offsetWidth-2:-1))),t>this.parentElementWidth&&(t=this.parentElementWidth-2),this.parent.options.frozenColumns){var n=sf.base.closest(e,".e-table").offsetLeft;t<n&&(t=n)}this.helper.style.left=t+"px"},e.prototype.calcPos=function(e){for(var t={top:0,left:0},n=e.getBoundingClientRect(),r=e.ownerDocument,o=s(e,"e-grid")||r.documentElement;o&&(o===r.body||o===r.documentElement)&&"static"===o.style.position;)o=o.parentNode;return o&&o!==e&&1===o.nodeType&&(t=o.getBoundingClientRect()),{top:n.top-t.top,left:n.left-t.left}},e.prototype.doubleTapEvent=function(e){this.getUserAgent()&&this.isDblClk&&(this.tapped?(clearTimeout(this.tapped),this.callAutoFit(e),this.tapped=null):this.tapped=setTimeout(this.timeoutHandler(),300))},e.prototype.getUserAgent=function(){var e=sf.base.Browser.userAgent.toLowerCase();return/iphone|ipod|ipad/.test(e)},e.prototype.timeoutHandler=function(){this.tapped=null},e}(),I=function(){function e(e){var t=this;this.visualElement=sf.base.createElement("div",{className:"e-cloneproperties e-dragclone e-gdclone",styles:"line-height:23px",attrs:{action:"grouping"}}),this.helper=function(e){var n=t.parent,r=e.sender.target,o=r.classList.contains("e-groupheadercell")?r:s(r,"e-groupheadercell");return!(!o||!r.classList.contains("e-drag")&&t.parent.options.groupReordering)&&(t.column=n.getColumnByField(o.firstElementChild.getAttribute("ej-mappingname")),t.visualElement.textContent=o.textContent,t.visualElement.style.width=o.offsetWidth+2+"px",t.visualElement.style.height=o.offsetHeight+2+"px",t.visualElement.setAttribute("e-mappinguid",t.column.uid),n.element.appendChild(t.visualElement),t.visualElement)},this.dragStart=function(e){t.parent.element.classList.add("e-ungroupdrag"),document.body.classList.add("e-prevent-select"),e.bindEvents(e.dragElement)},this.drag=function(e){var n=e.target,r=t.parent.element.querySelector(".e-cloneproperties");t.parent.options.groupReordering||(sf.base.classList(r,["e-defaultcur"],["e-notallowedcur"]),s(n,"e-gridcontent")||s(n,"e-headercell")||sf.base.classList(r,["e-notallowedcur"],["e-defaultcur"]))},this.dragStop=function(e){document.body.classList.remove("e-prevent-select"),t.parent.element.classList.remove("e-ungroupdrag"),!(s(e.target,"e-gridcontent")||s(e.target,"e-gridheader"))&&sf.base.remove(e.helper)},this.preventTouchOnWindow=function(e){e.preventDefault()},this.drop=function(e){var n=t.parent,r=n.getColumnByUid(e.droppedElement.getAttribute("e-mappinguid"));n.element.querySelector(".e-groupdroparea").classList.remove("e-hover"),sf.base.remove(e.droppedElement),n.options.allowGrouping&&sf.base.EventHandler.remove(window,"touchmove",t.preventTouchOnWindow),t.parent.element.querySelector(".e-groupdroparea").removeAttribute("aria-dropeffect"),t.parent.element.querySelector("[aria-grabbed=true]").setAttribute("aria-grabbed","false"),sf.base.isNullOrUndefined(r)||!1===r.allowGrouping||s(n.getColumnHeaderByUid(r.uid),"e-grid").getAttribute("id")!==n.element.getAttribute("id")||n.dotNetRef.invokeMethodAsync("GroupColumn",r.field,"Group")},this.parent=e,this.parent.options.allowGrouping&&this.parent.options.showDropArea&&this.initDragAndDrop()}return e.prototype.columnDrag=function(e){this.parent.options.groupReordering;var t=this.parent,n=t.element.querySelector(".e-cloneproperties"),r=t.getColumnByUid(n.getAttribute("e-mappinguid"));s(e.target,"e-groupdroparea")&&sf.base.classList(n,["e-defaultcur"],["e-notallowedcur"]),sf.base.EventHandler.add(window,"touchmove",this.preventTouchOnWindow),(s(e.target,"e-groupdroparea")||t.options.allowReordering&&s(e.target,"e-headercell"))&&(r.allowGrouping||!s(e.target,"e-groupdroparea"))||sf.base.classList(n,["e-notallowedcur"],["e-defaultcur"]),t.options.showDropArea&&(e.target.classList.contains("e-groupdroparea")?t.element.querySelector(".e-groupdroparea").classList.add("e-hover"):t.element.querySelector(".e-groupdroparea").classList.remove("e-hover"))},e.prototype.columnDragStart=function(e){if(!e.target.classList.contains("e-stackedheadercell")){var t=this.parent.element.querySelector(".e-groupdroparea");t&&t.setAttribute("aria-dropeffect","copy"),(e.target.classList.contains("e-headercell")?e.target:s(e.target,"e-headercell")).setAttribute("aria-grabbed","true")}},e.prototype.columnDrop=function(e){var t=this.parent;if("grouping"===e.droppedElement.getAttribute("action")){var n=t.getColumnByUid(e.droppedElement.getAttribute("e-mappinguid"));if(sf.base.isNullOrUndefined(n)||!1===n.allowGrouping||s(t.getColumnHeaderByUid(n.uid),"e-grid").getAttribute("id")!==t.element.getAttribute("id"))return;t.dotNetRef.invokeMethodAsync("GroupColumn",n.field,"Ungroup")}},e.prototype.initDragAndDrop=function(){this.initializeGHeaderDrop(),this.initializeGHeaderDrag()},e.prototype.initializeGHeaderDrag=function(){var e=this.parent.element.querySelector(".e-groupdroparea");if(e)new sf.base.Draggable(e,{dragTarget:this.parent.options.groupReordering?".e-drag":".e-groupheadercell",distance:this.parent.options.groupReordering?-10:5,helper:this.helper,dragStart:this.dragStart,drag:this.drag,dragStop:this.dragStop,isPreventSelect:!1})},e.prototype.initializeGHeaderDrop=function(){this.parent;var e=this.parent.element.querySelector(".e-groupdroparea");if(e)new sf.base.Droppable(e,{accept:".e-dragclone",drop:this.drop})},e.prototype.getModuleName=function(){return"group"},e.prototype.getGHeaderCell=function(e){return this.element&&this.element.querySelector('[ej-mappingname="'+e+'"]')?this.element.querySelector('[ej-mappingname="'+e+'"]').parentElement:null},e}(),H=function(){function e(e){this.mediaCol=[],this.media={},this.mediaBindInstance={},this.mediaColVisibility={},this.noOfTimesInvokedByMedia=0,this.mediaChange=!0,this.mediaColumnList=[],this.parent=e}return e.prototype.renderColumnChooser=function(){var e=this.parent.element.querySelector("#"+this.parent.element.id+"_ccdlg");e.style.maxHeight="430px";var t=e.style.display;e.style.display="block";var n,r=this.parent.element.querySelector(".e-cc-toolbar");this.parent.getHeaderContent().parentElement.classList.contains("e-sticky")?(n=r.getBoundingClientRect(),e.classList.add("e-sticky")):n=sf.popups.calculateRelativeBasedPosition(r,e),e.style.display=t;var o,i=n.top+r.getBoundingClientRect().height;o=this.parent.options.enableRtl?this.parent.element.querySelector(".e-columnchooser-btn").offsetLeft:n.left-250+r.clientWidth+2,this.parent.dotNetRef.invokeMethodAsync("GetChooserPosition",o.toString(),i.toString())},e.prototype.setMediaColumns=function(e){var t=this.parent.getColumns();if(!sf.base.isNullOrUndefined(t)){for(var n=0;n<t.length;n++)""!==t[n].hideAtMedia&&(sf.base.isNullOrUndefined(t[n].visible)||t[n].visible||e)&&this.pushMediaColumn(t[n],n);this.parent.dotNetRef.invokeMethodAsync("SetMediaColumnVisibility",{mediaColVisibility:this.mediaColVisibility}),this.mediaColVisibility={}}},e.prototype.pushMediaColumn=function(e,t){this.mediaCol.push(e),this.media[e.uid]=window.matchMedia(e.hideAtMedia),this.mediaQueryUpdate(t,this.media[e.uid],!0),this.mediaBindInstance[t]=this.mediaQueryUpdate.bind(this,t),this.media[e.uid].addListener(this.mediaBindInstance[t])},e.prototype.mediaQueryUpdate=function(e,t,n){var r=this.parent.getColumns()[e],o=this.parent.getColumns();if(this.mediaCol.some((function(e){return e.uid===r.uid}))&&(this.mediaColVisibility[r.uid]=t.matches,!n)){if(this.noOfTimesInvokedByMedia++,this.mediaChange=0===this.mediaColumnList.length,this.mediaChange)for(var i=0;i<o.length;i++)o[i].hideAtMedia.split(" ").slice(-1).toLocaleString()===t.media.split(" ").slice(-1).toLocaleString()&&this.mediaColumnList.push(o[i]);(this.mediaColumnList.length>0&&this.noOfTimesInvokedByMedia===this.mediaColumnList.length||this.mediaCol.length>0&&0===this.mediaColumnList.length)&&(this.parent.dotNetRef.invokeMethodAsync("SetMediaColumnVisibility",{mediaColVisibility:this.mediaColVisibility,invokedByMedia:!0}),this.noOfTimesInvokedByMedia=0,this.mediaColVisibility={},this.mediaColumnList=[])}},e.prototype.updateMediaColumns=function(e){for(var t=Object.keys(e),n=function(e){var n=-1;r.mediaCol.some((function(r){return n++,r.uid===t[e]}))?r.mediaCol.splice(n,1):r.pushMediaColumn(r.parent.getColumnByUid(t[e]),r.parent.getColumnIndexByUid(t[e]))},r=this,o=0;o<t.length;o++)n(o)},e.prototype.removeMediaListener=function(){for(var e=0;e<this.mediaCol.length;e++)this.media[this.mediaCol[e].uid].removeListener(this.mediaBindInstance[this.mediaCol[e].index])},e}(),q=function(){function e(e){this.key=null,this.uid=null,this.parent=e}return e.prototype.renderColumnMenu=function(e,t,n){this.key=n,this.uid=e;var r=this.parent.getColumnHeaderByUid(e).querySelector(".e-columnmenu"),o=document.getElementsByClassName("e-"+this.parent.element.id+"-column-menu")[0];o.style.position="absolute";var i=o.getElementsByTagName("ul")[0];if(sf.base.isNullOrUndefined(i))return{Left:1,Top:1};var s={top:0,left:0};i.style.visibility="hidden",o.style.display="block";var l=i.getBoundingClientRect();i.classList.add("e-transparent"),i.style.visibility="",o.style.display="";var a=this.getHeaderCell(r);return sf.base.Browser.isDevice?(s.top=window.innerHeight/2-l.height/2,s.left=window.innerWidth/2-l.width/2):(this.parent.options.enableRtl?s=sf.popups.calculatePosition(a,"left","bottom"):(s=sf.popups.calculatePosition(a,"right","bottom")).left-=l.width,s.left-=pageXOffset,s.top-=pageYOffset),t&&sf.base.EventHandler.add(i,"mouseover",this.appendFilter,this),{Left:-1!==Math.sign(s.left)?Math.ceil(s.left):0,Top:Math.ceil(s.top)}},e.prototype.setPosition=function(){var e=document.getElementsByClassName("e-"+this.parent.element.id+"-column-menu")[0],t=sf.base.isNullOrUndefined(e)?null:e.getElementsByTagName("ul")[0];if(!sf.base.isNullOrUndefined(t)&&!sf.base.isNullOrUndefined(this.uid)){var n=this.parent.getColumnHeaderByUid(this.uid).querySelector(".e-columnmenu"),r=this.getHeaderCell(n).getBoundingClientRect(),o=r.left+pageXOffset,i=r.bottom+pageYOffset,s=t.getBoundingClientRect(),l=document.documentElement;r.bottom+s.height>l.clientHeight&&i-r.height-s.height>l.clientTop&&(i=i-r.height-s.height),r.left+s.width>l.clientWidth&&r.right-s.width>l.clientLeft&&(o=o+r.width-s.width),o=o-t.getBoundingClientRect().width+r.width,e.style.left=Math.ceil(o+1)+"px",e.style.top=Math.ceil(i+1)+"px"}},e.prototype.appendFilter=function(e){var t=this,n=!1;setTimeout((function(){sf.base.closest(e.target,"#"+t.key)&&(t.parent.element.querySelector(".e-filter-popup")||!t.parent.element.querySelector(".e-filter-popup"))||e.target.parentElement.id==t.key&&(t.parent.element.querySelector(".e-filter-popup")||!t.parent.element.querySelector(".e-filter-popup"))?n=!0:!sf.base.closest(e.target,"#"+t.key)&&t.parent.element.querySelector(".e-filter-popup")&&(n=!1),t.parent.dotNetRef.invokeMethodAsync("FilterMouseOverHandler",t.uid,n)}),10)},e.prototype.getHeaderCell=function(e){return sf.base.closest(e,"th.e-headercell")},e}(),T=function(){function e(e){this.parent=e}return e.prototype.filterPopupRender=function(e,t,n,r){var o=this.parent.element.querySelector("#"+e);if(!sf.base.isNullOrUndefined(o))if(r){sf.base.EventHandler.add(o,"mousedown",this.mouseDownHandler,this),o.style.maxHeight="excel"==n?"800px":"350px";var i=document.getElementsByClassName("e-"+this.parent.element.id+"-column-menu")[0].getElementsByTagName("ul")[0].querySelector(".e-icon-filter").parentElement,l=this.parent.element.querySelector(".e-filter-popup"),a=this.parent.element.getBoundingClientRect(),d=i.getBoundingClientRect(),h=d.left-a.left,p=d.top-a.top,u=o.style.display;o.style.display="block",a.height<p?p=p-l.offsetHeight+d.height:a.height<p+l.offsetHeight&&(p=a.height-l.offsetHeight),window.innerHeight<l.offsetHeight+p+a.top&&(p=window.innerHeight-l.offsetHeight-a.top),h+=this.parent.options.enableRtl?-l.offsetWidth:d.width,a.width<=h+l.offsetWidth?h-=d.width+l.offsetWidth:h<0&&(h+=l.offsetWidth+d.width),o.style.display=u,this.parent.dotNetRef.invokeMethodAsync("GetFilterIconPosition",h.toString(),p.toString())}else{var c=[].slice.call(this.parent.element.querySelector(".e-headercontent").querySelectorAll("div[e-mappinguid="+t+"]"))[1];o.style.maxHeight="excel"==n?"800px":"350px";u=o.style.display;o.style.display="block";var f=sf.popups.calculateRelativeBasedPosition(c,o);this.parent.options.enableColumnVirtualization&&this.parent.virtualContentModule.virtualEle.filterTranslateX&&!s(c,"e-frozenheader")&&(f.left+=this.parent.virtualContentModule.virtualEle.filterTranslateX),o.style.display=u;h=f.left-250+c.clientWidth;var g=f.top+c.getBoundingClientRect().height-5;h<1?h=250+h-16:h-=4;var m=this.parent.element.offsetWidth;if(m-h<250)h-=250-(m-h);this.parent.dotNetRef.invokeMethodAsync("GetFilterIconPosition",h.toString(),g.toString())}},e.prototype.mouseDownHandler=function(e){(e&&sf.base.closest(e.target,".e-filter-popup")||e.currentTarget&&e.currentTarget.activeElement&&s(e.currentTarget.activeElement,"e-filter-popup")||s(e.target,"e-popup")||s(e.target,"e-popup-wrapper"))&&!sf.base.Browser.isDevice&&this.parent.dotNetRef.invokeMethodAsync("PreventColumnMenuClose",!0)},e}(),M=function(){function e(e){this.parent=e}return e.prototype.createTooltip=function(e,t){for(var r,i={},s=function(){var n=l.parent.getContent();l.parent.options.frozenColumns&&(n=l.parent.getContent().querySelector(".e-movablecontent"));var s=e[a].fieldName,d=e[a].message;s=s.replace(/[.]/g,"___");var h=l.parent.element.querySelector("#"+s)||document.querySelector("#"+s);if(sf.base.isNullOrUndefined(h)){var p=l.parent.columnModel.filter((function(e){return e.field.split(s).length>1}));sf.base.isNullOrUndefined(p)||0==p.length||(s=p[0].field.replace(/[.]/g,"___"),h=l.parent.element.querySelector("#"+s)||document.querySelector("#"+s))}var u=n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth,c="Dialog"!==l.parent.options.editMode;if(!h)return{value:void 0};var f=sf.base.closest(h,".e-rowcell"),g=sf.base.closest(h,".e-row"),m=l.parent.getContent().querySelector(".e-frozencontent"),v=void 0,y=!1,b=Math.round(l.parent.getContent().clientHeight/l.parent.getRowHeight())-1,C=[].slice.call(l.parent.getContent().querySelectorAll(".e-row"));l.parent.options.enableVirtualization&&l.parent.options.allowGrouping&&l.parent.options.groupCount>0&&t&&(C=[].slice.call(l.parent.getContent().querySelectorAll("tr"))).pop(),"Batch"===l.parent.options.editMode&&b>1&&C.length>=b&&C[C.length-1].getAttribute("data-rowindex")===g.getAttribute("data-rowindex")&&(y=!0),c&&(l.parent.options.frozenRows,(b>1&&C.length>=b&&("Bottom"===l.parent.options.newRowPosition&&t||!sf.base.isNullOrUndefined(f)&&f.classList.contains("e-lastrowcell")&&!g.classList.contains("e-addedrow"))||y)&&(v=!0));var w=c?l.parent.getContentTable():document.querySelector("#"+l.parent.element.id+"_dialogEdit_wrapper").querySelector(".e-dlg-content"),S=w.getBoundingClientRect(),z=c?l.parent.element.getBoundingClientRect().left:S.left,x=sf.base.closest(h,"td"),E=x?x.getBoundingClientRect():h.parentElement.getBoundingClientRect(),R=l.parent.element.querySelector("#"+s+"_Error")||document.querySelector("#"+s+"_Error");R.style.top=E.bottom-S.top-(l.parent.options.frozenColumns?m.scrollTop:0)+w.scrollTop+9+"px",R.style.left=E.left-z+w.scrollLeft+E.width/2+"px",R.style.maxWidth=E.width-4+"px",c&&S.left<z&&(R.style.left=parseInt(R.style.left,10)-S.left+z+"px");var A=void 0;(A=v?R.querySelector(".e-tip-bottom"):R.querySelector(".e-tip-top"),(l.parent.options.frozenColumns||l.parent.options.frozenRows)&&"Dialog"!==l.parent.options.editMode)&&(("Normal"===l.parent.options.editMode?sf.base.closest(h,".e-editcell"):sf.base.closest(h,".e-table")).style.position="relative",R.style.position="absolute");R.style.display="block",R.querySelector(".e-error").innerText=d,!v&&c&&n.getBoundingClientRect().bottom<E.bottom+E.height&&(n.scrollTop=n.scrollTop+R.offsetHeight+A.scrollHeight);var I=parseInt(document.defaultView.getComputedStyle(R,null).getPropertyValue("font-size"),10);if(R.getBoundingClientRect().width<E.width&&R.querySelector("label").getBoundingClientRect().height/(1.2*I)>=2&&(R.style.width=R.style.maxWidth),!l.parent.options.frozenColumns&&!l.parent.options.frozenRows||"Normal"!==l.parent.options.editMode&&"Batch"!==l.parent.options.editMode?R.style.left=parseInt(R.style.left,10)-R.offsetWidth/2+"px":R.style.left=x.offsetLeft+(x.offsetWidth/2-R.offsetWidth/2)+"px",c&&!u&&!l.parent.options.allowPaging||l.parent.options.frozenColumns||l.parent.options.frozenRows){n.style.position="static";var H=sf.popups.calculateRelativeBasedPosition(x,R);R.style.top=H.top+E.height+9+"px"}if(v){if(!u||l.parent.options.frozenColumns||"auto"===l.parent.options.height||l.parent.options.frozenRows||l.parent.options.enableVirtualization)R.style.bottom=E.height+9+"px";else{var q=n.scrollWidth>n.offsetWidth?o():0;R.style.bottom=parseInt(l.parent.options.height)-n.querySelector("table").offsetHeight-q+E.height+9+"px"}R.style.top=null}r=v?"bottom":"top",i[s]="top: "+R.style.top+"; bottom: "+R.style.bottom+"; left: "+R.style.left+"; \n            max-width: "+R.style.maxWidth+"; width: "+R.style.width+"; text-align: center; position: "+R.style.position+";"},l=this,a=0;a<e.length;a++){var d=s();if("object"===n(d))return d.value}this.parent.dotNetRef.invokeMethodAsync("ShowValidationPopup",i,r)},e}(),B=function(){function e(e){this.copyContent="",this.isSelect=!1,this.parent=e,this.clipBoardTextArea=sf.base.createElement("textarea",{className:"e-clipboard",styles:"opacity: 0",attrs:{tabindex:"-1","aria-label":"clipboard","aria-hidden":"true"}}),this.parent.element.appendChild(this.clipBoardTextArea)}return e.prototype.pasteHandler=function(){var e=this,t=this.parent;if(sf.base.closest(document.activeElement,".e-rowcell")&&t.options.allowEditing&&"Batch"===t.options.editMode&&"Cell"===t.options.selectionMode&&"Flow"!==t.options.cellSelectionMode){this.activeElement=document.activeElement,this.clipBoardTextArea.value="";var n=window.scrollX,r=window.scrollY;this.clipBoardTextArea.focus(),setTimeout((function(){e.activeElement.focus(),window.scrollTo(n,r),e.paste(e.clipBoardTextArea.value,e.getSelectedRowCellIndexes()[0].rowIndex,e.getSelectedRowCellIndexes()[0].cellIndexes[0])}),10)}},e.prototype.paste=function(e,t,n){var r,o,i,s=this.parent,l=n,a=t;if(s.options.allowEditing&&"Batch"===s.options.editMode&&"Cell"===s.options.selectionMode&&"Flow"!==s.options.cellSelectionMode){var d,h,p=e.split("\n"),u=s.getDataRows(),c=this.parent.options.frozenColumns;c&&(h=s.getMovableDataRows());for(var f=0;f<p.length;f++){if(d=p[f].split("\t"),l=n,f===p.length-1&&""===p[f]||sf.base.isUndefined(s.getRowByIndex(a))){l++;break}for(var g=0;g<d.length;g++){if(i=s.getCellFromIndex(a,l),c){var m=u[a],v=h[a];i=!!m.querySelector('[data-colindex="'+l+'"]')||v.querySelector('[data-colindex="'+l+'"]')}if(!i){l++;break}r=s.getColumnByIndex(l),o=d[g],!r.allowEditing||r.isPrimaryKey||r.template||s.editModule&&s.dotNetRef.invokeMethodAsync("UpdateCell",a,r.field,o),l++}a++}var y=this.parent.getCellFromIndex(a-1,l-1);y&&sf.base.classList(y,["e-focus","e-focused"],[])}},e.prototype.setCopyData=function(e){if(""===window.getSelection().toString()){var t=this.parent.options.frozenColumns;this.clipBoardTextArea.value=this.copyContent="";var n=void 0,r=this.parent.getRows();if(t&&(n=this.parent.getMovableDataRows()),"Cell"!==this.parent.options.selectionMode){var o=this.parent.getSelectedRowIndexes();if(e){for(var i=[],s=0;s<this.parent.getVisibleColumns().length;s++)i[s]=this.parent.getVisibleColumns()[s].headerText;this.getCopyData(i,!1,"\t",e),this.copyContent+="\n"}for(s=0;s<o.length;s++){s>0&&(this.copyContent+="\n");var l=[].slice.call(r[o[s]].querySelectorAll(".e-rowcell:not(.e-hide)"));t&&l.push.apply(l,[].slice.call(n[o[s]].querySelectorAll(".e-rowcell:not(.e-hide)"))),this.getCopyData(l,!1,"\t",e)}}else{var a=this.checkBoxSelection();if(a.status){if(e){var d=[];for(s=0;s<a.colIndexes.length;s++)d.push(this.parent.getColumnHeaderByIndex(a.colIndexes[s]));this.getCopyData(d,!1,"\t",e),this.copyContent+="\n"}for(s=0;s<a.rowIndexes.length;s++){s>0&&(this.copyContent+="\n");l=[].slice.call(r[a.rowIndexes[s]].querySelectorAll(".e-cellselectionbackground"));t&&l.push.apply(l,[].slice.call(n[a.rowIndexes[s]].querySelectorAll(".e-cellselectionbackground"))),this.getCopyData(l,!1,"\t",e)}}else this.getCopyData([].slice.call(this.parent.element.querySelectorAll(".e-cellselectionbackground")),!0,"\n",e)}this.clipBoardTextArea.value=this.copyContent,sf.base.Browser.userAgent.match(/ipad|ipod|iphone/i)?this.clipBoardTextArea.setSelectionRange(0,this.clipBoardTextArea.value.length):this.clipBoardTextArea.select(),this.isSelect=!0}},e.prototype.getCopyData=function(e,t,n,r){for(var o="string"!=typeof e[0],i=0;i<e.length;i++)r&&t&&(this.copyContent+=this.parent.getColumns()[parseInt(e[i].getAttribute("data-colindex"),10)].headerText+"\n"),o?e[i].classList.contains("e-hide")||(!e[i].classList.contains("e-gridchkbox")&&Object.keys(e[i].querySelectorAll(".e-check")).length?this.copyContent+=!0:!e[i].classList.contains("e-gridchkbox")&&Object.keys(e[i].querySelectorAll(".e-uncheck")).length?this.copyContent+=!1:this.copyContent+=e[i].innerText):this.copyContent+=e[i],i<e.length-1&&(this.copyContent+=n)},e.prototype.copy=function(e){if(document.queryCommandSupported("copy")){var t=document.activeElement;this.setCopyData(e),document.execCommand("copy"),this.clipBoardTextArea.blur(),t.focus()}this.isSelect&&(window.getSelection().removeAllRanges(),this.isSelect=!1)},e.prototype.getSelectedRowCellIndexes=function(){var e,t=this.parent,n=[],r=t.getRows();t.options.frozenColumns&&(e=t.getMovableDataRows());for(var o=function(o){var i=r[o].querySelectorAll(".e-cellselectionbackground");if(t.options.frozenColumns&&!i.length&&(i=e[o].querySelectorAll(".e-cellselectionbackground")),i.length){var s=[];i.forEach((function(e){s.push(parseInt(e.getAttribute("data-colindex")))})),n.push({rowIndex:o,cellIndexes:s})}},i=0;i<r.length;i++)o(i);return n},e.prototype.checkBoxSelection=function(){var e,t={status:!1};if("Cell"===this.parent.options.selectionMode){e=this.getSelectedRowCellIndexes();var n=void 0,r=[],o=void 0;for(o=0;o<e.length&&(e[o].cellIndexes.length&&r.push(e[o].rowIndex),!e[o].cellIndexes.length||(n||(n=JSON.stringify(e[o].cellIndexes.sort())),n===JSON.stringify(e[o].cellIndexes.sort())));o++);r.sort((function(e,t){return e-t})),o===e.length&&r[r.length-1]-r[0]==r.length-1&&(t={status:!0,rowIndexes:r,colIndexes:e[0].cellIndexes})}return t},e}(),N=function(){function e(e){this.parent=e,this.wireEvents()}return e.prototype.wireEvents=function(){sf.base.EventHandler.add(this.parent.getContent(),"scroll",this.scrollHandler,this),sf.base.EventHandler.add(this.parent.element,"mousemove",this.mouseMoveHandler,this),sf.base.EventHandler.add(this.parent.element,"mouseout",this.mouseMoveHandler,this),sf.base.EventHandler.add(this.parent.element,"keydown",this.onKeyPressed,this)},e.prototype.unWireevents=function(){sf.base.EventHandler.remove(this.parent.getContent(),"scroll",this.scrollHandler),sf.base.EventHandler.remove(this.parent.element,"mousemove",this.mouseMoveHandler),sf.base.EventHandler.remove(this.parent.element,"mouseout",this.mouseMoveHandler),sf.base.EventHandler.remove(this.parent.element,"keydown",this.onKeyPressed)},e.prototype.open=function(e){this.close(),this.ctrlId=sf.base.getUniqueID(this.parent.element.getAttribute("id")),sf.base.isNullOrUndefined(this.toolTipElement)&&(this.toolTipElement=sf.base.createElement("div",{className:"e-tooltip-wrap e-popup e-lib e-control e-popup-open",styles:'width: "auto", height: "auto", position: "absolute"',attrs:{role:"tooltip","aria-hidden":"false",id:this.ctrlId+"_content"}})),sf.base.attributes(e,{"aria-describedby":this.ctrlId+"_content","data-tooltip-id":this.ctrlId+"_content"}),this.renderToolTip(),this.setPosition(e)},e.prototype.renderToolTip=function(){var e=sf.base.createElement("div",{className:"e-tip-content"});e.innerHTML=this.content,this.toolTipElement.appendChild(e);var t=sf.base.createElement("div",{className:"e-arrow-tip e-tip-bottom",styles:"top: 99.9%"});t.appendChild(sf.base.createElement("div",{className:"e-arrow-tip-outer e-tip-bottom"})),t.appendChild(sf.base.createElement("div",{className:"e-arrow-tip-inner e-tip-bottom",styles:"top: -6px"})),this.toolTipElement.appendChild(t),document.body.appendChild(this.toolTipElement)},e.prototype.setPosition=function(e){var t={top:0,left:0},n=this.toolTipElement.querySelector(".e-arrow-tip"),r=sf.popups.calculatePosition(e,"Center","Top");t.top-=this.toolTipElement.offsetHeight+n.offsetHeight,t.left-=this.toolTipElement.offsetWidth/2,this.toolTipElement.style.top=r.top+t.top+"px",this.toolTipElement.style.left=r.left+t.left+"px"},e.prototype.close=function(){if(this.toolTipElement){var e=this.parent.element.querySelector('[aria-describedby="'+this.ctrlId+'_content"]');sf.base.isNullOrUndefined(e)?sf.base.isNullOrUndefined(this.parent.element.querySelector("form"))||(document.getElementById(this.ctrlId+"_content").remove(),this.toolTipElement=null):(e.removeAttribute("aria-describedby"),e.removeAttribute("data-tooltip-id"),document.getElementById(this.ctrlId+"_content").remove(),this.toolTipElement=null)}},e.prototype.getTooltipStatus=function(e){var t,n=this.parent.getHeaderTable(),r=this.parent.getContentTable(),o=this.createTable(n,"e-gridheader","header"),i=this.createTable(r,"e-gridcontent","content"),s=e.classList.contains("e-headercell")?o:i,l=e.classList.contains("e-headercell")?"th":"tr";return s.querySelector(l).className=e.className,s.querySelector(l).innerHTML=e.innerHTML,t=s.querySelector(l).getBoundingClientRect().width,document.body.removeChild(o),document.body.removeChild(i),t>e.getBoundingClientRect().width},e.prototype.mouseMoveHandler=function(e){if(this.isEllipsisTooltip()){if(this.parent.options.allowTextWrap){var t=this.parent.options.wrapMode;if("Header"==t&&s(e.target,"e-gridheader")||"Content"==t&&s(e.target,"e-gridcontent")||"Both"==t)return}var n=s(e.target,"e-ellipsistooltip");this.prevElement===n&&"mouseout"!==e.type||this.close();var r=e.target.tagName;if(n&&"mouseout"!==e.type&&(!sf.base.Browser.isDevice||-1===["A","BUTTON","INPUT"].indexOf(r))){if(n.getAttribute("aria-describedby"))return;this.getTooltipStatus(n)&&(n.getElementsByClassName("e-headertext").length?this.content=n.getElementsByClassName("e-headertext")[0].innerText:this.content=n.innerText,this.prevElement=n,this.open(n))}}this.hoverFrozenRows(e)},e.prototype.hoverFrozenRows=function(e){if(this.parent.options.frozenColumns){var t=s(e.target,"e-row"),n=[].slice.call(this.parent.element.querySelectorAll(".e-frozenhover"));if(n.length&&"mouseout"===e.type)for(var r=0;r<n.length;r++)n[r].classList.remove("e-frozenhover");else if(t){var o=[].slice.call(this.parent.element.querySelectorAll('tr[data-rowindex="'+t.getAttribute("data-rowindex")+'"]'));if(o.splice(o.indexOf(t),1),"true"!=t.getAttribute("aria-selected"))for(r=0;r<o.length;r++)o[r].classList.add("e-frozenhover");else for(r=0;r<o.length;r++)o[r].classList.remove("e-frozenhover")}}},e.prototype.isEllipsisTooltip=function(){var e=this.parent.getColumns();if("EllipsisWithTooltip"===this.parent.options.clipMode)return!0;for(var t=0;t<e.length;t++)if("EllipsisWithTooltip"===e[t].clipMode)return!0;return!1},e.prototype.scrollHandler=function(){this.isEllipsisTooltip()&&this.close()},e.prototype.createTable=function(e,t,n){var r=sf.base.createElement("div");r.className=this.parent.element.className,r.style.cssText="display: inline-block;visibility:hidden;position:absolute";var o=sf.base.createElement("div");o.className=t;var i=sf.base.createElement("table");i.className=e.className,i.style.cssText="table-layout: auto;width: auto";var s="header"===n?"th":"td",l=sf.base.createElement("tr"),a=sf.base.createElement(s);return l.appendChild(a),i.appendChild(l),o.appendChild(i),r.appendChild(o),document.body.appendChild(r),r},e.prototype.onKeyPressed=function(e){"Tab"!==e.key&&"ShiftTab"!==e.key||this.close()},e.prototype.destroy=function(){this.close(),this.unWireevents()},e}(),L=function(){function e(e){var t=this;this.isOverflowBorder=!0,this.helper=function(e){var n=t.parent,r=t.draggable.currentStateTarget;e.sender.target.classList.contains("e-input")||"INPUT"==e.sender.target.tagName||"TEXTAREA"==e.sender.target.tagName||e.sender.target.blur();var o=sf.base.createElement("div",{className:"e-cloneproperties e-draganddrop e-grid e-dragclone",styles:'height:"auto", z-index:2, width:'+n.element.offsetWidth}),i=sf.base.createElement("table",{styles:"width:"+n.element.offsetWidth}),l=sf.base.createElement("tbody");if(document.getElementsByClassName("e-griddragarea").length||n.options.rowDropTarget&&!e.sender.target.classList.contains("e-selectionbackground")&&"Single"!==n.options.selectionType||!n.options.rowDropTarget&&!s(e.sender.target,"e-rowdragdrop")||n.options.rowDropTarget&&"Single"===n.options.selectionType&&null===t.draggable.currentStateTarget.parentElement.getAttribute("data-rowindex"))return!1;n.options.rowDropTarget&&"Row"===n.options.selectionMode&&"Single"===n.options.selectionType&&null!==t.draggable.currentStateTarget.parentElement.getAttribute("data-rowindex")&&n.dotNetRef.invokeMethodAsync("SelectRow",parseInt(t.draggable.currentStateTarget.parentElement.getAttribute("data-rowindex"),10)),t.startedRow=sf.base.closest(r,"tr").cloneNode(!0);var a=n.getSelectedRows();c(t.startedRow,".e-indentcell"),c(t.startedRow,".e-detailrowcollapse"),c(t.startedRow,".e-detailrowexpand"),t.removeCell(t.startedRow,"e-gridchkbox");var d=new RegExp("e-active","g");if(t.startedRow.innerHTML=t.startedRow.innerHTML.replace(d,""),l.appendChild(t.startedRow),n.getSelectedRows().length>1&&t.startedRow.hasAttribute("aria-selected")){var h=sf.base.createElement("span",{className:"e-dropitemscount",innerHTML:""+a.length});o.appendChild(h)}var p=sf.base.closest(r,"tr").querySelector(".e-icon-rowdragicon");return p&&p.classList.add("e-dragstartrow"),i.appendChild(l),o.appendChild(i),n.element.appendChild(o),o},this.dragStart=function(e){var n=t.parent;if(document.body.classList.add("e-prevent-select"),!document.getElementsByClassName("e-griddragarea").length){var r=t.parent.element.querySelector(".e-dropitemscount");t.parent.getSelectedRows().length>1&&r&&(r.style.left=t.parent.element.querySelector(".e-cloneproperties table").offsetWidth-5+"px");var o=parseInt(t.startedRow.getAttribute("data-rowindex"),10);t.parent.dotNetRef.invokeMethodAsync("RowDragStartEvent",o),e.bindEvents(e.dragElement),t.dragStartData=t.rowData;var i=document.getElementById(n.options.rowDropTarget);n.options.rowDropTarget&&i&&i.blazor__instance&&"function"==typeof i.blazor__instance.getModuleName&&"grid"===i.blazor__instance.getModuleName()&&i.blazor__instance.getContent().classList.add("e-allowRowDrop")}},this.drag=function(e){var n=t.parent,r=t.parent.element.querySelector(".e-cloneproperties"),o=t.getElementFromPosition(r,e.event);sf.base.classList(r,["e-defaultcur"],["e-notallowedcur","e-movecur"]),t.isOverflowBorder=!0;var i=s(o,"e-grid")?sf.base.closest(e.target,"tr"):null;if(e.target){if(t.stopTimer(),n.element.classList.add("e-rowdrag"),t.dragTarget=i&&s(o,"e-grid").id===r.parentElement.id?i.rowIndex:parseInt(t.startedRow.getAttribute("data-rowindex"),10),n.options.rowDropTarget)s(o,"e-gridcontent")?s(r.parentElement,"e-grid").id===s(o,"e-grid").id?sf.base.classList(r,["e-notallowedcur"],["e-defaultcur"]):sf.base.classList(r,["e-defaultcur"],["e-notallowedcur"]):s(o,"e-droppable")?sf.base.classList(r,["e-defaultcur"],["e-notallowedcur"]):sf.base.classList(r,["e-notallowedcur"],["e-defaultcur"]);else{var l=s(o,"e-grid");l&&l.id===r.parentElement.id?sf.base.classList(r,["e-movecur"],["e-defaultcur"]):sf.base.classList(r,["e-notallowedcur"],["e-movecur"])}if(!n.options.rowDropTarget&&(!n.options.groupCount||e.target.classList.contains("e-selectionbackground")))if(s(o,"e-grid")&&t.updateScrollPostion(e.event,o),t.isOverflowBorder&&parseInt(t.startedRow.getAttribute("data-rowindex"),10)!==t.dragTarget)t.moveDragRows(e,t.startedRow,i);else{if(i&&t.parent.getRowByIndex(t.parent.getRows().length-1).getAttribute("data-uid")===i.getAttribute("data-uid")){var a=sf.base.createElement("div",{className:"e-lastrow-dragborder"}),d=t.parent.getContent();a.style.width=t.parent.element.offsetWidth-t.getScrollWidth()+"px",d.querySelectorAll(".e-lastrow-dragborder").length||(d.classList.add("e-grid-relative"),d.appendChild(a),a.style.bottom=t.getScrollWidth()+"px")}t.removeBorder(i)}}},this.dragStop=function(e){document.body.classList.remove("e-prevent-select"),p(t.parent.element)||t.processDragStop(e)},this.processDragStop=function(e){var n=t.parent,r=t.getElementFromPosition(e.helper,e.event),o=r&&!r.classList.contains("e-dlg-overlay")?r:e.target;n.element.classList.remove("e-rowdrag");var i=document.getElementById(n.options.rowDropTarget);if(t.parent.options.allowRowDragAndDrop&&t.parent.options.rowDropTarget&&!s(o,"e-grid")){var l=t.getElementXPath(o),a=o.id,d=parseInt(t.startedRow.getAttribute("data-rowindex"),10),h=o.getBoundingClientRect();n.dotNetRef.invokeMethodAsync("ReorderRows",d,0,"add",!1,l,a,h,null,!0)}if(n.options.rowDropTarget&&i&&i.blazor__instance&&"function"==typeof i.blazor__instance.getModuleName&&"grid"===i.blazor__instance.getModuleName()&&i.blazor__instance.getContent().classList.remove("e-allowRowDrop"),!s(o,"e-gridcontent"))return t.dragTarget=null,void sf.base.remove(e.helper);if(t.parent.options.allowRowDragAndDrop&&!t.parent.options.rowDropTarget){t.stopTimer(),t.parent.getContent().classList.remove("e-grid-relative"),t.removeBorder(r);var p=n.element.querySelector(".e-dragstartrow");p&&p.classList.remove("e-dragstartrow");var u=t.dragTarget,c=t.getElementXPath(e.target),f=o.id,g=parseInt(t.startedRow.getAttribute("data-rowindex"),10);setTimeout((function(){n.dotNetRef.invokeMethodAsync("ReorderRows",g,u,"delete",!0,c,f,null,null,!1)}),10),t.dragTarget=null}},this.removeCell=function(e,t){return[].slice.call(e.querySelectorAll("td")).filter((function(n){n.classList.contains(t)&&e.deleteCell(n.cellIndex)}))},this.drop=function(e){t.columnDrop({target:e.target,droppedElement:e.droppedElement}),sf.base.remove(e.droppedElement)},this.parent=e,this.parent.options.allowRowDragAndDrop&&this.initializeDrag()}return e.prototype.stopTimer=function(){window.clearInterval(this.timer)},e.prototype.initializeDrag=function(){var e=this.parent;this.draggable=new sf.base.Draggable(e.getContent(),{dragTarget:".e-rowcelldrag, .e-rowdragdrop, .e-rowcell",distance:5,helper:this.helper,dragStart:this.dragStart,drag:this.drag,dragStop:this.dragStop,isPreventSelect:!1}),this.droppable=new sf.base.Droppable(e.getContent(),{accept:".e-dragclone",drop:this.drop})},e.prototype.updateScrollPostion=function(e,t){var n=this,r=this.parent.options.frozenColumns,o=d(e).y,i=this.parent.getContent().getBoundingClientRect(),s=this.parent.getRowHeight()-15,l=r?this.parent.getContent().querySelector(".e-movablecontent"):this.parent.getContent();if(i.top+s>=o){var a=-this.parent.getRowHeight();this.isOverflowBorder=!1,this.timer=window.setInterval((function(){n.setScrollDown(l,a,!0)}),200)}else if(i.top+this.parent.getContent().clientHeight-s-20<=o){var h=this.parent.getRowHeight();this.isOverflowBorder=!1,this.timer=window.setInterval((function(){n.setScrollDown(l,h,!0)}),200)}},e.prototype.setScrollDown=function(e,t,n){e.scrollTop=e.scrollTop+t},e.prototype.moveDragRows=function(e,t,n){var r=this.parent.element.querySelector(".e-cloneproperties"),o=sf.base.closest(e.target,"tr");if(s(o,"e-gridcontent")&&s(r.parentElement,"e-grid").id===s(o,"e-grid").id){var i=o||this.startedRow;this.setBorder(i,e.event,t,n)}},e.prototype.setBorder=function(e,t,n,r){var o=this.parent.element,i=this.parent.element.querySelector(".e-cloneproperties");if(this.removeFirstRowBorder(e),this.removeLastRowBorder(e),s(e,"e-gridcontent")&&s(i.parentElement,"e-grid").id===s(e,"e-grid").id){sf.base.removeClass(o.querySelectorAll(".e-rowcell,.e-rowdragdrop"),["e-dragborder"]);var l=[];if(r&&0===r.rowIndex){var a=sf.base.createElement("div",{className:"e-firstrow-dragborder"}),d=this.parent.getHeaderContent();d.classList.add("e-grid-relative"),a.style.width=o.offsetWidth-this.getScrollWidth()+"px",d.querySelectorAll(".e-firstrow-dragborder").length||d.appendChild(a)}else r&&parseInt(n.getAttribute("data-rowindex"),10)>r.rowIndex?(e=this.parent.getRowByIndex(r.rowIndex-1),l=[].slice.call(e.querySelectorAll(".e-rowcell,.e-rowdragdrop,.e-detailrowcollapse"))):l=[].slice.call(e.querySelectorAll(".e-rowcell,.e-rowdragdrop,.e-detailrowcollapse"));l.length>0&&f(l,!0,"e-dragborder")}},e.prototype.getScrollWidth=function(){var e=this.parent.getContent().firstElementChild;return e.scrollWidth>e.offsetWidth?o():0},e.prototype.removeFirstRowBorder=function(e){this.parent.element.getElementsByClassName("e-firstrow-dragborder").length>0&&e&&0!==e.rowIndex&&this.parent.element.getElementsByClassName("e-firstrow-dragborder")[0].remove()},e.prototype.removeLastRowBorder=function(e){var t=e&&this.parent.getRowByIndex(this.parent.getRows().length-1).getAttribute("data-uid")!==e.getAttribute("data-uid");this.parent.element.getElementsByClassName("e-lastrow-dragborder").length>0&&e&&t&&this.parent.element.getElementsByClassName("e-lastrow-dragborder")[0].remove()},e.prototype.removeBorder=function(e){(this.removeFirstRowBorder(e),this.removeLastRowBorder(e),e=this.parent.getRows().filter((function(e){return e.querySelector("td.e-dragborder")}))[0])&&f([].slice.call(e.querySelectorAll(".e-dragborder")),!1,"e-dragborder")},e.prototype.getElementFromPosition=function(e,t){var n,r=d(t);return e.style.display="none",n=document.elementFromPoint(r.x,r.y),e.style.display="",n},e.prototype.getElementXPath=function(e){if(!e)return null;if(e.id)return"//[@id="+e.id+"]"+(""!=e.className?"."+e.className.toLowerCase():"");if("BODY"===e.tagName)return"/html/body";var t=[].slice.call(e.parentElement.childNodes).filter((function(t){return t.nodeName===e.nodeName})),n=t.indexOf(e);return this.getElementXPath(e.parentNode)+"/"+e.tagName.toLowerCase()+(""!=e.className?"."+e.className.toLowerCase():"")+(t.length>1?"["+(n+1)+"]":"")},e.prototype.getTargetIdx=function(e){return e?parseInt(e.getAttribute("data-rowindex"),10):0},e.prototype.columnDrop=function(e){var t=this.parent;if("grouping"!==e.droppedElement.getAttribute("action")){var n=sf.base.closest(e.target,"tr"),r=void 0;if("true"!==e.droppedElement.querySelector("tr").getAttribute("single-dragrow")&&e.droppedElement.parentElement.id===t.element.id||"true"===e.droppedElement.querySelector("tr").getAttribute("single-dragrow")&&e.droppedElement.parentElement.id!==t.element.id)return;if(e.droppedElement.parentElement.id!==t.element.id&&(r=e.droppedElement.parentElement.blazor__instance),r.element.id!==t.element.id&&r.options.rowDropTarget!==t.element.id)return;var o=this.getTargetIdx(n);isNaN(o)&&(o=0),t.options.allowPaging&&(o=o+t.options.currentPage*t.options.pageSize-t.options.pageSize);var i=this.getElementXPath(e.target),s=e.target.id,l=e.target.getBoundingClientRect();t.dotNetRef.invokeMethodAsync("ReorderRows",0,o,"add",!1,i,s,l,r.dotNetRef,!1),r.dotNetRef.invokeMethodAsync("ReorderRows",0,o,"delete",!1,i,s,l,null,!1)}},e.prototype.destroy=function(){var e=this.parent.element;e&&(e.querySelector(".e-gridheader")||e.querySelector(".e-gridcontent"))&&(sf.base.isNullOrUndefined(this.draggable)||this.draggable.destroy(),sf.base.isNullOrUndefined(this.droppable)||this.droppable.destroy())},e}(),k=function(){function e(e){this.parent=e,this.addEventListener()}return e.prototype.addEventListener=function(){sf.base.EventHandler.add(this.parent.getContent().parentElement,"mousedown",this.mouseDownHandler,this),this.parent.options.allowDragSelection&&sf.base.EventHandler.add(this.parent.getContent().parentElement,"touchstart",this.mouseDownHandler,this)},e.prototype.removeEventListener=function(){sf.base.EventHandler.remove(this.parent.getContent().parentElement,"mousedown",this.mouseDownHandler),this.parent.options.allowDragSelection&&sf.base.EventHandler.remove(this.parent.getContent().parentElement,"touchstart",this.mouseDownHandler)},e.prototype.mouseDownHandler=function(e){var t,n=e.target,r=this.parent,o=s(n,"e-grid");if(!(o&&o.id!==r.element.id||s(n,"e-headercontent")&&!this.parent.options.frozenRows)){if((e.shiftKey||e.ctrlKey)&&e.preventDefault(),s(n,"e-rowcell")&&!e.shiftKey&&!e.ctrlKey){if(!(r.options.cellSelectionMode.indexOf("Box")>-1||(r.options.allowDragSelection&&!r.options.enableAutoFill&&r.options.cellSelectionMode.indexOf("Flow"))>-1)||this.isRowType()||this.isSingleSel()?this.isCellDrag=!1:(this.isCellDrag=!0,t=!0),(r.options.allowRowDragAndDrop||r.options.allowDragSelection&&!r.options.enableAutoFill)&&!r.options.isEdit){if(!r.options.allowDragSelection&&(!this.isRowType()||sf.base.closest(n,"td").classList.contains("e-selectionbackground"))||this.isSingleSel())return r.options.allowDragSelection&&document.body.classList.add("e-disableuserselect"),void(this.isDragged=!1);t=!0,this.element=sf.base.createElement("div",{className:"e-griddragarea"}),this.element.style.left="0px",this.element.style.top="0px",r.getContent().appendChild(this.element)}t&&(this.isAutoFillSel=!1,this.enableDrag(e,!0))}this.updateStartEndCells(),(n.classList.contains("e-autofill")||n.classList.contains("e-xlsel"))&&(this.isCellDrag=!0,this.isAutoFillSel=!0,this.enableDrag(e),document.body.style.cursor="crosshair")}},e.prototype.mouseUpHandler=function(e){if(document.body.classList.remove("e-disableuserselect"),this.element&&sf.base.remove(this.element),this.isCellDrag||sf.base.isNullOrUndefined(this.prevStartDIndex)&&sf.base.isNullOrUndefined(this.prevEndIndex)?!this.parent.options.allowDragSelection||this.parent.options.enableAutoFill||!this.isDragged||this.isAutoFillSel||sf.base.isNullOrUndefined(this.startDragIndex)&&sf.base.isNullOrUndefined(this.endDragIndex)&&sf.base.isNullOrUndefined(this.endDragCellIndex)||(this.isDragged=!1,this.parent.dotNetRef.invokeMethodAsync("DragCellSelection",this.startDragIndex,this.startDragCellIndex,this.endDragIndex,this.endDragCellIndex,!1)):this.parent.dotNetRef.invokeMethodAsync("DragSelection",this.prevStartDIndex,this.prevEndIndex,!1),this.isDragged=!1,document.body.style.cursor="default",this.prevStartDIndex=void 0,this.prevEndIndex=void 0,this.startDragIndex=void 0,this.startDragCellIndex=void 0,this.endDragIndex=void 0,this.endDragCellIndex=void 0,"Batch"==this.parent.options.editMode&&this.parent.options.enableAutoFill&&0===this.parent.options.frozenColumns&&0===this.parent.options.frozenRows){if(!sf.base.isNullOrUndefined(this.endRowIndex)&&!sf.base.isNullOrUndefined(this.endColIndex)&&!this.isAutoFillSel&&this.isInitialSelect){this.parent.dotNetRef.invokeMethodAsync("ClearSelection");var t=this.updateAutofillPosition(this.endColIndex,this.endRowIndex,!0);this.parent.dotNetRef.invokeMethodAsync("UpdateAutofillPositions",t,"UpdateAutofillBox"),this.assignCells(),this.selectCellByRow(),this.isInitialSelect=!1}if(this.isAutoFillSel){var n=this;this.assignCells(),setTimeout((function(){n.selectCellByRow()}),10),this.expandAFBorder(e,!0);var r=this.createBorder(this.startRowIndex,this.startColIndex,this.endRowIndex,this.endColIndex,!0);this.parent.dotNetRef.invokeMethodAsync("UpdateAutofillPositions",r,"UpdateAutofillBorder");t=this.updateAutofillPosition(this.endColIndex,this.endRowIndex,!0);this.parent.dotNetRef.invokeMethodAsync("UpdateAutofillPositions",t,"UpdateAutofillBox")}}sf.base.EventHandler.remove(this.parent.getContent(),"mousemove",this.mouseMoveHandler),this.parent.options.allowDragSelection&&sf.base.EventHandler.remove(this.parent.getContent(),"touchmove",this.mouseMoveHandler),this.parent.options.frozenRows&&(sf.base.EventHandler.remove(this.parent.getHeaderContent(),"mousemove",this.mouseMoveHandler),this.parent.options.allowDragSelection&&sf.base.EventHandler.remove(this.parent.getHeaderContent(),"touchmove",this.mouseMoveHandler)),sf.base.EventHandler.remove(document.body,"mouseup",this.mouseUpHandler),this.parent.options.allowDragSelection&&sf.base.EventHandler.remove(document.body,"touchend",this.mouseUpHandler)},e.prototype.enableDrag=function(e,t){var n=this.parent;if(t){var r=sf.base.closest(e.target,"tr");this.startDragIndex=parseInt(r.getAttribute("data-rowindex"),10),this.startDragCellIndex=parseInt(s(e.target,"e-rowcell").getAttribute("data-colindex"),10)}document.body.classList.add("e-disableuserselect");var o=n.element.getBoundingClientRect(),i=d(e);this.x=i.x-o.left,this.y=i.y-o.top,sf.base.EventHandler.add(n.getContent(),"mousemove",this.mouseMoveHandler,this),this.parent.options.allowDragSelection&&sf.base.EventHandler.add(n.getContent(),"touchmove",this.mouseMoveHandler,this),this.parent.options.frozenRows&&(sf.base.EventHandler.add(n.getHeaderContent(),"mousemove",this.mouseMoveHandler,this),this.parent.options.allowDragSelection&&sf.base.EventHandler.add(n.getHeaderContent(),"touchmove",this.mouseMoveHandler,this)),sf.base.EventHandler.add(document.body,"mouseup",this.mouseUpHandler,this),this.parent.options.allowDragSelection&&sf.base.EventHandler.add(document.body,"touchend",this.mouseUpHandler,this)},e.prototype.mouseMoveHandler=function(e){e.preventDefault();var t,n,r=this.parent.element.getBoundingClientRect(),o=this.x,i=this.y,l=d(e),a=l.x-r.left,h=l.y-r.top,p="touchmove"==e.type?e.touches[0].pageX:e.pageX,u="touchmove"==e.type?e.touches[0].pageY:e.pageY,c=u+2;if(n=sf.base.isNullOrUndefined(e.touches)||sf.base.isNullOrUndefined(document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY))?sf.base.closest(e.target,"tr"):sf.base.closest(document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY),"tr"),this.isDragged=!0,!this.isCellDrag||this.parent.options.allowDragSelection&&!this.parent.options.enableAutoFill&&this.isCellDrag){n||(n=sf.base.closest(document.elementFromPoint(this.parent.element.offsetLeft+2,sf.base.isNullOrUndefined(e.touches)?e.clientY:e.touches[0].clientY),"tr")),o>a&&(t=a,a=o,o=t),i>h&&(t=h,h=i,i=t,c=u-2);for(var f=[".e-gridheader",".e-groupdroparea",".e-toolbar"],g=0,m=0;m<f.length;m++){var v=this.parent.element.querySelector(f[m]);v&&(g+=v.offsetHeight)}var y=this.parent.element.querySelector(".e-yscroll"),b=0;y&&(b+=y.scrollTop),this.element.style.left=o+"px",this.element.style.top=i-g+b+"px",this.element.style.width=a-o+"px",this.element.style.height=h-i+"px"}if(n&&!e.ctrlKey&&!e.shiftKey){var C=parseInt(n.getAttribute("data-rowindex"),10);if(this.isCellDrag||!sf.base.isNullOrUndefined(this.prevStartDIndex)&&this.prevStartDIndex==this.startDragIndex&&this.prevEndIndex==C){if(this.parent.options.allowDragSelection&&!this.parent.options.enableAutoFill&&this.isCellDrag){var w;E=!1;(w=sf.base.isNullOrUndefined(e.touches)||sf.base.isNullOrUndefined(document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY))?sf.base.closest(e.target,"td"):sf.base.closest(document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY),"td"))||(w=document.elementFromPoint(p,c)),w&&(sf.base.isNullOrUndefined(this.prevStartDIndex)&&(E=!0),this.prevStartDIndex=this.startDragIndex,this.endDragIndex=C,this.endDragCellIndex=parseInt(w.getAttribute("data-colindex"),10),this.isAutoFillSel||(E?this.parent.dotNetRef.invokeMethodAsync("DragCellSelection",this.startDragIndex,this.startDragCellIndex,C,parseInt(w.getAttribute("data-colindex"),10),!0):this.performDragCellSelection(this.startDragIndex,this.startDragCellIndex,C,parseInt(w.getAttribute("data-colindex"),10))))}else if("Batch"==this.parent.options.editMode&&this.parent.options.enableAutoFill&&this.startCell){var S=s(e.target,"e-rowcell");if(S&&!S.classList.contains("e-editedbatchcell"))if(this.startAFCell=this.startCell,this.endAFCell=S,this.endCell=S,this.isAutoFillSel)this.expandAFBorder(e,!1);else{this.assignCells();var z=this.createBorder(this.startRowIndex,this.startColIndex,this.endRowIndex,this.endColIndex,!0);this.parent.dotNetRef.invokeMethodAsync("UpdateAutofillPositions",z,"UpdateAutofillBorder"),this.isInitialSelect=!0}}}else{var x=-1,E=!1,R=this.parent.getSelectedRowIndexes();sf.base.isNullOrUndefined(this.prevStartDIndex)?(x=-1,E=!0):(C>=this.prevStartDIndex&&R.indexOf(C)>=0||this.prevStartDIndex>C&&R.indexOf(this.startDragIndex)>=0)&&(x=this.prevEndIndex),this.prevStartDIndex=this.startDragIndex,this.prevEndIndex=C,E?this.parent.dotNetRef.invokeMethodAsync("DragSelection",this.startDragIndex,C,!0):this.performDragSelection(this.startDragIndex,C,x)}}},e.prototype.performDragCellSelection=function(e,t,n,r){var o=e,i=n;e>n&&(o=n,i=e),this.selectCellsByRange(o,i,t,r)},e.prototype.selectCellsByRange=function(e,t,n,r){for(var o,i,s=this.parent.getRows(),l=0;l<s.length;l++){var a=s[l],d=[].slice.call(a.querySelectorAll(".e-rowcell"));a.removeAttribute("aria-selected"),f.apply(void 0,[d,!1].concat(["e-aria-selected","e-active"]))}var h=[];if(e>t){var p=e;e=t,t=p}if(n>r){var u=n;n=r,r=u}for(l=e;l<=t;l++){this.parent.options.cellSelectionMode.indexOf("Box")<0?(o=l===e?n:0,i=l===t?r:this.getLastColIndex(l)):(o=n,i=r);for(var c=o<i?o:i,g=o>i?o:i;c<=g;c++)h.push(s[l].querySelectorAll(".e-rowcell")[c]);f.apply(void 0,[h,!0].concat(["e-aria-selected","e-active"]))}},e.prototype.getLastColIndex=function(e){var t=this.parent.options.frozenColumns?this.parent.getMovableDataRows()[e].querySelectorAll("td.e-rowcell"):this.parent.getDataRows()[e].querySelectorAll("td.e-rowcell");return parseInt(t[t.length-1].getAttribute("data-colindex"),10)},e.prototype.updateAutofillPosition=function(e,t,n){void 0===n&&(n=!1);var r=this.parent.getRowByIndex(t).querySelector('[data-colindex="'+e+'"]'),o=[].slice.call(this.parent.element.querySelectorAll(".e-cellselectionbackground")),i="",s="",l="";if(o&&!n&&(r=o[o.length-1]),r&&r.offsetParent){var a=r.getBoundingClientRect(),d=r.offsetParent.getBoundingClientRect(),h=this.isLastCell(r)?4:0,p=this.isLastRow(r)?3:0;this.parent.options.enableRtl?s=d.right-a.right+a.width-4-h+"px":i=a.left-d.left+a.width-4-h+"px",l=a.top-d.top+a.height-5-p+"px"}return{Left:i,Right:s,Top:l}},e.prototype.createBorder=function(e,t,n,r,o){void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=!1);var i,s,l,a=[].slice.call(this.parent.element.querySelectorAll(".e-cellselectionbackground")),d=this.parent.getRowByIndex(e),h=d.querySelector('[data-colindex="'+t+'"]'),p=[].slice.call(h.parentElement.querySelectorAll('[data-colindex="'+t+'"]')),u="",c="",f="";null!=n&&null!=r?(i=this.parent.getRowByIndex(n).querySelector('[data-colindex="'+r+'"]'),s=[].slice.call(i.parentElement.querySelectorAll('[data-colindex="'+r+'"]'))):(d,i=h,s=p),a&&!o&&(p=[].slice.call(a[0].parentElement.querySelectorAll('[data-colindex="'+a[0].cellIndex+'"]')),s=[].slice.call(a[a.length-1].parentElement.querySelectorAll('[data-colindex="'+a[a.length-1].cellIndex+'"]'))),this.startCell||(this.startCell=p[0]),this.endCells=s[0];var g=p[0],m=s[0],v=g.getBoundingClientRect(),y=m.getBoundingClientRect(),b=g.offsetParent.getBoundingClientRect(),C=this.isLastRow(m)?2:0,w=this.parent.options.frozenRows&&this.isFirstRow(g)?1.5:0,S=this.parent.options.frozenColumns&&this.isFirstCell(g)?1:0;return this.parent.options.enableRtl?(u=b.right-v.right-S+"px",f=v.right-y.left+S+1+"px"):(c=v.left-b.left-S+"px",f=y.right-v.left+S+1+"px"),l=v.top-b.top-w+"px","2px",{Right:u,Width:f,BorderWidth:"2px",Left:c,Height:y.top-v.top>0?y.top-b.top+y.height+1-(v.top-b.top)-C+w+"px":y.height+w-C+1+"px",Top:l}},e.prototype.expandAFBorder=function(e,t){for(var n=[].slice.call(this.parent.element.querySelectorAll(".e-cellselectionbackground")),r=parseInt(s(this.startCell,"e-row").getAttribute("data-rowindex"),10),o=parseInt(this.startCell.getAttribute("data-colindex"),10),i=parseInt(s(this.endCell,"e-row").getAttribute("data-rowindex"),10),l=parseInt(this.endCell.getAttribute("data-colindex"),10),a=parseInt(s(n[n.length-1],"e-row").getAttribute("data-rowindex"),10)-parseInt(s(n[0],"e-row").getAttribute("data-rowindex"),10),d=parseInt(s(n[0],"e-row").getAttribute("data-rowindex"),10),h=this.parent.getRowByIndex(d),p=0,u=0,c=h.cells.length;u<c;u++)h.cells[u].classList.contains("e-cellselectionbackground")&&p++;switch(p=(p-=1)>=0?p:0,!0){case!t&&this.endAFCell.classList.contains("e-cellselectionbackground")&&!!s(e.target,"e-rowcell"):this.startAFCell=this.parent.getCellFromIndex(r,o),this.endAFCell=this.parent.getCellFromIndex(r+a,o+p),this.drawAFBorders();break;case o+p<l&&l-o-p+1>i-r-a&&l-o-p+1>r-i:if(this.endAFCell=this.parent.getCellFromIndex(r+a,l),i=parseInt(s(this.endAFCell,"e-row").getAttribute("data-rowindex"),10),l=parseInt(this.endAFCell.getAttribute("data-colindex"),10),t){var f=parseInt(this.endCells.getAttribute("data-colindex"),10);for(u=r;u<=i;u++)for(var g=this.getAutoFillCells(u,o),m=0,v=f+1;v<=l;v++)m>p&&(m=0),this.updateValue(u,v,g[m]),m++}else this.drawAFBorders();break;case o>l&&o-l+1>i-r-a&&o-l+1>r-i:if(this.startAFCell=this.parent.getCellFromIndex(r,l),this.endAFCell=this.endCells,t)for(u=r;u<=r+a;u++){(g=this.getAutoFillCells(u,o)).reverse();for(m=0,v=this.startCellIndex-1;v>=l;v--)m>p&&(m=0),this.updateValue(u,v,g[m]),m++}else this.drawAFBorders();break;case r>i:if(this.startAFCell=this.parent.getCellFromIndex(i,o),this.endAFCell=this.endCells,t){var y=b=parseInt(this.endCells.parentElement.getAttribute("data-rowindex"),10);for(u=r-1;u>=i;u--){y===this.startIndex-1&&(y=b);g=this.getAutoFillCells(y,o),m=0;y--;for(v=this.startCellIndex;v<=this.startCellIndex+p;v++)this.updateValue(u,v,g[m]),m++}}else this.drawAFBorders();break;default:if(this.endAFCell=this.parent.getCellFromIndex(i,o+p),t){var b=parseInt(this.endCells.parentElement.getAttribute("data-rowindex"),10);for(y=this.startIndex,u=b+1;u<=i;u++){y===b+1&&(y=this.startIndex);g=this.getAutoFillCells(y,o);y++;m=0;for(var C=this.startCellIndex;C<=this.startCellIndex+p;C++)this.updateValue(u,C,g[m]),m++}}else this.drawAFBorders()}},e.prototype.drawAFBorders=function(){if(this.startCell){var e=this.startAFCell.getBoundingClientRect(),t=this.endAFCell.getBoundingClientRect(),n=t.top-e.top>0?1:0,r=t.top-e.top>=0&&(s(this.startAFCell,"e-movablecontent")||s(this.startAFCell,"e-frozencontent"))&&this.isFirstRow(this.startAFCell)?1.5:0,o=(s(this.startAFCell,"e-movablecontent")||s(this.startAFCell,"e-movableheader"))&&this.isFirstCell(this.startAFCell)?1:0,i=this.isLastRow(this.endAFCell)&&(s(this.endAFCell,"e-movablecontent")||s(this.endAFCell,"e-frozencontent"))?2:1,l=this.startAFCell.offsetParent.getBoundingClientRect(),a=this.parent.element.getBoundingClientRect(),d=this.startAFCell.offsetParent.parentElement.scrollTop,h=this.startAFCell.offsetParent.parentElement.scrollLeft,p=d-this.startAFCell.offsetTop,u=h-this.startAFCell.offsetLeft;p=p>0?Math.floor(p)-1:0,u=u>0?u:0;var c,f,g,m=e.left-a.left,v="",y="",b="",C="",w="",S="";if(this.parent.options.enableRtl){var z=s(this.startAFCell,"e-movablecontent")||s(this.startAFCell,"e-movableheader")?e.right-this.startAFCell.offsetParent.parentElement.getBoundingClientRect().width-a.left:0;y=a.right-t.right-2+t.width+"px",C=a.right-e.right-o+z-1+"px",w=t.left-a.left-.5+"px",S=parseInt(y,10)-parseInt(C,10)-o+1+"px"}else v=m-o+u-1+h+"px",b=t.left-a.left-2+t.width+h+"px",w=m+u-.5+h+"px",S=parseInt(b,10)-parseInt(v,10)-o+1+"px";g=f=e.top-l.top-r+"px";var x={BorderLeftAutofillLeft:v,BorderLeftAutofillTop:f,BorderLeftAutofillHeight:c=t.top-e.top>0?t.top-l.top+t.height+1-(e.top-l.top)+r-i-p+"px":t.height+r-i-p+"px",BorderLeftAutofillRight:y,BorderRightAutofillLeft:b,BorderRightAutofillHeight:parseInt(c,10)+"px",BorderRightAutofillRight:C,BorderRightAutofillTop:g,BorderTopAutofillLeft:w,BorderTopAutofillTop:g,BorderTopAutofillWidth:S,BorderBottomAutofillLeft:w,BorderBottomAutofillTop:parseFloat(f)+parseFloat(c)-n-1+"px",BorderBottomAutofillWidth:S};this.parent.dotNetRef.invokeMethodAsync("UpdateAutofillPositions",x,"UpdateAutofillPosition")}},e.prototype.updateValue=function(e,t,n){var r=this.parent.getColumnByIndex(t),o=parseInt(s(n,"e-row").getAttribute("data-rowindex"),10),i=this.parent.getColumnByIndex(n.cellIndex),l=n.innerText;this.parent.dotNetRef.invokeMethodAsync("UpdateAutofillCell",e,r.field,i.field,o,l)},e.prototype.getAutoFillCells=function(e,t){return[].slice.call(this.parent.getDataRows()[e].querySelectorAll(".e-cellselectionbackground"))},e.prototype.updateStartEndCells=function(){var e=[].slice.call(this.parent.element.querySelectorAll(".e-cellselectionbackground"));this.startCell=e[0],this.endCell=e[e.length-1],this.startCell&&(this.startIndex=parseInt(this.startCell.parentElement.getAttribute("data-rowindex"),10),this.startCellIndex=parseInt(s(this.startCell,"e-rowcell").getAttribute("data-colindex"),10))},e.prototype.assignCells=function(){this.startRowIndex=parseInt(this.startAFCell.parentElement.getAttribute("data-rowindex"),10),this.endRowIndex=parseInt(this.endAFCell.parentElement.getAttribute("data-rowindex"),10),this.startColIndex=parseInt(this.startAFCell.getAttribute("data-colindex"),10),this.endColIndex=parseInt(this.endAFCell.getAttribute("data-colindex"),10),this.startRowIndex>this.endRowIndex&&(this.startRowIndex=this.endRowIndex,this.endRowIndex=parseInt(this.startAFCell.parentElement.getAttribute("data-rowindex"),10)),this.endColIndex<this.startColIndex&&(this.startColIndex=this.endColIndex,this.endColIndex=parseInt(this.startAFCell.getAttribute("data-colindex"),10))},e.prototype.selectCellByRow=function(){for(var e=this.startRowIndex;e<=this.endRowIndex;e++)for(var t=this.startColIndex;t<=this.endColIndex;t++)this.parent.dotNetRef.invokeMethodAsync("SelectCellByRow",e,t)},e.prototype.isLastCell=function(e){var t=[].slice.call(e.parentElement.querySelectorAll(".e-rowcell:not(.e-hide)"));return t[t.length-1]==e},e.prototype.isLastRow=function(e){var t=[].slice.call(sf.base.closest(e,"tbody").querySelectorAll(".e-row:not(.e-hiddenrow)"));return t[t.length-1]==e.parentElement},e.prototype.isFirstRow=function(e){var t=[].slice.call(sf.base.closest(e,"tbody").querySelectorAll(".e-row:not(.e-hiddenrow)"));return e.parentElement===t[0]},e.prototype.isFirstCell=function(e){return[].slice.call(e.parentElement.querySelectorAll(".e-rowcell:not(.e-hide)"))[0]===e},e.prototype.performDragSelection=function(e,t,n){var r=e,o=t;e>t&&(r=t,o=e),-1!=n&&this.clearSelectionExceptDragIndexes(r,o),this.selectRangeOfRows(r,o)},e.prototype.selectRangeOfRows=function(e,t){var n=this.parent.getRows(),r=null;this.parent.options.frozenColumns&&(r=this.parent.getMovableDataRows());for(var o=function(e){if(!sf.base.isNullOrUndefined(r)&&r.length>0){var t=i.parent.options.enableVirtualization?r.filter((function(t){return parseInt(t.getAttribute("data-rowindex"),10)==e}))[0]:r[e];i.selectRow(t,!0)}var o=i.parent.options.enableVirtualization?n.filter((function(t){return parseInt(t.getAttribute("data-rowindex"),10)==e}))[0]:n[e];i.selectRow(o,!1)},i=this,s=e;s<=t;s++)o(s)},e.prototype.selectRow=function(e,t){if(!sf.base.isNullOrUndefined(e)){e.setAttribute("aria-selected","true");var n=[].slice.call(e.querySelectorAll(".e-rowcell"));f.apply(void 0,[n,!0].concat(["e-aria-selected","e-active"])),t||n[0].classList.contains("e-gridchkbox")&&n[0].querySelector(".e-frame").classList.replace("e-uncheck","e-check")}},e.prototype.clearSelectionByRow=function(e){var t=[].slice.call(e.querySelectorAll(".e-rowcell"));e.removeAttribute("aria-selected"),f.apply(void 0,[t,!1].concat(["e-aria-selected","e-active"])),t[0].classList.contains("e-gridchkbox")&&t[0].querySelector(".e-frame").classList.replace("e-check","e-uncheck")},e.prototype.clearSelectionExceptDragIndexes=function(e,t){var n=this.parent.getRows(),r=null;this.parent.options.frozenColumns&&(r=this.parent.getMovableDataRows());for(var o=0;o<n.length;o++){var i=this.parent.options.enableVirtualization?parseInt(n[o].getAttribute("data-rowindex"),10):o;if(i<e||i>t){if(!sf.base.isNullOrUndefined(r)&&r.length>0){var s=this.parent.options.enableVirtualization?r.filter((function(e){return parseInt(e.getAttribute("data-rowindex"),10)==i}))[0]:r[i];this.clearSelectionByRow(s)}var l=this.parent.options.enableVirtualization?n.filter((function(e){return parseInt(e.getAttribute("data-rowindex"),10)==i}))[0]:n[i];this.clearSelectionByRow(l)}}},e.prototype.isRowType=function(){return"Row"===this.parent.options.selectionMode||"Both"===this.parent.options.selectionMode},e.prototype.isSingleSel=function(){return"Single"===this.parent.options.selectionType},e}(),O=function(){function e(e,t){var n=this;this.fromWheel=!1,this.touchMove=!1,this.options={},this.sentinelInfo={up:{check:function(e,t){var r=e.top-n.containerRect.top;return t.entered=r>=0,r+n.options.pageHeight/2>=0},axis:"Y"},down:{check:function(e,t){n.options.container.clientHeight;var r=e.bottom;return t.entered=e.bottom<=n.containerRect.bottom,r-n.options.pageHeight/2<=n.options.pageHeight/2},axis:"Y"},right:{check:function(e,t){var r=e.right;return t.entered=r<n.containerRect.right,r-n.containerRect.width<=n.containerRect.right},axis:"X"},left:{check:function(e,t){var r=e.left;return t.entered=r>0,r+n.containerRect.width>=n.containerRect.left},axis:"X"}},this.element=e,this.options=t}return e.prototype.observe=function(e,t){var n=this;this.options.virtualScrollHandler=this.virtualScrollHandler(e,t),this.containerRect=this.options.container.getBoundingClientRect(),sf.base.EventHandler.add(this.options.container,"wheel",(function(){return n.fromWheel=!0}),this),sf.base.EventHandler.add(this.options.container,"scroll",this.options.virtualScrollHandler,this),sf.base.isNullOrUndefined(s(this.element,"e-gridcontent"))||sf.base.isNullOrUndefined(s(this.element,"e-gridcontent").querySelector(".e-movablescrollbar"))||sf.base.EventHandler.add(s(this.element,"e-gridcontent").querySelector(".e-movablescrollbar"),"scroll",this.options.virtualScrollHandler,this)},e.prototype.disconnect=function(){var e=this;this.containerRect=this.options.container.getBoundingClientRect(),sf.base.EventHandler.remove(this.options.container,"wheel",(function(){return e.fromWheel=!0})),sf.base.EventHandler.remove(this.options.container,"scroll",this.options.virtualScrollHandler),sf.base.isNullOrUndefined(s(this.element,"e-gridcontent"))||sf.base.isNullOrUndefined(s(this.element,"e-gridcontent").querySelector(".e-movablescrollbar"))||sf.base.EventHandler.remove(s(this.element,"e-gridcontent").querySelector(".e-movablescrollbar"),"scroll",this.options.virtualScrollHandler)},e.prototype.check=function(e){var t=this.sentinelInfo[e];return t.check(this.element.getBoundingClientRect(),t)},e.prototype.virtualScrollHandler=function(e,t){var n=this,r="chrome"===sf.base.Browser.info.name?200:100,o=0,i=0,s=sf.base.debounce(e,r),l=sf.base.debounce(e,50);return function(e){var r=e.target.scrollTop,a=e.target.scrollLeft,d=o<r?"down":"up",h=e.target.classList.contains("e-movablescrollbar"),p=!0,u=n.options.container.querySelectorAll(".e-masked-row").length>0;d=i===a?d:i<a?"right":"left",h&&(d=i<a?"right":"left"),"down"==d?p=!!(u&&n.options.totalItems<100)||r-o<30:"up"==d?p=o-r<30:"right"==d?p=a-i<20:"left"==d&&(p=i-a<20),o=r,i=a;var c=n.sentinelInfo[d];if(-1!==n.options.axes.indexOf(c.axis)){var f=n.check(d),g=n.options.container.querySelectorAll(".e-masked-row").length&&"X"!=c.axis;if((c.entered||(sf.base.isNullOrUndefined(n.blazorActiveKey)||""==n.blazorActiveKey)&&!n.fromWheel&&g)&&t(n.element,c,p,d,{top:r,left:a},n.fromWheel,f),f||g){var m=s;"X"===c.axis&&(m=l),m({direction:d,sentinel:c,offset:{top:r,left:a},focusElement:document.activeElement})}g||(n.fromWheel=!1)}}},e.prototype.setPageHeight=function(e){this.options.pageHeight=e},e}(),D=function(){function e(e){var t=this;this.prevHeight=0,this.preStartIndex=0,this.preventEvent=!1,this.actions=["filtering","searching","grouping","ungrouping","Filtering","Searching","Grouping","Ungrouping","UnGrouping"],this.offsets={},this.tmpOffsets={},this.offsetKeys=[],this.currentInfo={},this.blazorActiveKey="",this.nextRowToNavigate=0,this.startIndex=0,this.bindScrollEvent=function(){t.observer.observe((function(e){t.parent.options.enableVirtualization&&t.scrollListener(e)}),t.onEntered());var e=t.parent;if(e.options.enablePersistence&&e.scrollPosition){t.content.scrollTop=e.scrollPosition.top;var n={direction:"down",sentinel:t.observer.sentinelInfo.down,offset:e.scrollPosition,focusElement:e.element};t.scrollListener(n),e.options.enableColumnVirtualization&&(t.content.scrollLeft=e.scrollPosition.left)}},this.parent=e,this.contentPanel=this.parent.element.querySelector(".e-gridcontent"),this.vHelper=new W(e),this.virtualEle=new F(e),this.addEventListener()}return e.prototype.getPanel=function(){return this.contentPanel},e.prototype.getTable=function(){return this.contentPanel.querySelector(".e-table")},e.prototype.renderTable=function(){this.header=this.parent.virtualHeaderModule,this.virtualEle.table=this.getTable(),this.virtualEle.content=this.content=this.getPanel().querySelector(".e-content"),this.virtualEle.renderWrapper(Number(this.parent.options.height)),this.virtualEle.renderPlaceHolder();var e={container:this.content,pageHeight:2*this.getBlockHeight(),debounceEvent:!0,axes:this.parent.options.enableColumnVirtualization?["X","Y"]:["Y"],totalItems:this.parent.options.totalItemCount};this.observer=new O(this.virtualEle.wrapper,e),this.parent.dotNetRef.invokeMethodAsync("SetRowHeight",this.parent.getRowHeight())},e.prototype.addEventListener=function(){sf.base.EventHandler.add(this.parent.element,"keydown",this.keyDownHandler,this)},e.prototype.removeEventListener=function(){sf.base.isNullOrUndefined(this.observer)||this.observer.disconnect(),this.getPanel().firstElementChild.scrollTop=0,this.getPanel().firstElementChild.scrollLeft=0,sf.base.EventHandler.remove(this.parent.element,"keydown",this.keyDownHandler)},e.prototype.ensurePageSize=function(){var e=this.parent.getRowHeight(),t=2*~~((this.parent.options.height.toString().indexOf("%")<0?this.content.getBoundingClientRect().height:this.parent.element.getBoundingClientRect().height)/e),n=this.parent.options.pageSize,r=n<t?t:n;this.parent.dotNetRef.invokeMethodAsync("SetPageSizeAndCIndex",{pageSize:r,startColumnIndex:this.startColIndex,endColumnIndex:this.endColIndex,VTableWidth:this.getColumnOffset(this.endColIndex)-this.getColumnOffset(this.startColIndex-1)+""}),this.parent.options.pageSize=r,this.observer.options.pageHeight=2*this.getBlockHeight()},e.prototype.scrollListener=function(e){var t=this;if(this.parent.options.enablePersistence&&(this.parent.scrollPosition=e.offset),this.preventEvent)this.preventEvent=!1;else{var n=e.sentinel,r=this.preStartIndex,o=this.parent.getColumnIndexesInView(),i=this.currentInfo=this.getInfoFromView(e.direction,n,e.offset);if(this.parent.options.enableColumnVirtualization&&JSON.stringify(o)!==JSON.stringify(i.columnIndexes)){var s=this.getColumnOffset(this.startColIndex-1),l=this.getColumnOffset(this.endColIndex)-s+"";setTimeout((function(){t.parent.dotNetRef.invokeMethodAsync("RemoveValidationPopup"),t.parent.dotNetRef.invokeMethodAsync("VirtualRefresh",{requestType:"virtualscroll",startColumnIndex:i.columnIndexes[0],endColumnIndex:i.columnIndexes[i.columnIndexes.length-1],axis:"X",VTablewidth:l,translateX:t.getColumnOffset(i.columnIndexes[0]-1),translateY:t.parent.options.enableVirtualMaskRow?t.parent.options.frozenColumns?t.movableTranslateY:t.translateMaskY+t.movableTranslateY:0},Math.ceil(e.offset.top))}),0),this.parent.options.frozenColumns||this.setColVTableWidthAndTranslate()}else"left"!==this.currentInfo.direction&&"right"!==this.currentInfo.direction||!this.parent.options.enableVirtualMaskRow||0!==this.parent.options.frozenColumns||this.virtualEle.adjustTable(this.getColumnOffset(i.columnIndexes[0]-1),this.translateMaskY),this.virtualEle.movableAdjustTable(this.getColumnOffset(i.columnIndexes[0]-1),0),this.header.virtualEle.movableAdjustTable(this.getColumnOffset(i.columnIndexes[0]-1),0);this.parent.setColumnIndexesInView(this.parent.options.enableColumnVirtualization?i.columnIndexes:[]),this.nextRowToNavigate=""!=this.blazorActiveKey?this.nextRowToNavigate:0,this.preStartIndex!==r&&(this.parent.options.currentPage=i.currentPage,setTimeout((function(){t.parent.dotNetRef.invokeMethodAsync("VirtualRefresh",{requestType:"virtualscroll",nextRowToNavigate:t.nextRowToNavigate,virtualStartIndex:i.endIndex-t.parent.options.pageSize,virtualEndIndex:i.endIndex,axis:"Y",RHeight:t.parent.getRowHeight()},(i.endIndex-t.parent.options.pageSize)*(t.parent.options.rowHeight?t.parent.options.rowHeight:t.parent.getRowHeight()))}),0)),this.prevInfo=i,this.blazorActiveKey=""}},e.prototype.setColVTableWidthAndTranslate=function(e){if(this.parent.options.enableColumnVirtualization&&this.prevInfo&&JSON.stringify(this.currentInfo.columnIndexes)!==JSON.stringify(this.prevInfo.columnIndexes)||e&&e.refresh){var t=this.getColumnOffset(this.startColIndex-1),n=this.getColumnOffset(this.endColIndex)-t+"";0!=this.parent.options.frozenColumns?(this.virtualEle.movableContentWrapper.style.width=n,this.header.virtualEle.movableHeaderWrapper.style.width=n,this.header.virtualEle.movableAdjustTable(this.movableTranslateX,this.movableTranslateY),this.virtualEle.movableAdjustTable(this.movableTranslateX,this.movableTranslateY)):(this.header.virtualEle.setWrapperWidth(n),this.virtualEle.setWrapperWidth(n),this.header.virtualEle.adjustTable(this.movableTranslateX,0),this.parent.getContentTable().parentElement.style.width=n+"px")}},e.prototype.refreshOnDataChange=function(){this.getPanel().firstElementChild.scrollTop=0,this.getPanel().firstElementChild.scrollLeft=0,this.parent.options.enableColumnVirtualization&&this.header.virtualEle.adjustTable(0,0),this.virtualEle.adjustTable(0,0),this.refreshOffsets(),this.refreshVirtualElement()},e.prototype.keyDownHandler=function(e){this.blazorActiveKey="ArrowDown"===e.key||"ArrowUp"===e.key?e.key:"",sf.base.isNullOrUndefined(this.observer)||(this.observer.blazorActiveKey=this.blazorActiveKey)},e.prototype.focusCell=function(e,t){e.focus({preventScroll:!0});var n=this.parent.getRowHeight(),r=this.parent.getContent();"MoveDownCell"==t&&e.getBoundingClientRect().bottom>r.getBoundingClientRect().top+r.getBoundingClientRect().height-o()?r.scrollTop=r.scrollTop+n:"MoveUpCell"==t&&e.getBoundingClientRect().bottom<r.getBoundingClientRect().top+n&&(this.isScrollFromFocus=!0,r.scrollTop=r.scrollTop-n)},e.prototype.getInfoFromView=function(e,t,n){var r={direction:e,sentinelInfo:t,offsets:n,startIndex:this.preStartIndex,endIndex:this.preEndIndex},o=this.parent.options.height.toString().indexOf("%")<0?this.content.getBoundingClientRect().height:this.parent.element.getBoundingClientRect().height;r.page=this.getPageFromTop(n.top+o,r),r.blockIndexes=this.vHelper.getBlockIndexes(r.page),r.columnIndexes="X"===t.axis?this.vHelper.getColumnIndexes():this.parent.getColumnIndexesInView();var i=this.parent.getRowHeight(),s=n.top/i,l=o/i,a=s+l,d=this.parent.options.pageSize/4,h=this.parent.options.groupCount?this.getVisibleGroupedRowCount():this.count;if("down"!==r.direction||this.isScrollFromFocus){if("up"===r.direction&&(r.startIndex&&r.endIndex||this.parent.options.enableVirtualMaskRow)){var p=Math.round((r.startIndex*i+d*i)/i);if(this.parent.options.enableVirtualMaskRow)if(l=Math.ceil(l),s<p||Math.ceil(s)>this.preStartIndex){var u=Math.ceil(s)>0?Math.ceil(s):0,c=h-this.parent.options.pageSize-this.parent.options.pageSize/2;r.startIndex=s<h&&c<=s?u>0?u-this.parent.options.pageSize/2:0:u>0?u+this.parent.options.pageSize>h?h-this.parent.options.pageSize:u:0,r.startIndex=r.startIndex>0?r.startIndex-1:r.startIndex;m=r.startIndex+this.parent.options.pageSize;r.endIndex=r.startIndex<0?this.parent.options.pageSize:m<h?m:h,r.currentPage=Math.ceil(r.startIndex/this.parent.options.pageSize),this.isScrollFromFocus=!1,this.preStartIndex=this.startIndex=r.startIndex,this.preEndIndex=r.endIndex}else this.isScrollFromFocus=!1,this.preStartIndex=this.preStartIndex,this.preEndIndex=this.preEndIndex;if(s<p&&!this.parent.options.enableVirtualMaskRow){var f=d>l?d:l+l/4;m=Math.round(s+f);r.endIndex=m<h?m:h;g=r.endIndex-this.parent.options.pageSize;r.startIndex=g>0?g:0,r.endIndex=g<0?this.parent.options.pageSize:r.endIndex,r.currentPage=Math.ceil(r.startIndex/this.parent.options.pageSize)}v=this.parent.getSelectedRowIndexes(!0);this.nextRowToNavigate=v.length>0?v[0]+1:-1}}else{var g=Math.round(a)-Math.round(d);if(this.parent.options.enableVirtualMaskRow)if(l=Math.ceil(l)-1,Math.ceil(s)-this.preStartIndex>=l){r.startIndex=Math.ceil(s)>=0?Math.ceil(s):0;var m=r.startIndex+this.parent.options.pageSize;r.endIndex=m<h?m:h,r.startIndex=m>=h?r.endIndex-this.parent.options.pageSize<0?0:r.endIndex-this.parent.options.pageSize:r.startIndex,r.currentPage=Math.ceil(r.endIndex/this.parent.options.pageSize),this.isScrollFromFocus=!1,this.preStartIndex=this.startIndex=r.startIndex,this.preEndIndex=r.endIndex}else this.isScrollFromFocus=!1,this.preStartIndex=this.preStartIndex,this.preEndIndex=this.preEndIndex;if(!this.parent.options.enableVirtualMaskRow&&sf.base.isNullOrUndefined(r.startIndex)||a>r.startIndex+Math.round(this.parent.options.pageSize/2+d)&&r.endIndex!==h){r.startIndex=g>=0?Math.round(g):0,r.startIndex=r.startIndex>s?Math.floor(s):r.startIndex;var m=r.startIndex+this.parent.options.pageSize;r.startIndex=m<a?Math.ceil(a)-this.parent.options.pageSize:r.startIndex,r.endIndex=m<h?m:h,r.startIndex=m>=h?r.endIndex-this.parent.options.pageSize>0?r.endIndex-this.parent.options.pageSize:0:r.startIndex,r.currentPage=Math.ceil(r.endIndex/this.parent.options.pageSize)}var v=this.parent.getSelectedRowIndexes(!0);this.nextRowToNavigate=v.length>0?v[0]-1:-1}return this.parent.options.enableVirtualMaskRow||(this.isScrollFromFocus=!1,this.preStartIndex=this.startIndex=r.startIndex,this.preEndIndex=r.endIndex),r},e.prototype.onDataReady=function(){var e=this,t=this;if(!this.movableColumnIndex&&this.parent.options.frozenColumns&&(this.movableColumnIndex=parseInt(this.parent.scrollModule.getMovableContent().querySelector("td").getAttribute("data-colindex"))),this.observer.options.totalItems=this.parent.options.totalItemCount,this.bindScrollEvent(),this.count=this.parent.options.totalItemCount,this.maxPage=Math.ceil(this.count/this.parent.options.pageSize),["Refresh","Filtering","Searching","Grouping","UnGrouping","Reorder","refresh","filtering","searching","grouping","ungrouping","reorder","GroupExpandCollapse",null].some((function(t){return e.parent.options.requestType===t}))&&this.refreshOffsets(),this.setVirtualHeight(),this.parent.scrollModule.refresh(),this.resetScrollPosition(this.parent.options.requestType),this.setColVTableWidthAndTranslate(),(this.parent.options.enableVirtualMaskRow||this.parent.options.enableLazyLoading)&&"GroupExpandCollapse"!=this.parent.options.requestType){var n=this.parent.options.rowHeight,r=(this.currentInfo.endIndex-this.parent.options.pageSize)*(n||this.parent.getRowHeight());r="NaN"==r.toString()?0:r,r-=this.parent.options.pageSize*(n||this.parent.getRowHeight()),0==this.count&&(r=0),sf.base.isNullOrUndefined(this.currentInfo.startIndex)||0==this.currentInfo.startIndex||sf.base.isNullOrUndefined(this.currentInfo.endIndex)||this.currentInfo.endIndex===this.parent.options.totalItemCount||(r-=20),setTimeout((function(){t.translateMaskY=r,t.translateMaskX=sf.base.isNullOrUndefined(t.translateMaskX)?0:t.translateMaskX,0==t.parent.options.frozenColumns?t.virtualEle.wrapper.style.transform="translate("+t.translateMaskX+"px,"+r+"px)":t.virtualEle.wrapper.style.transform="translate(0px,"+r+"px)"}),0)}this.prevInfo=this.prevInfo?this.prevInfo:this.vHelper.getData()},e.prototype.setVirtualHeight=function(){var e=this.parent.options.enableColumnVirtualization?this.getColumnOffset(this.parent.options.columns.length+this.parent.options.groupCount-1)+"px":"100%",t=this.parent.options.enableColumnVirtualization||this.parent.options.enableLazyLoading?this.parent.options.enableVirtualMaskRow&&this.parent.options.enableColumnVirtualization?4:2:0,n=this.parent.options.groupCount?this.parent.options.enableLazyLoading?this.parent.options.totalItemCount*this.parent.getRowHeight():this.parent.options.visibleGroupedRowsCount*this.parent.getRowHeight():this.offsets[this.getTotalBlocks()-t];this.parent.options.allowEditing&&!this.parent.options.enableLazyLoading||this.virtualEle.setVirtualHeight(n,e),this.parent.options.enableColumnVirtualization&&this.header.virtualEle.setVirtualHeight(1,e)},e.prototype.getPageFromTop=function(e,t){var n=this,r=u(this.parent)?this.getGroupedTotalBlocks():this.getTotalBlocks(),o=0;this.offsets[r],this.prevHeight;return this.offsetKeys.some((function(i){var s=Number(i),l=e<=n.offsets[i]||s===r&&e>n.offsets[i];return l&&(t.block=s%2==0?1:0,o=Math.max(1,Math.min(n.vHelper.getPage(s),n.maxPage))),l})),o},e.prototype.getTranslateY=function(e,t,n,r){void 0===n&&((n={page:this.getPageFromTop(e+t,{})}).blockIndexes=this.vHelper.getBlockIndexes(n.page));var o=(n.blockIndexes[0]||1)-1,i=this.getOffset(o),s=this.getOffset(n.blockIndexes[n.blockIndexes.length-1]);r&&(n=this.prevInfo);var l=i>e?this.getOffset(o-1):s<e+t?this.getOffset(o+1):i,a=this.offsets[n.blockIndexes[n.blockIndexes.length-1]]-this.tmpOffsets[n.blockIndexes[0]];return l+a>this.offsets[u(this.parent)?this.getGroupedTotalBlocks():this.getTotalBlocks()]&&0==this.parent.options.groupCount&&(l-=l+a-this.offsets[this.getTotalBlocks()]),l},e.prototype.getOffset=function(e){return Math.min(0|this.offsets[e],0|this.offsets[this.maxBlock])},e.prototype.onEntered=function(){var e=this;return function(t,n,r,o,i,s,l){var a=e;sf.base.Browser.isIE&&!s&&l&&e.preventEvent;var d="X"===n.axis,h=e.prevInfo.offsets?e.prevInfo.offsets.top:null,p=e.content.getBoundingClientRect().height,u=e.getColumnOffset(d?e.vHelper.getColumnIndexes()[0]-1:e.prevInfo.columnIndexes[0]-1),c=e.getTranslateY(i.top,p,d&&h===i.top?e.prevInfo:void 0,!0);if(e.currentInfo&&e.currentInfo.startIndex&&d&&(c=e.currentInfo.startIndex*e.parent.getRowHeight()),e.movableTranslateX=e.vHelper.cOffsets[e.startColIndex-1]?e.vHelper.cOffsets[e.startColIndex-1]:u,e.movableTranslateY=e.parent.options.pageSize*e.parent.options.rowHeight,e.parent.options.enableVirtualMaskRow){if(e.offsets[e.maxBlock]>c)if("right"==o||"left"==o){var f=e.parent.getColumnIndexesInView(),g=e.getInfoFromView(o,n,i);e.header.virtualEle.movableAdjustTable(e.movableTranslateX,0),e.virtualEle.movableAdjustTable(e.movableTranslateX,e.movableTranslateY),e.parent.options.frozenColumns||JSON.stringify(f)===JSON.stringify(g.columnIndexes)||e.virtualEle.adjustTable(e.movableTranslateX,e.translateMaskY+e.movableTranslateY)}else{var m=e.parent.options.enableColumnVirtualization?e.parent.options.enableVirtualMaskRow?4:2:0;setTimeout((function(){a.virtualEle.adjustTable(u,Math.min(r?a.translateMaskY:c,a.offsets[a.maxBlock-m]))}),0)}}else e.parent.options.frozenColumns&&(e.virtualEle.movableAdjustTable(e.movableTranslateX,Math.min(c,e.offsets[e.maxBlock])),e.header.virtualEle.movableAdjustTable(e.movableTranslateX,Math.min(c,e.offsets[e.maxBlock]))),e.virtualEle.adjustTable(e.movableTranslateX,Math.min(c,e.offsets[e.maxBlock]));d&&!e.parent.options.frozenColumns&&e.setColVTableWidthAndTranslate({refresh:!0})}},e.prototype.getBlockSize=function(){return this.parent.options.pageSize>>1},e.prototype.getBlockHeight=function(){return this.getBlockSize()*this.parent.getRowHeight()},e.prototype.getGroupedTotalBlocks=function(){if(this.parent.options.enableLazyLoading&&this.parent.options.enableVirtualization)return this.getTotalBlocks();var e=this.getVisibleGroupedRowCount();return Math.floor(e/this.getBlockSize()<1?1:e/this.getBlockSize())},e.prototype.getVisibleGroupedRowCount=function(){return Number(this.virtualEle.placeholder.style.height.substring(0,this.virtualEle.placeholder.style.height.indexOf("p")))/this.parent.getRowHeight()},e.prototype.getTotalBlocks=function(){return Math.ceil(this.count/this.getBlockSize())},e.prototype.getColumnOffset=function(e){return 0|this.vHelper.cOffsets[e]},e.prototype.resetScrollPosition=function(e){var t=sf.base.isNullOrUndefined(e)?e:e.toLowerCase();if(this.actions.some((function(t){return t===e}))||this.parent.options.filterCount>0&&!sf.base.isNullOrUndefined(t)&&("save"==t||"delete"==t)||!sf.base.isNullOrUndefined(this.parent.options.initGroupingField)&&this.parent.options.initGroupingField.length>0&&!sf.base.isNullOrUndefined(t)&&("sorting"==t||"save"==t||"delete"==t)){var n=this.content;this.preventEvent=0!==n.scrollTop,n.scrollTop=0}},e.prototype.refreshOffsets=function(){this.parent;var e=0,t=this.getBlockSize(),n=u(this.parent)?this.getGroupedTotalBlocks():this.getTotalBlocks();this.prevHeight=this.offsets[n],this.maxBlock=n%2==0?n-2:n-1,this.offsets={};for(var r=[],o={},i=Array.apply(null,Array(n)).map((function(){return++e})),s=0;s<i.length;s++){var l=(o[i[s]]||[]).length,a=u(this.parent)?r.length%t:this.count%t,d=!u(this.parent)&&i[s]in o?l*this.parent.getRowHeight():a&&i[s]===n?a*this.parent.getRowHeight():this.getBlockHeight();this.offsets[i[s]]=(0|this.offsets[i[s]-1])+d,this.tmpOffsets[i[s]]=0|this.offsets[i[s]-1]}this.offsetKeys=Object.keys(this.offsets),this.parent.options.enableColumnVirtualization&&this.vHelper.refreshColOffsets()},e.prototype.updateTransform=function(e,t){var n=this;setTimeout((function(){n.translateMaskX=e,n.virtualEle.adjustTable(e,n.translateMaskY),n.virtualEle.movableAdjustTable(n.translateMaskX,0),n.header.virtualEle.movableAdjustTable(n.translateMaskX,0)}),500)},e.prototype.refreshColumnIndexes=function(){this.vHelper.refreshColOffsets();var e=this.vHelper.getColumnIndexes();this.parent.setColumnIndexesInView(e),this.parent.dotNetRef.invokeMethodAsync("SetColumnIndexes",e[0],e[e.length-1])},e.prototype.refreshVirtualElement=function(){this.vHelper.refreshColOffsets(),this.setVirtualHeight()},e}(),U=function(){function e(e){this.parent=e,this.vHelper=new W(this.parent),this.virtualEle=new F(this.parent),this.headerPanel=this.parent.element.querySelector(".e-gridheader")}return e.prototype.getPanel=function(){return this.headerPanel},e.prototype.getTable=function(){return this.headerPanel.querySelector(".e-table")},e.prototype.renderTable=function(){this.vHelper.refreshColOffsets(),this.parent.setColumnIndexesInView(this.vHelper.getColumnIndexes(this.getPanel().querySelector(".e-headercontent"))),this.virtualEle.table=this.getTable(),this.virtualEle.content=this.getPanel().querySelector(".e-headercontent"),this.virtualEle.content.style.position="relative",this.virtualEle.renderWrapper(),this.virtualEle.renderPlaceHolder()},e}(),F=function(){function e(e){this.parent=e}return e.prototype.renderWrapper=function(e){this.wrapper=this.content.querySelector(".e-virtualtable"),this.wrapper.setAttribute("styles","min-height:"+sf.base.formatUnit(e)),this.content.querySelector(".e-movableheader")&&(this.movableHeaderWrapper=this.content.querySelector(".e-movableheader").querySelector(".e-virtualtable")),null!=this.content.querySelector(".e-movablecontent")&&(this.movableContentWrapper=this.content.querySelector(".e-movablecontent").querySelector(".e-virtualtable"))},e.prototype.renderPlaceHolder=function(){this.placeholder=this.content.lastElementChild},e.prototype.movableAdjustTable=function(e,t){this.filterTranslateX=e,this.movableHeaderWrapper&&(this.movableHeaderWrapper.style.transform="translate("+e+"px, 0px)"),this.parent.options.enableVirtualMaskRow&&this.movableContentWrapper?this.movableContentWrapper.style.transform="translate("+e+"px, "+t+"px)":this.movableContentWrapper&&(this.movableContentWrapper.style.transform="translate("+e+"px, 0px)")},e.prototype.adjustTable=function(e,t){this.filterTranslateX=e,0!=this.parent.options.frozenColumns?this.wrapper.style.transform="translate(0px, "+t+"px)":this.wrapper.style.transform="translate("+e+"px, "+t+"px)"},e.prototype.setWrapperWidth=function(e,t){this.wrapper.style.width=e?e+"px":t?"100%":""},e.prototype.setVirtualHeight=function(e,t){this.placeholder.style.height=e+"px",this.parent.options.frozenColumns?this.placeholder.style.width="100%":this.placeholder.style.width=t},e}(),W=function(){function e(e){this.cOffsets={},this.data={},this.groups={},this.parent=e}return e.prototype.getBlockIndexes=function(e){return[e+(e-1),2*e]},e.prototype.getPage=function(e){return e%2==0?e/2:(e+1)/2},e.prototype.getData=function(){return{page:this.parent.options.currentPage,blockIndexes:this.getBlockIndexes(this.parent.options.currentPage),direction:"down",columnIndexes:this.parent.getColumnIndexesInView()}},e.prototype.getColumnIndexes=function(e){var t=this;void 0===e&&(e=this.parent.getHeaderContent()),sf.base.isNullOrUndefined(e.querySelector(".e-movableheader"))||(e=e.querySelector(".e-movableheader"));var n=[],r=0|e.scrollLeft,o=Object.keys(this.cOffsets),i=this.parent.options.needClientAction?this.parent.options.frozenColumns&&this.parent.options.enableColumnVirtualization?this.parent.getHeaderContent().offsetWidth:e.getBoundingClientRect().width:Number(this.parent.options.width);r=Math.min(this.cOffsets[o.length-1]-i,r);var s=sf.base.Browser.isDevice?2*i:i/2,l=r+i+(0===r?s:0);return o.some((function(e,o,i){var a=Number(e),d=t.cOffsets[e];return r-s<=d&&l+s>=d&&n.push(a),l+s<d})),n.length||this.parent.options.frozenColumns||(n=[],l+=this.cOffsets[this.getColumnIndexes()[0]],o.some((function(e,o,i){var a=Number(e),d=t.cOffsets[e];return r-s<=d&&l+s>=d&&n.push(a),l+s<d}))),1!=n.length||this.parent.options.frozenColumns?(this.parent.virtualContentModule.startColIndex=n[0],this.parent.virtualContentModule.endColIndex=n[n.length-1]):(this.parent.virtualContentModule.startColIndex=n[0],this.parent.virtualContentModule.endColIndex=n[0]+1,n.push(n[0]+1)),n},e.prototype.refreshColOffsets=function(){var e=0;this.cOffsets={};for(var t=this.parent.options.groupCount,n=this.parent.options.columns,r=n.length,o=Array.apply(null,Array(r)).map((function(){return e++})),i=0;i<o.length;i++)o[i]=o[i]+t,this.cOffsets[o[i]]=(0|this.cOffsets[o[i]-1])+(n[i].visible?parseInt(n[i].width,10):0)},e}(),P="th.e-headercell",_=".e-rowcell",V=".e-filterbarcell",X="e-frozen-helper",G="e-frozen-cursor",K="data-colindex",Y=function(){function e(e){this.currentBorderIndex=-1,this.originalBorderIndex=-1,this.visibleLtoROrderedColumns=[],this.visibleRtoLOrderedColumns=[],this.widthCollection=[],this.visibleFrozenColumns=[],this.visibleFrozenLeftColumns=[],this.domRtoLOrderedColumns=[],this.domLtoROrderedColumns=[],this.parent=e,this.parent.options.allowFreezeLineMoving&&this.wireEvents()}return e.prototype.wireEvents=function(){sf.base.EventHandler.add(this.parent.getContent(),sf.base.Browser.touchStartEvent,this.dragStart,this),sf.base.EventHandler.add(this.parent.getHeaderContent(),sf.base.Browser.touchStartEvent,this.dragStart,this)},e.prototype.unwireEvents=function(){sf.base.EventHandler.remove(this.parent.getContent(),sf.base.Browser.touchStartEvent,this.dragStart),sf.base.EventHandler.remove(this.parent.getHeaderContent(),sf.base.Browser.touchStartEvent,this.dragStart)},e.prototype.dragStart=function(e){if(e.target.classList.contains(G)){this.currentCursorElement=e.target,this.parent.getContent().classList.add("e-freezeline-moving"),this.isLeftCursorDragging=!!(this.currentCursorElement.classList.contains("e-frozen-left-cursor")&&!this.currentCursorElement.classList.contains("e-frozen-default-cursor")||this.currentCursorElement.classList.contains("e-frozen-default-cursor")&&this.currentCursorElement.classList.contains("e-frozen-right-cursor")),this.appendHelper();var t,n=sf.base.closest(this.currentCursorElement,P);if(sf.base.isNullOrUndefined(n))if(n=sf.base.closest(this.currentCursorElement,_),sf.base.isNullOrUndefined(n))t=sf.base.closest(this.currentCursorElement,V).getAttribute("e-mappinguid");else{var r=n.getAttribute(K);t=this.parent.getHeaderContent().querySelector("["+K+'="'+r+'"]').firstElementChild.getAttribute("e-mappinguid")}else t=n.firstElementChild.getAttribute("e-mappinguid");var o=this.parent.getColumns().filter((function(e){return e.uid==t}))[0].index;this.setColumnsForBorderUpdate(),sf.base.EventHandler.add(document,sf.base.Browser.touchEndEvent,this.dragEnd,this),this.parent.dotNetRef.invokeMethodAsync("InvokeFreezeLineMoving",{fromIndex:o})}},e.prototype.appendHelper=function(){this.helperElement=sf.base.createElement("div",{className:X}),this.setHelperHeight(),this.parent.element.appendChild(this.helperElement)},e.prototype.setHelperHeight=function(){var e=this.parent.getContent().offsetHeight,t=sf.base.closest(this.currentCursorElement,P);if(sf.base.isNullOrUndefined(t)){var n=sf.base.closest(this.currentCursorElement,_);if(sf.base.isNullOrUndefined(n)){var r=sf.base.closest(this.currentCursorElement,V).getAttribute("e-mappinguid");t=this.parent.getHeaderContent().querySelectorAll("[e-mappinguid="+r+"]")[0].parentElement}else{var o=n.getAttribute(K);t=this.parent.getHeaderContent().querySelector("["+K+'="'+o+'"]')}}var i=[].slice.call(this.parent.getHeaderContent().querySelectorAll("tr"));this.parent.options.frozenColumns&&t.parentElement.children.length&&!t.parentElement.children[0].classList.contains("e-stackedheadercell")&&(i=s(t,"e-movableheader")?[].slice.call(this.parent.getHeaderContent().querySelector(".e-movableheader").querySelectorAll("tr")):s(t,"e-frozen-right-header")?[].slice.call(this.parent.getHeaderContent().querySelector(".e-frozen-right-header").querySelectorAll("tr")):[].slice.call(this.parent.getHeaderContent().querySelector(".e-frozen-left-header").querySelectorAll("tr")));for(var l=i.indexOf(t.parentElement);l<i.length;l++)e+=i[l].offsetHeight;var a=this.calcPos(t),d=this.calcPos(this.parent.getHeaderContent()).top;this.currentCursorElement.classList.contains("e-frozen-default-cursor")?a.left=this.isLeftCursorDragging?a.left:a.left+t.offsetWidth-2:s(t,"e-frozen-right-content")||s(t,"e-frozen-right-header")?a.left+=this.parent.options.enableRtl?t.offsetWidth-2:-1:a.left+=this.parent.options.enableRtl?-1:t.offsetWidth-2,this.helperElement.style.cssText="height: "+e+"px; top: "+d+"px; left:"+Math.floor(a.left)+"px;"},e.prototype.calcPos=function(e){for(var t={top:0,left:0,right:0},n=e.getBoundingClientRect(),r=e.ownerDocument,o=s(e,"e-grid")||r.documentElement;o&&(o===r.body||o===r.documentElement)&&"static"===o.style.position;)o=o.parentNode;return o&&o!==e&&1===o.nodeType&&(t=o.getBoundingClientRect()),{top:n.top-t.top,left:n.left-t.left,right:n.right-t.right}},e.prototype.preventFreezeLineMoving=function(e){e?this.cancelFreezeLineMoving():sf.base.EventHandler.add(this.parent.element,sf.base.Browser.touchMoveEvent,this.freezeLineDragging,this)},e.prototype.cancelFreezeLineMoving=function(){this.unwireEvents(),sf.base.detach(this.helperElement),this.setDefaultValue()},e.prototype.setDefaultValue=function(){this.parent.getContent().classList.remove("e-freezeline-moving"),this.addOrRemoveClasses("remove"),this.helperElement=null,this.currentBorderIndex=-1,this.currentCursorElement=null,this.borderCells=null,this.widthCollection=[]},e.prototype.freezeLineDragging=function(e){this.helperElement&&(this.scrollHorizontally(),this.updateHelper(e),this.updateBorder())},e.prototype.setColumnsForBorderUpdate=function(){var e=this,t=this.parent.getColumns(),n=t.filter((function(e){return"Left"==e.freeze&&e.isFrozen}));this.visibleFrozenLeftColumns=n.filter((function(e){return e.visible}));var r=t.filter((function(e){return"Right"==e.freeze&&e.isFrozen})),o=r.filter((function(e){return e.visible}));if(this.parent.options.actualFrozenColumns>0){var i=t.slice(0,this.parent.options.actualFrozenColumns);this.visibleFrozenColumns=i.filter((function(e){return e.visible}));var s=(l=t.filter((function(t){return t.index>e.parent.options.actualFrozenColumns-1&&!t.isFrozen}))).filter((function(e){return e.visible}));this.isLeftCursorDragging?(this.visibleLtoROrderedColumns=[].concat(this.visibleFrozenColumns,this.visibleFrozenLeftColumns,s,o),this.domLtoROrderedColumns=[].concat(i,n,l,r),this.widthCollection=this.pushColumnWidth(this.visibleLtoROrderedColumns,this.widthCollection)):(this.visibleRtoLOrderedColumns=[].concat(o.reverse(),s.reverse(),this.visibleFrozenLeftColumns.reverse(),this.visibleFrozenColumns.reverse()),this.domRtoLOrderedColumns=[].concat(r.reverse(),l.reverse(),n.reverse(),i.reverse()),this.widthCollection=this.pushColumnWidth(this.visibleRtoLOrderedColumns,this.widthCollection))}else{var l;s=(l=t.filter((function(e){return!e.isFrozen}))).filter((function(e){return e.visible}));this.isLeftCursorDragging?(this.domLtoROrderedColumns=[].concat(n,l,r),this.visibleLtoROrderedColumns=[].concat(this.visibleFrozenLeftColumns,s,o),this.widthCollection=this.pushColumnWidth(this.visibleLtoROrderedColumns,this.widthCollection)):(this.domRtoLOrderedColumns=[].concat(r.reverse(),l.reverse(),n.reverse()),this.visibleRtoLOrderedColumns=[].concat(o.reverse(),s.reverse(),this.visibleFrozenLeftColumns.reverse()),this.widthCollection=this.pushColumnWidth(this.visibleRtoLOrderedColumns,this.widthCollection))}},e.prototype.updateBorder=function(){var e;if(-1==this.currentBorderIndex)if(sf.base.isNullOrUndefined(s(this.currentCursorElement,"e-rowcell")))if(sf.base.isNullOrUndefined(s(this.currentCursorElement,"e-filterbarcell")))this.currentBorderIndex=Number(s(this.currentCursorElement,"e-headercell").getAttribute(K));else{var t=s(this.currentCursorElement,"e-filterbarcell").getAttribute("e-mappinguid"),n=this.parent.getHeaderContent().querySelectorAll("[e-mappinguid="+t+"]")[0].parentElement;this.currentBorderIndex=Number(n.getAttribute(K))}else this.currentBorderIndex=Number(s(this.currentCursorElement,"e-rowcell").getAttribute(K));var r=this.isLeftCursorDragging?this.convertWidthToNumber(this.helperElement.style.left):-this.calcPos(this.helperElement).right;if(r<this.widthCollection[0]/2)e=0,this.frozenDefaultBorderClass=this.isLeftCursorDragging?"e-frozen-left-border":"e-frozen-right-border";else if(r>this.widthCollection[0]/2&&r<this.widthCollection[0])e=0,this.frozenDefaultBorderClass=this.isLeftCursorDragging?"e-frozen-right-border":"e-frozen-left-border";else{this.frozenDefaultBorderClass="default";for(var o=0;o<this.widthCollection.length&&o+1!=this.widthCollection.length;o++)if(r>this.widthCollection[o]&&r<this.widthCollection[o+1]){var i=(this.widthCollection[o+1]-this.widthCollection[o])/2;e=r<this.widthCollection[o]+i?o:o+1;break}}if(!sf.base.isNullOrUndefined(e)&&this.currentBorderIndex!=e||"default"!=this.frozenDefaultBorderClass&&e==this.currentBorderIndex){this.addOrRemoveClasses("remove"),this.currentBorderIndex=e;var l=this.isLeftCursorDragging?this.visibleLtoROrderedColumns[this.currentBorderIndex].uid:this.visibleRtoLOrderedColumns[this.currentBorderIndex].uid;if(sf.base.isNullOrUndefined(this.parent.getHeaderContent().querySelectorAll("[e-mappinguid="+l+"]")[0])||(this.borderHeaderCell=this.parent.getHeaderContent().querySelectorAll("[e-mappinguid="+l+"]")[0].parentElement),this.parent.getHeaderContent().querySelector(".e-filterbar")){var a=this.parent.getHeaderContent().querySelectorAll(".e-filterbarcell");for(o=0;o<a.length;o++)a[o].getAttribute("e-mappinguid")==l&&(this.filterBarCell=a[o])}this.originalBorderIndex=Number(this.borderHeaderCell.getAttribute(K)),this.borderCells=this.parent.getContent().querySelectorAll("["+K+'="'+this.originalBorderIndex+'"]'),this.addOrRemoveClasses("add")}},e.prototype.addOrRemoveClasses=function(e){var t=this.isLeftCursorDragging?"e-frozen-right-border":"e-frozen-left-border";sf.base.isNullOrUndefined(this.borderCells)||("add"==e?(t="default"==this.frozenDefaultBorderClass?t:this.frozenDefaultBorderClass,sf.base.addClass(this.borderCells,t),this.borderHeaderCell.classList.add(t),sf.base.isNullOrUndefined(this.filterBarCell)||this.filterBarCell.classList.add(t)):"default"!=this.frozenDefaultBorderClass?(sf.base.removeClass(this.borderCells,["e-frozen-left-border","e-frozen-right-border"]),this.borderHeaderCell.classList.remove("e-frozen-right-border"),this.borderHeaderCell.classList.remove("e-frozen-left-border"),sf.base.isNullOrUndefined(this.filterBarCell)||(this.filterBarCell.classList.remove("e-frozen-right-border"),this.filterBarCell.classList.remove("e-frozen-left-border"))):(sf.base.removeClass(this.borderCells,t),this.borderHeaderCell.classList.remove(t),sf.base.isNullOrUndefined(this.filterBarCell)||this.filterBarCell.classList.remove(t)))},e.prototype.convertWidthToNumber=function(e){return Number(e.toString().replace("px",""))},e.prototype.pushColumnWidth=function(e,t){for(var n=0,r=0;r<e.length;r++){var o=this.convertWidthToNumber(e[r].width);t.push(n+o),n=t[t.length-1]}return t},e.prototype.scrollHorizontally=function(){if(0!=this.parent.options.frozenColumns){var e=this.parent.getContent().querySelector(".e-movablecontent");if(e.scrollWidth>e.clientWidth){var t=this.parent.element.querySelector(".e-movablescrollbar"),n=this.parent.element.querySelector(".e-movablechild");e.scrollLeft=this.isLeftCursorDragging?0:n.scrollWidth-t.offsetWidth}}},e.prototype.updateHelper=function(e){var t=this.getCurrentScreenX(e),n=this.calcPos(this.currentCursorElement).left,r=t-(this.parent.element.getBoundingClientRect().left+n),i=this.parent.getContent().offsetWidth,s=n+r,l=this.parent.getContent().querySelector(".e-movablecontent");if(l||(l=this.parent.getContent()),this.isLeftCursorDragging){var a=this.calcPos(l).right;s=s>i+a?i+a-1:s}else{var d=this.calcPos(l).left;s=(s=s<d?d+1:s)>i-o()?i-o()-1:s}this.helperElement.style.left=s+"px"},e.prototype.getCurrentScreenX=function(e){return e.touches&&e.touches.length?e.touches[0].screenX:e.screenX},e.prototype.dragEnd=function(e){if(this.helperElement){sf.base.EventHandler.remove(this.parent.element,sf.base.Browser.touchMoveEvent,this.freezeLineDragging),sf.base.EventHandler.remove(document,sf.base.Browser.touchEndEvent,this.dragEnd);var t=this.getServerParams(),n=this.parent.options.actualFrozenColumns;if(this.parent.options.actualFrozenColumns>0&&!t.isFrozen)for(var r=0;r<t.frozenColumnsUidCollection.length;r++)for(var o=0;o<this.visibleFrozenColumns.length;o++)this.visibleFrozenColumns[o].uid==t.frozenColumnsUidCollection[r]&&n--;var i=!!(this.currentCursorElement.classList.contains("e-frozen-default-cursor")||this.isLeftCursorDragging&&"e-frozen-left-border"==this.frozenDefaultBorderClass||!this.isLeftCursorDragging&&"e-frozen-right-border"==this.frozenDefaultBorderClass);sf.base.detach(this.helperElement),this.setDefaultValue(),this.checkForServerCall(t.isFrozen,t.frozenColumnsUidCollection)&&this.parent.dotNetRef.invokeMethodAsync("InvokeFreezeLineMoved",{frozenColumnsUidCollection:t.frozenColumnsUidCollection,freezeDirection:t.freezeDirection,freezeLineMovingDirection:t.freezeLineMovingDirection,isFrozen:t.isFrozen,fromIndex:t.startIndex,toIndex:t.endIndex,frozenColumnsCount:n,hasGridStructureChanges:i})}},e.prototype.getServerParams=function(){var e,t,n,r,o,i=[];if(!sf.base.isNullOrUndefined(this.borderCells)){var l=this.convertWidthToNumber(this.helperElement.style.left),a=this.calcPos(this.currentCursorElement).left,d=sf.base.closest(this.currentCursorElement,_);if(sf.base.isNullOrUndefined(d)&&(d=sf.base.closest(this.currentCursorElement,P),sf.base.isNullOrUndefined(d))){var h=s(this.currentCursorElement,"e-filterbarcell").getAttribute("e-mappinguid");d=this.parent.getHeaderContent().querySelectorAll("[e-mappinguid="+h+"]")[0].parentElement}if(r=Number(d.getAttribute(K)),o=Number(this.borderCells[0].getAttribute(K)),this.isLeftCursorDragging)if(e="Left",l>a){t=!0,n="Right";for(var p=0==this.parent.options.frozenColumns||0==this.parent.options.actualFrozenColumns&&0==this.visibleFrozenLeftColumns.length?0:r+1,u=this.currentCursorElement.classList.contains("e-frozen-default-cursor")&&"e-frozen-left-border"==this.frozenDefaultBorderClass?-1:o,c=p;c<=u;c++)this.domLtoROrderedColumns[c].visible&&i.push(this.domLtoROrderedColumns[c].uid)}else if(t=!1,n="Left","e-frozen-left-border"!=this.frozenDefaultBorderClass)for(c=r;c>o;c--)this.domLtoROrderedColumns[c].visible&&i.push(this.domLtoROrderedColumns[c].uid);else for(c=r;-1!=c;c--)this.domLtoROrderedColumns[c].visible&&i.push(this.domLtoROrderedColumns[c].uid);else{var f=this.domRtoLOrderedColumns.reverse();if(l<a){if(t=!0,e="Right",n="Left","e-frozen-right-border"!=this.frozenDefaultBorderClass){r=this.currentCursorElement.classList.contains("e-frozen-default-cursor")?r+1:r;for(c=o;c<r;c++)f[c].visible&&i.push(f[c].uid)}}else if(t=!1,e="Left",n="Right","e-frozen-right-border"==this.frozenDefaultBorderClass)for(c=r;c<=o;c++)f[c].visible&&i.push(f[c].uid);else for(c=r;c<o;c++)f[c].visible&&i.push(f[c].uid)}}return{startIndex:r,endIndex:o,freezeDirection:e,isFrozen:t,freezeLineMovingDirection:n,frozenColumnsUidCollection:i}},e.prototype.checkForServerCall=function(e,t){var n=!0,r=this.parent.columnModel.slice(0,this.parent.options.actualFrozenColumns);if(r=(r=r.filter((function(e){return e.visible}))).concat(this.parent.columnModel.filter((function(e){return e.isFrozen&&e.visible}))),e)for(var o=0;o<this.parent.columnModel.length;o++)for(var i=0;i<t.length;i++)t[i]==this.parent.columnModel[o].uid&&r.push(this.parent.columnModel[o]);for(var s=0,l=0;l<r.length;l++)s+=+r[l].width;return this.parent.element.offsetWidth<=s&&(n=!1),n},e}(),j=function(){function n(t,n,r,o){var i=this;if(this.columnModel=[],this.frozenColumnModel=[],this.frozenReorderColumnModel=[],window.sfBlazor=window.sfBlazor,this.inViewIndexes=[],this.isRendered=!1,this.isGridFirstRender=!1,this.nColumnOffsets=[],this.tapEvent=function(t){if(this.resizeModule.getUserAgent())if(e.timer){clearTimeout(e.timer),e.timer=null;var n=document.createEvent("MouseEvents");n.initEvent("dblclick",!0,!0),t.target.dispatchEvent(n)}else e.timer=setTimeout((function(){e.timer=null}),300)},this.element=n,!sf.base.isNullOrUndefined(this.element)){if(this.dotNetRef=o,this.dataId=t,this.options=r,this.header=this.element.querySelector(".e-headercontent"),this.content=this.element.querySelector(".e-gridcontent .e-content"),this.footer=this.element.querySelector(".e-summarycontent"),this.element.offsetWidth<=0)var s=setInterval((function(){i.element.offsetWidth>0&&(i.initModules(),clearInterval(s))}),500);else this.initModules();this.addScrollEvents(!0),sf.base.isNullOrUndefined(this.element)||(this.element.blazor__instance=this,window.sfBlazor.setCompInstance(this))}}return n.prototype.initModules=function(){this.scrollModule=new g(this),this.freezeModule=new m(this),this.headerDragDrop=new y(this),this.contentDragDrop=new b(this),this.reorderModule=new C(this),this.groupModule=new I(this),this.resizeModule=new A(this),this.frozenDragDropModule=new Y(this),this.editModule=new M(this),this.columnChooserModule=new H(this),this.clipboardModule=new B(this),this.columnMenuModule=new q(this),this.filterModule=new T(this),this.virtualContentModule=new D(this),this.virtualHeaderModule=new U(this),this.toolTipModule=new N(this),this.rowDragAndDropModule=new L(this),this.selectionModule=new k(this),this.widthService=new v(this),this.isRendered=this.options.isPrerendered,this.keyModule=new sf.base.KeyboardEvents(this.element,{keyAction:this.keyActionHandler.bind(this),keyConfigs:J,eventName:"keydown"}),this.options.enableColumnVirtualization&&this.virtualHeaderModule.renderTable(),this.options.enableVirtualization&&this.virtualContentModule.renderTable(),this.options.allowResizing&&this.resizeModule.render(),this.options.isFreezeLineMoved&&this.freezeLineMovedAction(),this.options.needClientAction?this.clientActions():this.contentReady(),this.lastRowBorderCheck(),this.wireEvents(),this.options.enableColumnVirtualization||this.updateColumnWidth(this.options.columns)},n.prototype.getHeaderContent=function(){return this.header},n.prototype.getHeaderTable=function(){return this.header.querySelector(".e-table")},n.prototype.getContent=function(){return this.content},n.prototype.getContentTable=function(){return this.content.querySelector(".e-table")},n.prototype.getFooterContent=function(){return this.footer},n.prototype.getColumns=function(e){return this.columnModel=[],this.updateColumnModel(this.options.columns),this.columnModel},n.prototype.freezeLineMovedAction=function(){this.options.isFreezeLineMoved=!1;var e=this.getContent().querySelector(".e-movablecontent");(sf.base.isNullOrUndefined(e)&&(e=this.getContent()),""!=e.querySelector("table").style.width)&&(0==this.options.frozenLeftColumnsCount&&0==this.options.frozenRightColumnsCount||this.updateColumnLevelFrozen(),new v(this).setWidthToTable());e.scrollLeft=0,this.element.querySelector(".e-movablescrollbar").scrollLeft=0},n.prototype.addScrollEvents=function(e){if(this.options.showColumnMenu){for(var t=sf.popups.getScrollableParent(this.element),n=0;n<t.length;n++)t[n]instanceof HTMLElement&&(e?sf.base.EventHandler.add(t[n],"scroll",this.scrollHandler,this):sf.base.EventHandler.remove(t[n],"scroll",this.scrollHandler));e?sf.base.EventHandler.add(this.content,"scroll",this.scrollHandler,this):sf.base.EventHandler.remove(this.content,"scroll",this.scrollHandler)}},n.prototype.scrollHandler=function(e){if(!sf.base.isNullOrUndefined(this.element)&&!sf.base.isNullOrUndefined(this.element.blazor__instance))return this.columnMenuModule.setPosition()},n.prototype.updateColumnLevelFrozen=function(){var e=this.columnModel,t=[],n=[],r=[];if(0!=this.options.frozenRightCount||0!=this.options.frozenLeftCount||0!=this.options.frozenColumns){for(var o=0,i=e.length;o<i;o++){var s=e[o];"Left"===s.freeze&&s.isFrozen?t.push(s):"Right"===s.freeze&&s.isFrozen?n.push(s):r.push(s)}this.frozenColumnModel=t.concat(r).concat(n),this.frozenReorderColumnModel=t.concat(n).concat(r)}},n.prototype.updateColumnModel=function(e){if(!sf.base.isNullOrUndefined(e))for(var t=0,n=e.length;t<n;t++)null!=e[t].columns&&e[t].columns.length>0?this.updateColumnModel(e[t].columns):this.columnModel.push(e[t])},n.prototype.updateColumnWidth=function(e){this.nColumnOffsets=[];var t=0;if(!this.options.enableColumnVirtualization)for(var n=0,r=e.length;n<r;n++)t=parseInt(t.toString())+(e[n].visible?parseInt(e[n].width):0),this.nColumnOffsets.push(t)},n.prototype.getColumnByIndex=function(e){var t;return this.getColumns().some((function(n,r){return t=n,r===e})),t},n.prototype.getDataRows=function(){if(sf.base.isNullOrUndefined(this.getContentTable().querySelector("tbody")))return[];var e=[].slice.call(this.getContentTable().querySelector("tbody").children);if(this.options.frozenRows){var t=[].slice.call(this.getHeaderTable().querySelector("tbody").children);e=this.addMovableRows(t,e)}return this.generateDataRows(e)},n.prototype.addMovableRows=function(e,t){for(var n=0,r=t.length;n<r;n++)e.push(t[n]);return e},n.prototype.generateDataRows=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n].classList.contains("e-row")&&!e[n].classList.contains("e-hiddenrow")&&t.push(e[n]);return t},n.prototype.getMovableDataRows=function(){var e=[].slice.call(this.getContent().querySelector(".e-movablecontent").querySelector("tbody").children);if(this.options.frozenRows){var t=[].slice.call(this.getHeaderContent().querySelector(".e-movableheader").querySelector("tbody").children);e=this.addMovableRows(t,e)}return this.generateDataRows(e)},n.prototype.getFrozenDataRows=function(){var e=[].slice.call(this.getContent().querySelector(".e-frozencontent").querySelector("tbody").children);if(this.options.frozenRows){var t=[].slice.call(this.getHeaderContent().querySelector(".e-frozenheader").querySelector("tbody").children);e=this.addMovableRows(t,e)}return this.generateDataRows(e)},n.prototype.getRowByIndex=function(e){return this.getDataRows()[e]},n.prototype.getCellFromIndex=function(e,t){var n=this.options.frozenColumns;return n&&t>=n?this.getMovableDataRows()[e]&&this.getMovableDataRows()[e].querySelectorAll(".e-rowcell")[t-n]:this.getDataRows()[e]&&this.getDataRows()[e].querySelectorAll(".e-rowcell")[t]},n.prototype.getColumnHeaderByIndex=function(e){return this.getHeaderTable().querySelectorAll(".e-headercell")[e]},n.prototype.getRows=function(){return this.options.frozenColumns?this.getFrozenDataRows():[].slice.call(this.getContentTable().querySelectorAll("tr.e-row[data-uid]"))},n.prototype.getSelectedRows=function(){return this.getRows().filter((function(e){return"true"===e.getAttribute("aria-selected")}))},n.prototype.getSelectedRowIndexes=function(e){for(var t=[],n=this.getRows(),r=0;r<n.length;r++)if(n[r].hasAttribute("aria-selected")&&"true"===n[r].getAttribute("aria-selected")){var o=this.options.allowDragSelection&&this.options.enableVirtualization||e?parseInt(n[r].getAttribute("data-rowindex"),10):r;t.push(o)}return t},n.prototype.getVisibleColumns=function(){for(var e=[],t=0,n=this.columnModel;t<n.length;t++){var r=n[t];r.visible&&e.push(r)}return e},n.prototype.getColumnByField=function(e){return h(this.getColumns(),(function(t,n){if(t.field===e)return t}))[0]},n.prototype.getColumnIndexByField=function(e){for(var t=this.getColumns(),n=0;n<t.length;n++)if(t[n].field===e)return n;return-1},n.prototype.getColumnByUid=function(e){return h(this.getColumns().concat(this.getStackedColumns(this.options.columns)),(function(t,n){if(t.uid===e)return t}))[0]},n.prototype.getStackedColumns=function(e,t){void 0===t&&(t=[]);for(var n=0,r=e;n<r.length;n++){var o=r[n];o.columns&&(t.push(o),this.getStackedColumns(o.columns,t))}return t},n.prototype.getColumnIndexByUid=function(e){var t=h(this.getColumns(),(function(t,n){if(t.uid===e)return n}))[0];return sf.base.isNullOrUndefined(t)?-1:t},n.prototype.getColumnHeaderByUid=function(e){return this.getHeaderContent().querySelector("[e-mappinguid="+e+"]").parentElement},n.prototype.getUidByColumnField=function(e){return h(this.getColumns(),(function(t,n){if(t.field===e)return t.uid}))[0]},n.prototype.getStackedHeaderColumnByHeaderText=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.field===e||r.headerText===e){this.stackedColumn=r;break}r.columns&&this.getStackedHeaderColumnByHeaderText(e,r.columns)}return this.stackedColumn},n.prototype.getNormalizedColumnIndex=function(e){return this.getColumnIndexByUid(e)+this.getIndentCount()},n.prototype.getIndentCount=function(){var e=0;return this.options.allowGrouping&&(e+=this.options.groupCount),this.options.hasDetailTemplate&&e++,this.options.allowRowDragAndDrop&&!this.options.hasDropTarget&&e++,e},n.prototype.isPercentageWidth=function(){for(var e=this.getVisibleColumns(),t=0,n=0,r=0;r<e.length;r++)sf.base.isNullOrUndefined(e[r].width)?n++:-1!==e[r].width.toString().indexOf("%")&&t++;return t===e.length&&!n},n.prototype.recalcIndentWidth=function(){if(this.isRendered&&this.getHeaderTable().querySelector(".e-emptycell")&&(this.options.groupCount||this.options.hasDetailTemplate||!this.options.allowRowDragAndDrop||!this.options.hasDropTarget)&&this.getContentTable()&&!this.getHeaderTable().querySelector(".e-emptycell").getAttribute("indentRefreshed")){var e=this.getHeaderTable().querySelector(".e-emptycell").parentElement.offsetWidth,t=e/30;if(t>=1&&(e=30/t),this.getHeaderTable().querySelector(".e-emptycell").setAttribute("indentRefreshed","true"),this.isPercentageWidth()){var n=e/30;n>=1&&(e=(e=30/n)>5?3.5:e),this.dotNetRef.invokeMethodAsync("SetIndentWidth",e+"%")}else this.dotNetRef.invokeMethodAsync("SetIndentWidth",e+"px")}},n.prototype.resetColumnWidth=function(){if(("auto"===this.options.width||"string"==typeof this.options.width)&&this.getColumns().filter((function(e){return(!e.width||"auto"===e.width)&&e.minWidth})).length>0){var e=this.widthService.getTableWidth(this.getColumns());this.widthService.setMinwidthBycalculation(e)}},n.prototype.contentReady=function(e){(void 0===e&&(e=null),this.getColumns().some((function(e){return e.autoFit}))&&this.resizeModule.autoFit(),this.options.allowResizing&&this.isGridFirstRender&&this.options.isColumnResized)&&(new v(this).setWidthToTable(),this.isGridFirstRender=!1);!this.isGridFirstRender&&this.options.frozenColumns&&this.options.enablePersistence&&new v(this).setWidthToTable();this.options.isColumnReordered&&!sf.base.isNullOrUndefined(this.getContent().querySelector(".e-movablecontent"))&&""!=this.getContent().querySelector(".e-movablecontent").querySelector("table").style.width&&new v(this).setWidthToTable();if(this.options.frozenColumns){if(this.freezeModule.refreshRowHeight(),this.freezeModule.setFrozenHeight(),0!=this.options.aggregatesCount){for(var t=this.element.querySelectorAll(".e-summaryrow"),n=0,r=0;r<t.length;r++)if(t[r].querySelectorAll(".e-templatecell").length>0){n=t[r].offsetHeight;break}for(r=0;r<t.length;r++)t[r].style.height=n+"px"}this.freezeModule.refreshStackedHdrHgt()}this.options.enableVirtualization&&this.virtualContentModule.onDataReady(),this.recalcIndentWidth(),this.resetColumnWidth(),this.lastRowBorderCheck(),"Paging"===e&&(s(document.activeElement,"e-grid")||this.element.focus());var o=this.element.querySelector(".e-groupdroparea");!sf.base.isNullOrUndefined(o)&&this.options.enableStickyHeader&&o.classList.contains("e-sticky")&&""===o.style.top&&o.classList.remove("e-sticky")},n.prototype.lastRowBorderCheck=function(){this.options.enableVirtualization||(this.getContent().querySelector(".e-table").scrollHeight<this.getContent().clientHeight?this.dotNetRef.invokeMethodAsync("LastRowBorder",!0):this.dotNetRef.invokeMethodAsync("LastRowBorder",!1))},n.prototype.wireEvents=function(){sf.base.EventHandler.add(this.element,"mousedown",this.mouseDownHandler,this),sf.base.EventHandler.add(this.element,"focus",this.gridFocus,this),sf.base.EventHandler.add(document,"click",this.documentClickHandler,this),sf.base.EventHandler.add(this.element,"keydown",this.gridKeyDownHandler,this),sf.base.EventHandler.add(this.element,"keydown",this.keyDownHandler,this),sf.base.EventHandler.add(document.body,"keydown",this.documentKeyHandler,this),sf.base.EventHandler.add(this.getContent(),"touchstart",this.tapEvent,this),sf.base.EventHandler.add(window,"resize",this.windowResized,this),sf.base.EventHandler.add(this.element,"contextmenu",this.mouseDownHandler,this),this.options.allowEditing&&sf.base.EventHandler.add(this.element,"dblclick",this.doubleClickHandler,this)},n.prototype.unWireEvents=function(){sf.base.EventHandler.remove(this.element,"mousedown",this.mouseDownHandler),sf.base.EventHandler.remove(this.element,"focus",this.gridFocus),sf.base.EventHandler.remove(document,"click",this.documentClickHandler),sf.base.EventHandler.remove(this.element,"keydown",this.gridKeyDownHandler),sf.base.EventHandler.remove(this.element,"keydown",this.keyDownHandler),sf.base.EventHandler.remove(document.body,"keydown",this.documentKeyHandler),sf.base.EventHandler.remove(this.element,"dblclick",this.doubleClickHandler),sf.base.EventHandler.remove(this.getContent(),"touchstart",this.tapEvent),sf.base.EventHandler.remove(window,"resize",this.windowResized),sf.base.EventHandler.remove(this.element,"contextmenu",this.mouseDownHandler)},n.prototype.windowResized=function(){var e=this;setTimeout((function(){var t=e.element.querySelector(".e-content.e-yscroll");!sf.base.isNullOrUndefined(t)&&t.scrollHeight>t.clientHeight?e.element.querySelector(".e-gridheader").style.paddingRight=o()+"px":e.scrollModule.setPadding()}),100)},n.prototype.doubleClickHandler=function(e){"TD"==e.target.tagName&&e.target.blur()},n.prototype.setOptions=function(e,t){var n=sf.base.extend(t,{});if(this.options=e,!n.allowResizing&&e.allowResizing&&this.resizeModule.render(),(!n.allowGrouping&&e.allowGrouping||!n.allowReordering&&e.allowReordering||e.showDropArea)&&(this.headerDragDrop.initializeHeaderDrag(),this.headerDragDrop.initializeHeaderDrop(),this.groupModule.initializeGHeaderDrag(),this.groupModule.initializeGHeaderDrop()),!n.allowGrouping&&e.allowGrouping&&this.contentDragDrop.initializeContentDrop(),!n.allowRowDragAndDrop&&e.allowRowDragAndDrop?this.rowDragAndDropModule.initializeDrag():n.allowRowDragAndDrop&&!e.allowRowDragAndDrop&&this.rowDragAndDropModule.destroy(),this.isRendered||(this.isRendered=this.options.isPrerendered),n.groupCount!=e.groupCount){var r=this.getHeaderTable().querySelector(".e-emptycell");if(!r)return;r.removeAttribute("indentRefreshed")}},n.prototype.documentClickHandler=function(e){var t=s(e.target,"e-cc-toolbar"),n=s(e.target,"e-gridform"),r=s(e.target,"e-toolbar-item"),o=s(e.target,"e-rowcell");this.options.enableAdaptiveUI||this.targetIsFilterDialog(e)||e.target.classList.contains("e-cc-cancel")||e.target.classList.contains("e-choosercheck")||e.target.classList.contains("e-icon-filter")||t||!this.element.querySelectorAll(".e-filter-popup.e-popup-open").length&&!this.element.querySelectorAll(".e-ccdlg.e-popup-open").length||(null!=this.element.querySelector(".e-datetimepicker")&&this.element.querySelector(".e-datetimepicker").blur(),this.dotNetRef.invokeMethodAsync("FilterPopupClose")),!sf.base.isNullOrUndefined(n)||o||r||this.targetIsFilterDialog(e)||!this.element.querySelector(".e-gridform")||this.dotNetRef.invokeMethodAsync("UpdateChanges")},n.prototype.targetIsFilterDialog=function(e){var t=s(s(e.target,"e-filter-popup"),"e-popup-open"),n=s(s(e.target,"e-ddl"),"e-popup-open"),r=s(s(e.target,"e-selectall"),"e-ftrchk"),o=s(e.target,"e-chkcancel-icon"),i=s(e.target,"e-datepicker"),l=s(e.target,"e-timepicker"),a=s(e.target,"e-daterangepicker")||s(e.target,"e-zoomin"),d=e.target.classList.contains("e-check")||e.target.classList.contains("e-uncheck"),h=s(s(e.target,"e-ccdlg"),"e-popup-open");return!!(t||n||r||o||i||l||a||d||h)},n.prototype.documentKeyHandler=function(e){if(e.altKey&&74===e.keyCode&&!sf.base.isNullOrUndefined(this.element)&&(this.element.focus(),this.dotNetRef.invokeMethodAsync("GridFocus",e)),e.altKey&&87===e.keyCode&&!sf.base.isNullOrUndefined(this.element)){var t=e.target.classList.contains("e-grid"),n=!sf.base.isNullOrUndefined(s(e.target,"e-pager"));this.dotNetRef.invokeMethodAsync("GridKeyDown",{key:e.key,code:e.code,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey},!1,t,n)}},n.prototype.keyDownHandler=function(e){var t=s(e.target,"e-grid"),n=e.target.tagName,r=e.target.classList.contains("e-grid"),o=!sf.base.isNullOrUndefined(s(e.target,"e-pager")),i=!1;if(!(t&&t.id!==this.element.id||"Shift"==e.key||"Control"==e.key||"Alt"==e.key)&&("INPUT"!=n&&"TEXTAREA"!=n||"Delete"!=e.code)){e.target.classList.contains("e-searchinput")&&"Enter"==e.key&&(i=!0);var l=this.isPopUpOpened(e);!l||"Escape"!=e.key&&"Enter"!=e.key||"BODY"!=document.activeElement.tagName||e.target.focus(),"Escape"==e.key&&l&&"true"===e.target.getAttribute("aria-expanded")||this.dotNetRef.invokeMethodAsync("GridKeyDown",{key:e.key,code:e.code,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey},i,r,o)}},n.prototype.isPopUpOpened=function(e){var t=e.target.classList.contains("e-datepicker"),n=e.target.classList.contains("e-datetimepicker"),r=e.target.classList.contains("e-timepicker"),o=e.target.classList.contains("e-daterangepicker"),i=e.target.classList.contains("e-multiselect"),s=e.target.classList.contains("e-ddl"),l=e.target.classList.contains("e-autocomplete"),a=e.target.classList.contains("e-combobox");return t||n||r||o||i||s||l||a},n.prototype.gridKeyDownHandler=function(e){var t=s(e.target,"e-filter-popup"),n=e.target.tagName;!sf.base.isNullOrUndefined(t)&&t.classList.contains("e-popup-open")&&"Escape"!=e.key&&(e.stopPropagation(),"Tab"!=e.key&&"shiftTab"!=e.key&&"Enter"!=e.key&&"shiftEnter"!=e.key||"INPUT"!=n&&"TEXTAREA"!=n||((r=document.createEvent("HTMLEvents")).initEvent("change",!1,!0),e.target.dispatchEvent(r)));(("Tab"==e.key||"Escape"==e.key||"shiftTab"==e.key||"Enter"==e.key||"shiftEnter"==e.key)&&("INPUT"==n||"TEXTAREA"==n||e.target.classList.contains("e-datepicker")||e.target.classList.contains("e-datetimepicker"))||e.target.classList.contains("e-rowcell")&&"F2"==e.key)&&("Tab"==e.key&&(e.target.classList.contains("e-datepicker")||e.target.classList.contains("e-datetimepicker"))||e.target.blur()),"Shift"!=e.key&&"Control"!=e.key&&"Alt"!=e.key||e.stopPropagation(),67===e.keyCode&&e.ctrlKey?this.clipboardModule.copy():72===e.keyCode&&e.ctrlKey&&e.shiftKey&&this.clipboardModule.copy(!0),86===e.keyCode&&e.ctrlKey&&!this.options.isEdit&&(e.stopPropagation(),this.clipboardModule.pasteHandler());var r,o=this.element.querySelector(".e-normaledit");if(!sf.base.isNullOrUndefined(o)&&"Tab"==e.key){var i=Array.from(o.querySelectorAll(".e-rowcell")).filter((function(e){return!(e.classList.contains("e-hide")||e.querySelector(".e-disabled"))}));(!e.shiftKey&&i[i.length-1]==s(e.target,"e-rowcell")||e.shiftKey&&i[0]==s(e.target,"e-rowcell"))&&(this.dotNetRef.invokeMethodAsync("EndEdit"),e.preventDefault())}this.element.querySelector(".e-batchrow")&&("Tab"!=e.key&&"shiftTab"!=e.key&&"Enter"!=e.key&&"shiftEnter"!=e.key&&"Escape"!=e.key&&e.stopPropagation(),("Tab"==e.key||"shiftTab"==e.key||"Enter"==e.key||"shiftEnter"==e.key)&&(e.preventDefault(),("INPUT"==n||"TEXTAREA"==n)&&((r=document.createEvent("HTMLEvents")).initEvent("change",!1,!0),e.target.dispatchEvent(r))))},n.prototype.mouseDownHandler=function(e){var t=s(e.target,"e-grid");if(!t||t.id===this.element.id)if((e.shiftKey||e.ctrlKey)&&e.preventDefault(),-1!==e.button&&2!==e.button&&s(e.target,"e-headercell")||2!==e.button&&s(e.target,"e-detailcell")||s(e.target,"e-detailrowexpand")||s(e.target,"e-detailrowcollapse")||e.target.classList.contains("e-content")||e.target.classList.contains("e-headercontent")||sf.base.closest(e.target,".e-groupdroparea")||sf.base.closest(e.target,".e-gridpopup")||sf.base.closest(e.target,".e-summarycell")||sf.base.closest(e.target,".e-rhandler")||sf.base.closest(e.target,".e-filtermenudiv")||sf.base.closest(e.target,".e-filterbarcell")||sf.base.closest(e.target,".e-groupcaption"))this.dotNetRef.invokeMethodAsync("MouseDownHandler",null,null);else{var n=null,r=null,o=s(s(e.target,"e-gridform"),"e-grid");s(e.target,"e-editcell")||o&&o.id==t.id?n="Edit":s(e.target,"e-pager")?n="Pager":s(e.target,"e-headercontent")?(n="Header",r=s(e.target,"e-headercell")?s(e.target,"e-headercell").getAttribute("data-uid"):null):s(e.target,"e-content")&&(n="Content",r=s(e.target,"e-rowcell")?s(e.target,"e-rowcell").getAttribute("data-uid"):null),"Header"!=n&&"Content"!=n&&"Pager"!=n&&"Edit"!=n||this.dotNetRef.invokeMethodAsync("MouseDownHandler",n,r)}},n.prototype.gridFocus=function(e){!sf.base.isNullOrUndefined(this.element.querySelector(".e-gridform"))&&this.element.querySelector(".e-gridform").classList.contains("e-editing")||this.dotNetRef.invokeMethodAsync("GridFocus",e)},n.prototype.keyActionHandler=function(e){var t=this;"pageUp"!==e.action&&"pageDown"!==e.action&&"ctrlAltPageUp"!==e.action&&"ctrlAltPageDown"!==e.action&&"altPageUp"!==e.action&&"altPageDown"!==e.action&&"altDownArrow"!==e.action&&"ctrlPlusP"!==e.action||e.preventDefault();var n=this.isPopUpOpened(e);"enter"===e.action&&!sf.base.isNullOrUndefined(this.element.querySelector(".e-gridform"))&&this.element.querySelector(".e-gridform").classList.contains("e-editing")&&"Batch"!==this.options.editMode&&(n&&"false"===e.target.getAttribute("aria-expanded")||!n)&&setTimeout((function(){e.target.blur(),t.dotNetRef.invokeMethodAsync("EndEdit")}),40)},n.prototype.destroy=function(e){this.unWireEvents(),this.frozenDragDropModule.unwireEvents(),e&&this.virtualContentModule.removeEventListener(),this.addScrollEvents(!1),this.toolTipModule.destroy(),this.keyModule.destroy(),this.columnChooserModule.removeMediaListener(),this.selectionModule.removeEventListener(),this.rowDragAndDropModule.destroy(),this.headerDragDrop.destroy()},n.prototype.getColumnIndexesInView=function(){return this.inViewIndexes},n.prototype.setColumnIndexesInView=function(e){this.inViewIndexes=e},n.prototype.getRowHeight=function(){return this.options.rowHeight?this.options.rowHeight:function(e){if(void 0!==t)return t;var n=sf.base.createElement("table",{className:"e-table",styles:"visibility: hidden"});n.innerHTML='<tr><td class="e-rowcell">A<td></tr>',e.appendChild(n);var r=n.querySelector("td").getBoundingClientRect();return e.removeChild(n),t=Math.ceil(r.height)}(this.element)},n.prototype.clientActions=function(){!this.options.enableVirtualization||12!==this.options.pageSize&&"auto"!==this.options.width||this.virtualContentModule.ensurePageSize(),this.getColumns().some((function(e){return""!==e.hideAtMedia}))&&this.columnChooserModule.setMediaColumns()},n.prototype.print=function(){this.removeColGroup();var e=window.open("","print","height="+window.outerHeight+",width="+window.outerWidth+",tabbar=no");e.moveTo(0,0),e.resizeTo(screen.availWidth,screen.availHeight),sf.base.print(this.element,e)},n.prototype.removeColGroup=function(){var e=this.options.groupCount,t=this.element,n="#"+this.element.id;if(e){for(var r=t.querySelectorAll(".e-groupcaption"),o=r[e-1].getAttribute("colspan"),i=0;i<r.length;i++)r[i].setAttribute("colspan",o);var s=t.querySelectorAll("colgroup"+n+"colGroup"),l=t.querySelector(".e-content").querySelectorAll("colgroup");this.hideColGroup(s,e),this.hideColGroup(l,e)}},n.prototype.hideColGroup=function(e,t){for(var n=0;n<e.length;n++)for(var r=0;r<t;r++)e[n].children[r].style.display="none"},n.prototype.getModuleName=function(){return"grid"},n}(),J={pageUp:"pageup",pageDown:"pagedown",ctrlAltPageUp:"ctrl+alt+pageup",ctrlAltPageDown:"ctrl+alt+pagedown",altPageUp:"alt+pageup",altPageDown:"alt+pagedown",altDownArrow:"alt+downarrow",altUpArrow:"alt+uparrow",ctrlDownArrow:"ctrl+downarrow",ctrlUpArrow:"ctrl+uparrow",ctrlPlusA:"ctrl+A",ctrlPlusP:"ctrl+P",ctrlPlusC:"ctrl+C",ctrlShiftPlusH:"ctrl+shift+H",enter:"enter"};return{initialize:function(e,t,n,r){sf.base.enableBlazorMode(),new j(e,t,n,r)},contentReady:function(e,t,n){var r=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(r.element)&&!sf.base.isNullOrUndefined(r.element.blazor__instance)){var o=r.element.blazor__instance;o.setOptions(t,o.options),o.options=t,o.scrollModule.setPadding(),o.contentReady(n),t.enableColumnVirtualization&&"100%"==t.height&&o.scrollModule.refresh()}},customFilterDialog:function(e,t,n){var r=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(r.element)&&!sf.base.isNullOrUndefined(r.element.blazor__instance)){var o=document.querySelector("#"+t);if(o.style.maxHeight="100%",o.style.border="1px",o.style.top="0px",n){var i=r.element.querySelector(".e-sfcontextmenu");i.querySelector("li").style.paddingLeft="0px",i.querySelector(".e-caret").style.paddingRight="8px"}}},setCustomFilterDialogPadding:function(e,t){document.querySelector("#"+t).style.padding="16px"},searchClear:function(e,t){var n=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(n.element)&&!sf.base.isNullOrUndefined(n.element.blazor__instance)){var r=document.querySelector("#"+t);r.value="",r.focus()}},updateTableWidth:function(e,t){var n=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(n.element)&&!sf.base.isNullOrUndefined(n.element.blazor__instance)){var r=n.element.blazor__instance;if(r.options.columns=t,r.options.allowResizing&&r.options.isResizedGrid)new v(r).setWidthToTable(t)}},preventResizeAction:function(e,t){var n=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(n.element)||sf.base.isNullOrUndefined(n.element.blazor__instance)||n.element.blazor__instance.resizeModule.preventResizeAction(t)},preventFreezeLineMoving:function(e,t){var n=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(n.element)||sf.base.isNullOrUndefined(n.element.blazor__instance)||n.element.blazor__instance.frozenDragDropModule.preventFreezeLineMoving(t)},freezeLineMovedActions:function(e,t){var n=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(n.element)&&!sf.base.isNullOrUndefined(n.element.blazor__instance)){var r=n.element.blazor__instance;r.options.actualFrozenColumns=t.actualFrozenColumns,r.options.columns=t.columns,r.options.frozenRightCount=t.frozenRightCount,r.options.frozenLeftCount=t.frozenLeftCount,r.options.frozenLeftColumnsCount=t.frozenLeftColumnsCount,r.options.frozenColumns=t.frozenColumns,r.options.isColumnReordered=t.isColumnReordered,r.freezeLineMovedAction(),r.freezeModule.setFrozenHeight()}},frozenHeight:function(e,t,n){var r=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(r.element)&&!sf.base.isNullOrUndefined(r.element.blazor__instance)){var o=r.element.blazor__instance;o.freezeModule.setFrozenHeight(),t.allowTextWrap&&o.freezeModule.refreshRowHeight()}},updateVirtualColumns:function(e,t){var n=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(n.element)&&!sf.base.isNullOrUndefined(n.element.blazor__instance)){var r=n.element.blazor__instance;if(r.options.virtualizedColumns=t,r.options.allowResizing&&0==r.options.frozenColumns&&""!=r.getContent().querySelector("table").style.width)new v(r).setWidthToTable(null,!1,"resize")}},updateOptions:function(e,t){var n=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(n.element)&&!sf.base.isNullOrUndefined(n.element.blazor__instance)){var r=n.element.blazor__instance;r.setOptions(t,r.options)}},virtualHeight:function(e,t,n){var r=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(r.element)&&!sf.base.isNullOrUndefined(r.element.blazor__instance)){var o=r.element.blazor__instance;o.options=t,o.options.totalItemCount=n,o.virtualContentModule.refreshOffsets(),o.virtualContentModule.setVirtualHeight()}},lazyGroupExpand:function(e,t){var n=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(n.element)&&!sf.base.isNullOrUndefined(n.element.blazor__instance)){var r=n.element.blazor__instance;r.setOptions(t,r.options),r.options=t,r.options.enableVirtualization&&r.virtualContentModule.onDataReady()}},viewRefresh:function(e,t){if(!sf.base.isNullOrUndefined(e)&&!sf.base.isNullOrUndefined(e.blazor__instance)){e.blazor__instance;var n=void 0;n=new v(this);var r=(t=t.filter((function(e){return e.visible}))).some((function(e){return""==e.width||null==e.width}));n.setWidthToTable(t,r)}},virtualDisconnect:function(e,t){var n=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(n.element)||sf.base.isNullOrUndefined(n.element.blazor__instance)||sf.base.isNullOrUndefined(n.element.blazor__instance.virtualContentModule)||(n.element.blazor__instance.options.enableVirtualization=t.enableVirtualization,n.element.blazor__instance.virtualContentModule.observer.disconnect())},reorderColumns:function(e,t,n){var r=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(r.element)||sf.base.isNullOrUndefined(r.element.blazor__instance)||r.element.blazor__instance.reorderModule.reorderColumns(t,n)},reorderColumnByIndex:function(e,t,n){var r=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(r.element)||sf.base.isNullOrUndefined(r.element.blazor__instance)||r.element.blazor__instance.reorderModule.reorderColumnByIndex(t,n)},reorderColumnByTargetIndex:function(e,t,n){var r=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(r.element)||sf.base.isNullOrUndefined(r.element.blazor__instance)||r.element.blazor__instance.reorderModule.reorderColumnByTargetIndex(t,n)},renderColumnChooser:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t.element)||sf.base.isNullOrUndefined(t.element.blazor__instance)||t.element.blazor__instance.columnChooserModule.renderColumnChooser()},renderColumnMenu:function(e,t,n,r){var o=window.sfBlazor.getCompInstance(e);return sf.base.isNullOrUndefined(o.element)||sf.base.isNullOrUndefined(o.element.blazor__instance)?{Left:1,Top:1}:o.element.blazor__instance.columnMenuModule.renderColumnMenu(t,n,r)},filterPopupRender:function(e,t,n,r,o){var i=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(i.element)||sf.base.isNullOrUndefined(i.element.blazor__instance)||i.element.blazor__instance.filterModule.filterPopupRender(t,n,r,o)},clientHeight:function(e){var t=window.sfBlazor.getCompInstance(e);return sf.base.isNullOrUndefined(t.element)||sf.base.isNullOrUndefined(t.element.blazor__instance)?0:Math.max(t.element.blazor__instance.content.clientHeight,window.innerHeight||0)},clientTransformUpdate:function(e,t,n){var r=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(r.element)||sf.base.isNullOrUndefined(r.element.blazor__instance)||r.element.blazor__instance.virtualContentModule.updateTransform(t,n)},updatePersistedGrid:function(e,t,n,r,o){var i=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(i.element)&&!sf.base.isNullOrUndefined(i.element.blazor__instance)){var s=i.element.blazor__instance;if(t&&(s.options.columns=r,s.resizeModule.autoFitColumns(o)),n)new v(s).setPersistedWidth(r[0])}},refreshColumnIndex:function(e,t){var n=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(n.element)&&!sf.base.isNullOrUndefined(n.element.blazor__instance)){var r=n.element.blazor__instance;r.options.columns=t,r.virtualContentModule.refreshColumnIndexes()}},focus:function(e,t,n,r){var o=window.sfBlazor.getCompInstance(e),i=o.element.querySelector('[data-uid="'+n+'"]');if(!sf.base.isNullOrUndefined(o.element)&&!sf.base.isNullOrUndefined(o.element.blazor__instance)&&!sf.base.isNullOrUndefined(i)){var s=o.element.blazor__instance;s.options.enableVirtualization?s.virtualContentModule.focusCell(i,r):i.focus()}},focusFilterBar:function(e,t){var n=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(n.element)||sf.base.isNullOrUndefined(n.element.blazor__instance)||("Tab"==t?document.activeElement.classList.contains("e-headercell")&&(n.element.querySelector(".e-headercell.e-focus.e-focused").blur(),n.element.querySelector(".e-filterbarcell")[0].focus()):"ShiftTab"==t&&document.activeElement.classList.contains("e-rowcell")&&(n.element.querySelector(".e-rowcell.e-focus.e-focused").blur(),n.element.querySelector(".e-filterbarcell:last-child").focus()))},focusFirstGroupHeader:function(e){var t=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(t.element)&&!sf.base.isNullOrUndefined(t.element.blazor__instance)){var n=t.element.querySelector(".e-groupheadercell");sf.base.isNullOrUndefined(n)||n.focus()}},focusExcelInput:function(e,t){var n=window.sfBlazor.getCompInstance(e),r=document.querySelector("#"+t+"_excelDlg");sf.base.isNullOrUndefined(n.element)||sf.base.isNullOrUndefined(n.element.blazor__instance)||sf.base.isNullOrUndefined(r)||setTimeout((function(){r.querySelector("#"+n.element.id+"_SearchBox").focus()}),10)},refreshOnDataChange:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t.element)||sf.base.isNullOrUndefined(t.element.blazor__instance)||t.element.blazor__instance.virtualContentModule.refreshOnDataChange()},updateAutofillPosition:function(e,t,n){var r=window.sfBlazor.getCompInstance(e);return sf.base.isNullOrUndefined(r.element)||sf.base.isNullOrUndefined(r.element.blazor__instance)?null:r.element.blazor__instance.selectionModule.updateAutofillPosition(t,n)},createBorder:function(e,t,n){var r=window.sfBlazor.getCompInstance(e);return sf.base.isNullOrUndefined(r.element)||sf.base.isNullOrUndefined(r.element.blazor__instance)?null:r.element.blazor__instance.selectionModule.createBorder(t,n)},removePersistItem:function(e,t){var n=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(n.element)&&!sf.base.isNullOrUndefined(n.element.blazor__instance)){var r=n.element.blazor__instance;r.getHeaderTable().style.width="",r.getContentTable().style.width="",0!=r.options.aggregatesCount&&(r.getFooterContent().querySelector(".e-table").style.width=""),r.options.frozenColumns>0&&(r.element.querySelector(".e-movableheader").querySelector(".e-table").style.width="",r.element.querySelector(".e-movablecontent").querySelector(".e-table").style.width="")}localStorage.removeItem(t)},focusChild:function(e,t,n){var r=window.sfBlazor.getCompInstance(e),o=[].slice.call(r.element.querySelector('[data-uid="'+n+'"]').querySelectorAll('button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])'));return o.length>0?o[0].focus():r.element.querySelector('[data-uid="'+n+'"]').focus(),!!o.length},exportSave:function(e,t){if(navigator.msSaveBlob){for(var n=window.atob(t),r=new Uint8Array(n.length),o=0;o<n.length;o++)r[o]=n.charCodeAt(o);var i=new Blob([r.buffer],{type:"application/octet-stream"});navigator.msSaveBlob(i,e)}else{var s=document.createElement("a");s.download=e,s.href="data:application/octet-stream;base64,"+t,document.body.appendChild(s),s.click(),document.body.removeChild(s)}},destroy:function(e,t){var n=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(n.element)||sf.base.isNullOrUndefined(n.element.blazor__instance)||n.element.blazor__instance.destroy(t)},validation:function(e,t,n){var r=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(r.element)||sf.base.isNullOrUndefined(r.element.blazor__instance)||r.element.blazor__instance.editModule.createTooltip(t,n)},focusCell:function(e,t,n,r){void 0===r&&(r=!1);var o=window.sfBlazor.getCompInstance(e);n&&!sf.base.isNullOrUndefined(o.element)&&!sf.base.isNullOrUndefined(o.element.blazor__instance)&&o.element.blazor__instance.options.frozenColumns&&(o.element.querySelector(".e-frozencontent").style.height=o.element.querySelector(".e-movablecontent").getBoundingClientRect().height+"px");var i="#"+t.replace(/[.]/g,"___");if(r)for(var s=[].slice.call(o.element.querySelectorAll("form")),l=void 0,a=0;a<s.length;a++)(l=s[a].querySelector("td:not(.e-hide)")).style.height=sf.base.closest(l,".e-row").getBoundingClientRect().height+"px";""===t&&o.element.querySelector("input.e-boolcell")?o.element.querySelector("input.e-boolcell").focus():""!==t&&o.element.querySelector(i)&&o.element.querySelector(i).focus()},CurrentPageFocus:function(e,t,n){var r=window.sfBlazor.getCompInstance(e).element.querySelector(".e-numericcontainer");"PreviousPage"==t||r.querySelectorAll(".e-link:last-child")[0].innerText!=n?r.querySelector(".e-link").focus():r.querySelectorAll(".e-link:last-child")[0].focus()},pagerFocus:function(e,t){var n=window.sfBlazor.getCompInstance(e).element.querySelector(".e-gridpager").querySelector(".e-pagercontainer"),r=n.querySelector(".e-numericcontainer"),o=n.querySelector(".e-firstpage.e-pager-default"),i=n.querySelector(".e-prevpage.e-pager-default");if("ArrowDown"===t)return o?(o.focus(),"FirstPage"):i?(o.focus(),"PreviousPage"):(r.querySelectorAll(".e-link")[1].focus(),"1");if("ArrowRight"==t)return null!=o&&o.classList.contains("e-focused")?(i.focus(),"PreviousPage"):null!=i&&i.classList.contains("e-focused")||null!=n.querySelector(".e-pp.e-focused")?null==n.querySelector(".e-pp")||n.querySelector(".e-pp").classList.contains("e-focused")?(r.querySelectorAll(".e-link")[0].focus(),r.querySelectorAll(".e-link")[0].innerText):(n.querySelector(".e-pp").focus(),"PreviousPagerCount"):r.querySelectorAll(".e-link.e-focused").length>0&&null!=n.querySelector(".e-link.e-focused")&&null!=n.querySelector(".e-link.e-focused").nextElementSibling?(r.querySelector(".e-link.e-focused").nextElementSibling.focus(),r.querySelector(".e-link.e-focused").nextElementSibling.innerText):r.querySelectorAll(".e-link.e-focused").length>0&&null!=n.querySelector(".e-np")&&null==n.querySelector(".e-np.e-focused")?(n.querySelector(".e-np").focus(),"NextPagerCount"):r.querySelectorAll(".e-link.e-focused").length>0||n.querySelectorAll(".e-np.e-focused").length>0?null!=n.querySelector(".e-nextpage")?(n.querySelector(".e-nextpage").focus(),"NextPage"):(r.querySelector(".e-link.e-focused").focus(),r.querySelector(".e-link.e-focused").innerText):(n.querySelector(".e-nextpage.e-focused"),n.querySelector(".e-lastpage").focus(),"LastPage");if("ArrowLeft"==t){if(null!=i&&i.classList.contains("e-focused"))return o.focus(),"FirstPage";if(i&&n.querySelector(".e-pp.e-focused"))return i.focus(),"PreviousPage";if(r.querySelectorAll(".e-link")[0].classList.contains("e-focused"))return null!=n.querySelector(".e-pp")?(n.querySelector(".e-pp").focus(),"PreviousPagerCount"):i?(i.focus(),"PreviousPage"):(r.querySelectorAll(".e-link")[0].focus(),"1");if(r.querySelectorAll(".e-link.e-focused").length>0)return r.querySelector(".e-link.e-focused").previousElementSibling.focus(),r.querySelector(".e-link.e-focused").previousElementSibling.innerText;if(n.querySelectorAll(".e-nextpage.e-focused").length>0&&null!=n.querySelector(".e-np"))return n.querySelector(".e-np").focus(),"NextPagerCount";if(n.querySelectorAll(".e-nextpage.e-focused").length>0||n.querySelectorAll(".e-np.e-focused").length>0){var s=r.querySelectorAll(".e-link").length;return r.querySelectorAll(".e-link")[s-1].focus(),r.querySelectorAll(".e-link:last-child")[0].innerText}return null!=n.querySelector(".e-lastpage.e-focused")?(n.querySelector(".e-nextpage").focus(),"NextPage"):o.classList.contains(".e-disabled")?"0":(o.focus(),"FirstPage")}return"0"},setFrozenHeight:function(e){e.querySelector(".e-frozencontent").style.height=e.querySelector(".e-movablecontent").offsetHeight-o()+"px"},printGrid:function(e){var t=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(t.element)||sf.base.isNullOrUndefined(t.element.blazor__instance)||t.element.blazor__instance.print()},updateMediaColumns:function(e,t){var n=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(n.element)||sf.base.isNullOrUndefined(n.element.blazor__instance)||n.element.blazor__instance.columnChooserModule.updateMediaColumns(t)},copyToClipBoard:function(e,t){var n=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(n.element)||sf.base.isNullOrUndefined(n.element.blazor__instance)||n.element.blazor__instance.clipboardModule.copy(t)},setMediaColumns:function(e,t){var n=window.sfBlazor.getCompInstance(e);sf.base.isNullOrUndefined(n.element)||sf.base.isNullOrUndefined(n.element.blazor__instance)||n.element.blazor__instance.columnChooserModule.setMediaColumns(t)},gridFocus:function(e){var t=window.sfBlazor.getCompInstance(e);if(!sf.base.isNullOrUndefined(t.element)){if(t.element.querySelectorAll(".e-groupheadercell").length>0&&document.activeElement.classList.contains("e-headercell")){var n=t.element.querySelectorAll(".e-ungroupbutton").length;return void t.element.querySelectorAll(".e-ungroupbutton")[n-1].focus()}if(0==t.element.querySelectorAll(".e-groupheadercell").length&&t.options.allowGrouping&&document.activeElement.classList.contains("e-headercell"))return void t.element.querySelector(".e-groupdroparea").focus();t.element.focus()}},isMacDevice:function(){return-1!==navigator.userAgent.indexOf("Mac OS")},scrollIntoView:function(e,t,n,r,o){void 0===o&&(o=!1);var i=window.sfBlazor.getCompInstance(e).element.blazor__instance,s=i.getContent();o?s.scrollTop=s.scrollHeight:-1!=n&&(s.scrollTop=-1!=r?n*r:n*i.getRowHeight()),s=i.options.frozenColumns?i.scrollModule.getMovableContent():s;var l=i.virtualContentModule.vHelper.cOffsets,a=i.nColumnOffsets;setTimeout((function(){if(i.options.frozenColumns||-1==t||(i.options.enableColumnVirtualization?s.scrollLeft=l[t-1]:s.scrollLeft=a[t-1]),i.options.enableColumnVirtualization&&t>0&&i.options.frozenColumns){var e=t-(i.virtualContentModule.movableColumnIndex+1);s.scrollLeft=l[e]}}),20)}}}()}}]);(async()=>{await import(`${document.baseURI}_content/Syncfusion.Blazor.Core/scripts/syncfusion-blazor-base.min.js?v=20.3.49`).then(()=>{sfBlazor.loadDependencies('sfgrid');})})();